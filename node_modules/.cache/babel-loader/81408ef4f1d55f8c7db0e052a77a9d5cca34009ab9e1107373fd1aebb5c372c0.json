{"ast":null,"code":"import { parse, stringify } from 'qs';\nimport 'isomorphic-fetch';\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n  return _construct.apply(null, arguments);\n}\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n      _cache.set(Class, Wrapper);\n    }\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n  return _wrapNativeSuper(Class);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\n// 返回一个组合了所有插件的“插件”\nfunction compose(middlewares) {\n  if (!Array.isArray(middlewares)) throw new TypeError('Middlewares must be an array!');\n  var middlewaresLen = middlewares.length;\n  for (var i = 0; i < middlewaresLen; i++) {\n    if (typeof middlewares[i] !== 'function') {\n      throw new TypeError('Middleware must be componsed of function');\n    }\n  }\n  return function wrapMiddlewares(params, next) {\n    var index = -1;\n    function dispatch(i) {\n      if (i <= index) {\n        return Promise.reject(new Error('next() should not be called multiple times in one middleware!'));\n      }\n      index = i;\n      var fn = middlewares[i] || next;\n      if (!fn) return Promise.resolve();\n      try {\n        return Promise.resolve(fn(params, function () {\n          return dispatch(i + 1);\n        }));\n      } catch (err) {\n        return Promise.reject(err);\n      }\n    }\n    return dispatch(0);\n  };\n}\nvar Onion = /*#__PURE__*/function () {\n  function Onion(defaultMiddlewares) {\n    _classCallCheck(this, Onion);\n    if (!Array.isArray(defaultMiddlewares)) throw new TypeError('Default middlewares must be an array!');\n    this.defaultMiddlewares = _toConsumableArray(defaultMiddlewares);\n    this.middlewares = [];\n  }\n  _createClass(Onion, [{\n    key: \"use\",\n    value:\n    // 内置内核中间件长度\n    function use(newMiddleware) {\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        global: false,\n        core: false,\n        defaultInstance: false\n      };\n      var core = false;\n      var global = false;\n      var defaultInstance = false;\n      if (typeof opts === 'number') {\n        if (process && process.env && process.env.NODE_ENV === 'development') {\n          console.warn('use() options should be object, number property would be deprecated in future，please update use() options to \"{ core: true }\".');\n        }\n        core = true;\n        global = false;\n      } else if (_typeof(opts) === 'object' && opts) {\n        global = opts.global || false;\n        core = opts.core || false;\n        defaultInstance = opts.defaultInstance || false;\n      } // 全局中间件\n\n      if (global) {\n        Onion.globalMiddlewares.splice(Onion.globalMiddlewares.length - Onion.defaultGlobalMiddlewaresLength, 0, newMiddleware);\n        return;\n      } // 内核中间件\n\n      if (core) {\n        Onion.coreMiddlewares.splice(Onion.coreMiddlewares.length - Onion.defaultCoreMiddlewaresLength, 0, newMiddleware);\n        return;\n      } // 默认实例中间件，供开发者使用\n\n      if (defaultInstance) {\n        this.defaultMiddlewares.push(newMiddleware);\n        return;\n      } // 实例中间件\n\n      this.middlewares.push(newMiddleware);\n    }\n  }, {\n    key: \"execute\",\n    value: function execute() {\n      var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var fn = compose([].concat(_toConsumableArray(this.middlewares), _toConsumableArray(this.defaultMiddlewares), _toConsumableArray(Onion.globalMiddlewares), _toConsumableArray(Onion.coreMiddlewares)));\n      return fn(params);\n    }\n  }]);\n  return Onion;\n}();\nOnion.globalMiddlewares = [];\nOnion.defaultGlobalMiddlewaresLength = 0;\nOnion.coreMiddlewares = [];\nOnion.defaultCoreMiddlewaresLength = 0;\nvar MapCache = /*#__PURE__*/function () {\n  function MapCache(options) {\n    _classCallCheck(this, MapCache);\n    this.cache = new Map();\n    this.timer = {};\n    this.extendOptions(options);\n  }\n  _createClass(MapCache, [{\n    key: \"extendOptions\",\n    value: function extendOptions(options) {\n      this.maxCache = options.maxCache || 0;\n    }\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      return this.cache.get(JSON.stringify(key));\n    }\n  }, {\n    key: \"set\",\n    value: function set(key, value) {\n      var _this = this;\n      var ttl = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 60000;\n\n      // 如果超过最大缓存数, 删除头部的第一个缓存.\n      if (this.maxCache > 0 && this.cache.size >= this.maxCache) {\n        var deleteKey = _toConsumableArray(this.cache.keys())[0];\n        this.cache.delete(deleteKey);\n        if (this.timer[deleteKey]) {\n          clearTimeout(this.timer[deleteKey]);\n        }\n      }\n      var cacheKey = JSON.stringify(key);\n      this.cache.set(cacheKey, value);\n      if (ttl > 0) {\n        this.timer[cacheKey] = setTimeout(function () {\n          _this.cache.delete(cacheKey);\n          delete _this.timer[cacheKey];\n        }, ttl);\n      }\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(key) {\n      var cacheKey = JSON.stringify(key);\n      delete this.timer[cacheKey];\n      return this.cache.delete(cacheKey);\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.timer = {};\n      return this.cache.clear();\n    }\n  }]);\n  return MapCache;\n}();\n/**\n * 请求异常\n */\n\nvar RequestError = /*#__PURE__*/function (_Error) {\n  _inherits(RequestError, _Error);\n  var _super = _createSuper(RequestError);\n  function RequestError(text, request) {\n    var _this2;\n    var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'RequestError';\n    _classCallCheck(this, RequestError);\n    _this2 = _super.call(this, text);\n    _this2.name = 'RequestError';\n    _this2.request = request;\n    _this2.type = type;\n    return _this2;\n  }\n  return RequestError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/**\n * 响应异常\n */\n\nvar ResponseError = /*#__PURE__*/function (_Error2) {\n  _inherits(ResponseError, _Error2);\n  var _super2 = _createSuper(ResponseError);\n  function ResponseError(response, text, data, request) {\n    var _this3;\n    var type = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 'ResponseError';\n    _classCallCheck(this, ResponseError);\n    _this3 = _super2.call(this, text || response.statusText);\n    _this3.name = 'ResponseError';\n    _this3.data = data;\n    _this3.response = response;\n    _this3.request = request;\n    _this3.type = type;\n    return _this3;\n  }\n  return ResponseError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/**\n * http://gitlab.alipay-inc.com/KBSJ/gxt/blob/release_gxt_S8928905_20180531/src/util/request.js#L63\n * 支持gbk\n */\n\nfunction readerGBK(file) {\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n    reader.onload = function () {\n      resolve(reader.result);\n    };\n    reader.onerror = reject;\n    reader.readAsText(file, 'GBK'); // setup GBK decoding\n  });\n}\n/**\n * 安全的JSON.parse\n */\n\nfunction safeJsonParse(data) {\n  var throwErrIfParseFail = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var response = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  var request = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n  try {\n    return JSON.parse(data);\n  } catch (e) {\n    if (throwErrIfParseFail) {\n      throw new ResponseError(response, 'JSON.parse fail', data, request, 'ParseError');\n    }\n  } // eslint-disable-line no-empty\n\n  return data;\n}\nfunction timeout2Throw(msec, timeoutMessage, request) {\n  return new Promise(function (_, reject) {\n    setTimeout(function () {\n      reject(new RequestError(timeoutMessage || \"timeout of \".concat(msec, \"ms exceeded\"), request, 'Timeout'));\n    }, msec);\n  });\n} // If request options contain 'cancelToken', reject request when token has been canceled\n\nfunction cancel2Throw(opt) {\n  return new Promise(function (_, reject) {\n    if (opt.cancelToken) {\n      opt.cancelToken.promise.then(function (cancel) {\n        reject(cancel);\n      });\n    }\n  });\n}\nvar toString = Object.prototype.toString; // Check env is browser or node\n\nfunction getEnv() {\n  var env; // Only Node.JS has a process variable that is of [[Class]] process\n\n  if (typeof process !== 'undefined' && toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    env = 'NODE';\n  }\n  if (typeof XMLHttpRequest !== 'undefined') {\n    env = 'BROWSER';\n  }\n  return env;\n}\nfunction isArray(val) {\n  return _typeof(val) === 'object' && Object.prototype.toString.call(val) === '[object Array]';\n}\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\nfunction isDate(val) {\n  return _typeof(val) === 'object' && Object.prototype.toString.call(val) === '[object Date]';\n}\nfunction isObject(val) {\n  return val !== null && _typeof(val) === 'object';\n}\nfunction forEach2ObjArr(target, callback) {\n  if (!target) return;\n  if (_typeof(target) !== 'object') {\n    target = [target];\n  }\n  if (isArray(target)) {\n    for (var i = 0; i < target.length; i++) {\n      callback.call(null, target[i], i, target);\n    }\n  } else {\n    for (var key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        callback.call(null, target[key], key, target);\n      }\n    }\n  }\n}\nfunction getParamObject(val) {\n  if (isURLSearchParams(val)) {\n    return parse(val.toString(), {\n      strictNullHandling: true\n    });\n  }\n  if (typeof val === 'string') {\n    return [val];\n  }\n  return val;\n}\nfunction reqStringify(val) {\n  return stringify(val, {\n    arrayFormat: 'repeat',\n    strictNullHandling: true\n  });\n}\nfunction mergeRequestOptions(options, options2Merge) {\n  return _objectSpread2(_objectSpread2(_objectSpread2({}, options), options2Merge), {}, {\n    headers: _objectSpread2(_objectSpread2({}, options.headers), options2Merge.headers),\n    params: _objectSpread2(_objectSpread2({}, getParamObject(options.params)), getParamObject(options2Merge.params)),\n    method: (options2Merge.method || options.method || 'get').toLowerCase()\n  });\n}\n\n// 前后缀拦截\nvar addfix = function addfix(url) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var prefix = options.prefix,\n    suffix = options.suffix;\n  if (prefix) {\n    url = \"\".concat(prefix).concat(url);\n  }\n  if (suffix) {\n    url = \"\".concat(url).concat(suffix);\n  }\n  return {\n    url: url,\n    options: options\n  };\n};\nvar warnedCoreType = false; // 默认缓存判断，开放缓存判断给非 get 请求使用\n\nfunction __defaultValidateCache(url, options) {\n  var _options$method = options.method,\n    method = _options$method === void 0 ? 'get' : _options$method;\n  return method.toLowerCase() === 'get';\n}\nfunction fetchMiddleware(ctx, next) {\n  if (!ctx) return next();\n  var _ctx$req = ctx.req;\n  _ctx$req = _ctx$req === void 0 ? {} : _ctx$req;\n  var _ctx$req$options = _ctx$req.options,\n    options = _ctx$req$options === void 0 ? {} : _ctx$req$options,\n    _ctx$req$url = _ctx$req.url,\n    url = _ctx$req$url === void 0 ? '' : _ctx$req$url,\n    cache = ctx.cache,\n    responseInterceptors = ctx.responseInterceptors;\n  var _options$timeout = options.timeout,\n    timeout = _options$timeout === void 0 ? 0 : _options$timeout,\n    timeoutMessage = options.timeoutMessage,\n    _options$__umiRequest = options.__umiRequestCoreType__,\n    __umiRequestCoreType__ = _options$__umiRequest === void 0 ? 'normal' : _options$__umiRequest,\n    _options$useCache = options.useCache,\n    useCache = _options$useCache === void 0 ? false : _options$useCache,\n    _options$method2 = options.method,\n    method = _options$method2 === void 0 ? 'get' : _options$method2,\n    params = options.params,\n    ttl = options.ttl,\n    _options$validateCach = options.validateCache,\n    validateCache = _options$validateCach === void 0 ? __defaultValidateCache : _options$validateCach;\n  if (__umiRequestCoreType__ !== 'normal') {\n    if (process && process.env && process.env.NODE_ENV === 'development' && warnedCoreType === false) {\n      warnedCoreType = true;\n      console.warn('__umiRequestCoreType__ is a internal property that use in umi-request, change its value would affect the behavior of request! It only use when you want to extend or use request core.');\n    }\n    return next();\n  }\n  var adapter = fetch;\n  if (!adapter) {\n    throw new Error('Global fetch not exist!');\n  } // 从缓存池检查是否有缓存数据\n\n  var isBrowser = getEnv() === 'BROWSER';\n  var needCache = validateCache(url, options) && useCache && isBrowser;\n  if (needCache) {\n    var responseCache = cache.get({\n      url: url,\n      params: params,\n      method: method\n    });\n    if (responseCache) {\n      responseCache = responseCache.clone();\n      responseCache.useCache = true;\n      ctx.res = responseCache;\n      return next();\n    }\n  }\n  var response; // 超时处理、取消请求处理\n\n  if (timeout > 0) {\n    response = Promise.race([cancel2Throw(options), adapter(url, options), timeout2Throw(timeout, timeoutMessage, ctx.req)]);\n  } else {\n    response = Promise.race([cancel2Throw(options), adapter(url, options)]);\n  } // 兼容老版本 response.interceptor\n\n  responseInterceptors.forEach(function (handler) {\n    response = response.then(function (res) {\n      // Fix multiple clones not working, issue: https://github.com/github/fetch/issues/504\n      var clonedRes = typeof res.clone === 'function' ? res.clone() : res;\n      return handler(clonedRes, options);\n    });\n  });\n  return response.then(function (res) {\n    // 是否存入缓存池\n    if (needCache) {\n      if (res.status === 200) {\n        var copy = res.clone();\n        copy.useCache = true;\n        cache.set({\n          url: url,\n          params: params,\n          method: method\n        }, copy, ttl);\n      }\n    }\n    ctx.res = res;\n    return next();\n  });\n}\nfunction parseResponseMiddleware(ctx, next) {\n  var copy;\n  return next().then(function () {\n    if (!ctx) return;\n    var _ctx$res = ctx.res,\n      res = _ctx$res === void 0 ? {} : _ctx$res,\n      _ctx$req = ctx.req,\n      req = _ctx$req === void 0 ? {} : _ctx$req;\n    var _ref = req || {},\n      _ref$options = _ref.options;\n    _ref$options = _ref$options === void 0 ? {} : _ref$options;\n    var _ref$options$response = _ref$options.responseType,\n      responseType = _ref$options$response === void 0 ? 'json' : _ref$options$response,\n      _ref$options$charset = _ref$options.charset,\n      charset = _ref$options$charset === void 0 ? 'utf8' : _ref$options$charset,\n      _ref$options$getRespo = _ref$options.getResponse,\n      _ref$options$throwErr = _ref$options.throwErrIfParseFail,\n      throwErrIfParseFail = _ref$options$throwErr === void 0 ? false : _ref$options$throwErr,\n      _ref$options$parseRes = _ref$options.parseResponse,\n      parseResponse = _ref$options$parseRes === void 0 ? true : _ref$options$parseRes;\n    if (!parseResponse) {\n      return;\n    }\n    if (!res || !res.clone) {\n      return;\n    } // 只在浏览器环境对 response 做克隆， node 环境如果对 response 克隆会有问题：https://github.com/bitinn/node-fetch/issues/553\n\n    copy = getEnv() === 'BROWSER' ? res.clone() : res;\n    copy.useCache = res.useCache || false; // 解析数据\n\n    if (charset === 'gbk') {\n      try {\n        return res.blob().then(readerGBK).then(function (d) {\n          return safeJsonParse(d, false, copy, req);\n        });\n      } catch (e) {\n        throw new ResponseError(copy, e.message, null, req, 'ParseError');\n      }\n    } else if (responseType === 'json') {\n      return res.text().then(function (d) {\n        return safeJsonParse(d, throwErrIfParseFail, copy, req);\n      });\n    }\n    try {\n      // 其他如text, blob, arrayBuffer, formData\n      return res[responseType]();\n    } catch (e) {\n      throw new ResponseError(copy, 'responseType not support', null, req, 'ParseError');\n    }\n  }).then(function (body) {\n    if (!ctx) return;\n    var _ctx$res2 = ctx.res,\n      _ctx$req2 = ctx.req,\n      req = _ctx$req2 === void 0 ? {} : _ctx$req2;\n    var _ref2 = req || {},\n      _ref2$options = _ref2.options;\n    _ref2$options = _ref2$options === void 0 ? {} : _ref2$options;\n    var _ref2$options$getResp = _ref2$options.getResponse,\n      getResponse = _ref2$options$getResp === void 0 ? false : _ref2$options$getResp;\n    if (!copy) {\n      return;\n    }\n    if (copy.status >= 200 && copy.status < 300) {\n      // 提供源response, 以便自定义处理\n      if (getResponse) {\n        ctx.res = {\n          data: body,\n          response: copy\n        };\n        return;\n      }\n      ctx.res = body;\n      return;\n    }\n    throw new ResponseError(copy, 'http error', body, req, 'HttpError');\n  }).catch(function (e) {\n    if (e instanceof RequestError || e instanceof ResponseError) {\n      throw e;\n    } // 对未知错误进行处理\n\n    var req = ctx.req,\n      res = ctx.res;\n    e.request = e.request || req;\n    e.response = e.response || res;\n    e.type = e.type || e.name;\n    e.data = e.data || undefined;\n    throw e;\n  });\n}\nfunction simplePostMiddleware(ctx, next) {\n  if (!ctx) return next();\n  var _ctx$req = ctx.req;\n  _ctx$req = _ctx$req === void 0 ? {} : _ctx$req;\n  var _ctx$req$options = _ctx$req.options,\n    options = _ctx$req$options === void 0 ? {} : _ctx$req$options;\n  var _options$method = options.method,\n    method = _options$method === void 0 ? 'get' : _options$method;\n  if (['post', 'put', 'patch', 'delete'].indexOf(method.toLowerCase()) === -1) {\n    return next();\n  }\n  var _options$requestType = options.requestType,\n    requestType = _options$requestType === void 0 ? 'json' : _options$requestType,\n    data = options.data; // 数据使用类axios的新字段data, 避免引用后影响旧代码, 如将body stringify多次\n\n  if (data) {\n    var dataType = Object.prototype.toString.call(data);\n    if (dataType === '[object Object]' || dataType === '[object Array]') {\n      if (requestType === 'json') {\n        options.headers = _objectSpread2({\n          Accept: 'application/json',\n          'Content-Type': 'application/json;charset=UTF-8'\n        }, options.headers);\n        options.body = JSON.stringify(data);\n      } else if (requestType === 'form') {\n        options.headers = _objectSpread2({\n          Accept: 'application/json',\n          'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n        }, options.headers);\n        options.body = reqStringify(data);\n      }\n    } else {\n      // 其他 requestType 自定义header\n      options.headers = _objectSpread2({\n        Accept: 'application/json'\n      }, options.headers);\n      options.body = data;\n    }\n  }\n  ctx.req.options = options;\n  return next();\n}\nfunction paramsSerialize(params, paramsSerializer) {\n  var serializedParams;\n  var jsonStringifiedParams; // 支持参数自动拼装，其他 method 也可用，不冲突\n\n  if (params) {\n    if (paramsSerializer) {\n      serializedParams = paramsSerializer(params);\n    } else if (isURLSearchParams(params)) {\n      serializedParams = params.toString();\n    } else {\n      if (isArray(params)) {\n        jsonStringifiedParams = [];\n        forEach2ObjArr(params, function (item) {\n          if (item === null || typeof item === 'undefined') {\n            jsonStringifiedParams.push(item);\n          } else {\n            jsonStringifiedParams.push(isObject(item) ? JSON.stringify(item) : item);\n          }\n        }); // a: [1,2,3] => a=1&a=2&a=3\n\n        serializedParams = reqStringify(jsonStringifiedParams);\n      } else {\n        jsonStringifiedParams = {};\n        forEach2ObjArr(params, function (value, key) {\n          var jsonStringifiedValue = value;\n          if (value === null || typeof value === 'undefined') {\n            jsonStringifiedParams[key] = value;\n          } else if (isDate(value)) {\n            jsonStringifiedValue = value.toISOString();\n          } else if (isArray(value)) {\n            jsonStringifiedValue = value;\n          } else if (isObject(value)) {\n            jsonStringifiedValue = JSON.stringify(value);\n          }\n          jsonStringifiedParams[key] = jsonStringifiedValue;\n        });\n        var tmp = reqStringify(jsonStringifiedParams);\n        serializedParams = tmp;\n      }\n    }\n  }\n  return serializedParams;\n} // 对请求参数做处理，实现 query 简化、 post 简化\n\nfunction simpleGetMiddleware(ctx, next) {\n  if (!ctx) return next();\n  var _ctx$req = ctx.req;\n  _ctx$req = _ctx$req === void 0 ? {} : _ctx$req;\n  var _ctx$req$options = _ctx$req.options,\n    options = _ctx$req$options === void 0 ? {} : _ctx$req$options;\n  var paramsSerializer = options.paramsSerializer,\n    params = options.params;\n  var _ctx$req2 = ctx.req;\n  _ctx$req2 = _ctx$req2 === void 0 ? {} : _ctx$req2;\n  var _ctx$req2$url = _ctx$req2.url,\n    url = _ctx$req2$url === void 0 ? '' : _ctx$req2$url; // 将 method 改为大写\n\n  options.method = options.method ? options.method.toUpperCase() : 'GET'; // 设置 credentials 默认值为 same-origin，确保当开发者没有设置时，各浏览器对请求是否发送 cookies 保持一致的行为\n  // - omit: 从不发送cookies.\n  // - same-origin: 只有当URL与响应脚本同源才发送 cookies、 HTTP Basic authentication 等验证信息.(浏览器默认值,在旧版本浏览器，例如safari 11依旧是omit，safari 12已更改)\n  // - include: 不论是不是跨域的请求,总是发送请求资源域在本地的 cookies、 HTTP Basic authentication 等验证信息.\n\n  options.credentials = options.credentials || 'same-origin'; // 支持类似axios 参数自动拼装, 其他method也可用, 不冲突.\n\n  var serializedParams = paramsSerialize(params, paramsSerializer);\n  ctx.req.originUrl = url;\n  if (serializedParams) {\n    var urlSign = url.indexOf('?') !== -1 ? '&' : '?';\n    ctx.req.url = \"\".concat(url).concat(urlSign).concat(serializedParams);\n  }\n  ctx.req.options = options;\n  return next();\n}\nvar globalMiddlewares = [simplePostMiddleware, simpleGetMiddleware, parseResponseMiddleware];\nvar coreMiddlewares = [fetchMiddleware];\nOnion.globalMiddlewares = globalMiddlewares;\nOnion.defaultGlobalMiddlewaresLength = globalMiddlewares.length;\nOnion.coreMiddlewares = coreMiddlewares;\nOnion.defaultCoreMiddlewaresLength = coreMiddlewares.length;\nvar Core = /*#__PURE__*/function () {\n  function Core(initOptions) {\n    _classCallCheck(this, Core);\n    this.onion = new Onion([]);\n    this.fetchIndex = 0; // 【即将废弃】请求中间件位置\n\n    this.mapCache = new MapCache(initOptions);\n    this.initOptions = initOptions;\n    this.instanceRequestInterceptors = [];\n    this.instanceResponseInterceptors = [];\n  } // 旧版拦截器为共享\n\n  _createClass(Core, [{\n    key: \"use\",\n    value: function use(newMiddleware) {\n      var opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        global: false,\n        core: false\n      };\n      this.onion.use(newMiddleware, opt);\n      return this;\n    }\n  }, {\n    key: \"extendOptions\",\n    value: function extendOptions(options) {\n      this.initOptions = mergeRequestOptions(this.initOptions, options);\n      this.mapCache.extendOptions(options);\n    } // 执行请求前拦截器\n  }, {\n    key: \"dealRequestInterceptors\",\n    value: function dealRequestInterceptors(ctx) {\n      var reducer = function reducer(p1, p2) {\n        return p1.then(function () {\n          var ret = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n          ctx.req.url = ret.url || ctx.req.url;\n          ctx.req.options = ret.options || ctx.req.options;\n          return p2(ctx.req.url, ctx.req.options);\n        });\n      };\n      var allInterceptors = [].concat(_toConsumableArray(Core.requestInterceptors), _toConsumableArray(this.instanceRequestInterceptors));\n      return allInterceptors.reduce(reducer, Promise.resolve()).then(function () {\n        var ret = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        ctx.req.url = ret.url || ctx.req.url;\n        ctx.req.options = ret.options || ctx.req.options;\n        return Promise.resolve();\n      });\n    }\n  }, {\n    key: \"request\",\n    value: function request(url, options) {\n      var _this = this;\n      var onion = this.onion;\n      var obj = {\n        req: {\n          url: url,\n          options: _objectSpread2(_objectSpread2({}, options), {}, {\n            url: url\n          })\n        },\n        res: null,\n        cache: this.mapCache,\n        responseInterceptors: [].concat(_toConsumableArray(Core.responseInterceptors), _toConsumableArray(this.instanceResponseInterceptors))\n      };\n      if (typeof url !== 'string') {\n        throw new Error('url MUST be a string');\n      }\n      return new Promise(function (resolve, reject) {\n        _this.dealRequestInterceptors(obj).then(function () {\n          return onion.execute(obj);\n        }).then(function () {\n          resolve(obj.res);\n        }).catch(function (error) {\n          var errorHandler = obj.req.options.errorHandler;\n          if (errorHandler) {\n            try {\n              var data = errorHandler(error);\n              resolve(data);\n            } catch (e) {\n              reject(e);\n            }\n          } else {\n            reject(error);\n          }\n        });\n      });\n    }\n  }], [{\n    key: \"requestUse\",\n    value:\n    // 请求拦截器 默认 { global: true } 兼容旧版本拦截器\n    function requestUse(handler) {\n      var opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        global: true\n      };\n      if (typeof handler !== 'function') throw new TypeError('Interceptor must be function!');\n      if (opt.global) {\n        Core.requestInterceptors.push(handler);\n      } else {\n        this.instanceRequestInterceptors.push(handler);\n      }\n    } // 响应拦截器 默认 { global: true } 兼容旧版本拦截器\n  }, {\n    key: \"responseUse\",\n    value: function responseUse(handler) {\n      var opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        global: true\n      };\n      if (typeof handler !== 'function') throw new TypeError('Interceptor must be function!');\n      if (opt.global) {\n        Core.responseInterceptors.push(handler);\n      } else {\n        this.instanceResponseInterceptors.push(handler);\n      }\n    }\n  }]);\n  return Core;\n}();\nCore.requestInterceptors = [addfix];\nCore.responseInterceptors = [];\n\n/**\n * 当执行 “取消请求” 操作时会抛出 Cancel 对象作为一场\n * @class\n * @param {string=} message The message.\n */\n\nfunction Cancel(message) {\n  this.message = message;\n}\nCancel.prototype.toString = function toString() {\n  return this.message ? \"Cancel: \".concat(this.message) : 'Cancel';\n};\nCancel.prototype.__CANCEL__ = true;\n\n/**\n * 通过 CancelToken 来取消请求操作\n *\n * @class\n * @param {Function} executor The executor function.\n */\n\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // 取消操作已被调用过\n      return;\n    }\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n/**\n * 如果请求已经取消，抛出 Cancel 异常\n */\n\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n/**\n * 通过 source 来返回 CancelToken 实例和取消 CancelToken 的函数\n */\n\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\nfunction isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\nvar request = function request() {\n  var initOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var coreInstance = new Core(initOptions);\n  var umiInstance = function umiInstance(url) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var mergeOptions = mergeRequestOptions(coreInstance.initOptions, options);\n    return coreInstance.request(url, mergeOptions);\n  }; // 中间件\n\n  umiInstance.use = coreInstance.use.bind(coreInstance);\n  umiInstance.fetchIndex = coreInstance.fetchIndex; // 拦截器\n\n  umiInstance.interceptors = {\n    request: {\n      use: Core.requestUse.bind(coreInstance)\n    },\n    response: {\n      use: Core.responseUse.bind(coreInstance)\n    }\n  }; // 请求语法糖： reguest.get request.post ……\n\n  var METHODS = ['get', 'post', 'delete', 'put', 'patch', 'head', 'options', 'rpc'];\n  METHODS.forEach(function (method) {\n    umiInstance[method] = function (url, options) {\n      return umiInstance(url, _objectSpread2(_objectSpread2({}, options), {}, {\n        method: method\n      }));\n    };\n  });\n  umiInstance.Cancel = Cancel;\n  umiInstance.CancelToken = CancelToken;\n  umiInstance.isCancel = isCancel;\n  umiInstance.extendOptions = coreInstance.extendOptions.bind(coreInstance); // 暴露各个实例的中间件，供开发者自由组合\n\n  umiInstance.middlewares = {\n    instance: coreInstance.onion.middlewares,\n    defaultInstance: coreInstance.onion.defaultMiddlewares,\n    global: Onion.globalMiddlewares,\n    core: Onion.coreMiddlewares\n  };\n  return umiInstance;\n};\n/**\n * extend 方法参考了ky, 让用户可以定制配置.\n * initOpions 初始化参数\n * @param {number} maxCache 最大缓存数\n * @param {string} prefix url前缀\n * @param {function} errorHandler 统一错误处理方法\n * @param {object} headers 统一的headers\n */\n\nvar extend = function extend(initOptions) {\n  return request(initOptions);\n};\n/**\n * 暴露 fetch 中间件，保障依旧可以使用\n */\n\nvar fetch$1 = request({\n  parseResponse: false\n});\nvar request$1 = request({});\nexport default request$1;\nexport { Onion, RequestError, ResponseError, extend, fetch$1 as fetch };","map":{"version":3,"names":["parse","stringify","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","value","_inherits","subClass","superClass","create","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","p","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","call","e","_construct","Parent","args","Class","a","Function","bind","_isNativeFunction","fn","toString","indexOf","_wrapNativeSuper","_cache","Map","undefined","has","get","set","Wrapper","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","Array","isArray","_arrayLikeToArray","iter","from","minLen","n","slice","name","test","len","arr2","compose","middlewares","middlewaresLen","wrapMiddlewares","params","next","index","dispatch","Promise","reject","Error","resolve","err","Onion","defaultMiddlewares","use","newMiddleware","opts","global","core","defaultInstance","process","env","NODE_ENV","console","warn","globalMiddlewares","splice","defaultGlobalMiddlewaresLength","coreMiddlewares","defaultCoreMiddlewaresLength","execute","concat","MapCache","options","cache","timer","extendOptions","maxCache","JSON","_this","ttl","size","deleteKey","delete","clearTimeout","cacheKey","setTimeout","_delete","clear","RequestError","_Error","_super","text","request","_this2","type","ResponseError","_Error2","_super2","response","data","_this3","statusText","readerGBK","file","reader","FileReader","onload","onerror","readAsText","safeJsonParse","throwErrIfParseFail","timeout2Throw","msec","timeoutMessage","_","cancel2Throw","opt","cancelToken","promise","then","cancel","getEnv","XMLHttpRequest","val","isURLSearchParams","URLSearchParams","isDate","isObject","forEach2ObjArr","callback","hasOwnProperty","getParamObject","strictNullHandling","reqStringify","arrayFormat","mergeRequestOptions","options2Merge","headers","method","toLowerCase","addfix","url","prefix","suffix","warnedCoreType","__defaultValidateCache","_options$method","fetchMiddleware","ctx","_ctx$req","req","_ctx$req$options","_ctx$req$url","responseInterceptors","_options$timeout","timeout","_options$__umiRequest","__umiRequestCoreType__","_options$useCache","useCache","_options$method2","_options$validateCach","validateCache","adapter","fetch","isBrowser","needCache","responseCache","clone","res","race","handler","clonedRes","status","copy","parseResponseMiddleware","_ctx$res","_ref","_ref$options","_ref$options$response","responseType","_ref$options$charset","charset","_ref$options$getRespo","getResponse","_ref$options$throwErr","_ref$options$parseRes","parseResponse","blob","d","message","body","_ctx$res2","_ctx$req2","_ref2","_ref2$options","_ref2$options$getResp","catch","simplePostMiddleware","_options$requestType","requestType","dataType","Accept","paramsSerialize","paramsSerializer","serializedParams","jsonStringifiedParams","item","jsonStringifiedValue","toISOString","tmp","simpleGetMiddleware","_ctx$req2$url","toUpperCase","credentials","originUrl","urlSign","Core","initOptions","onion","fetchIndex","mapCache","instanceRequestInterceptors","instanceResponseInterceptors","dealRequestInterceptors","reducer","p1","p2","ret","allInterceptors","requestInterceptors","reduce","error","errorHandler","requestUse","responseUse","Cancel","__CANCEL__","CancelToken","executor","resolvePromise","promiseExecutor","token","reason","throwIfRequested","c","isCancel","coreInstance","umiInstance","mergeOptions","interceptors","METHODS","extend","fetch$1","request$1"],"sources":["D:/LearnDeveloper/ReactJS/student-management-infor/node_modules/umi-request/dist/index.esm.js"],"sourcesContent":["import { parse, stringify } from 'qs';\nimport 'isomorphic-fetch';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\n// 返回一个组合了所有插件的“插件”\nfunction compose(middlewares) {\n  if (!Array.isArray(middlewares)) throw new TypeError('Middlewares must be an array!');\n  var middlewaresLen = middlewares.length;\n\n  for (var i = 0; i < middlewaresLen; i++) {\n    if (typeof middlewares[i] !== 'function') {\n      throw new TypeError('Middleware must be componsed of function');\n    }\n  }\n\n  return function wrapMiddlewares(params, next) {\n    var index = -1;\n\n    function dispatch(i) {\n      if (i <= index) {\n        return Promise.reject(new Error('next() should not be called multiple times in one middleware!'));\n      }\n\n      index = i;\n      var fn = middlewares[i] || next;\n      if (!fn) return Promise.resolve();\n\n      try {\n        return Promise.resolve(fn(params, function () {\n          return dispatch(i + 1);\n        }));\n      } catch (err) {\n        return Promise.reject(err);\n      }\n    }\n\n    return dispatch(0);\n  };\n}\n\nvar Onion = /*#__PURE__*/function () {\n  function Onion(defaultMiddlewares) {\n    _classCallCheck(this, Onion);\n\n    if (!Array.isArray(defaultMiddlewares)) throw new TypeError('Default middlewares must be an array!');\n    this.defaultMiddlewares = _toConsumableArray(defaultMiddlewares);\n    this.middlewares = [];\n  }\n\n  _createClass(Onion, [{\n    key: \"use\",\n    value: // 内置内核中间件长度\n    function use(newMiddleware) {\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        global: false,\n        core: false,\n        defaultInstance: false\n      };\n      var core = false;\n      var global = false;\n      var defaultInstance = false;\n\n      if (typeof opts === 'number') {\n        if (process && process.env && process.env.NODE_ENV === 'development') {\n          console.warn('use() options should be object, number property would be deprecated in future，please update use() options to \"{ core: true }\".');\n        }\n\n        core = true;\n        global = false;\n      } else if (_typeof(opts) === 'object' && opts) {\n        global = opts.global || false;\n        core = opts.core || false;\n        defaultInstance = opts.defaultInstance || false;\n      } // 全局中间件\n\n\n      if (global) {\n        Onion.globalMiddlewares.splice(Onion.globalMiddlewares.length - Onion.defaultGlobalMiddlewaresLength, 0, newMiddleware);\n        return;\n      } // 内核中间件\n\n\n      if (core) {\n        Onion.coreMiddlewares.splice(Onion.coreMiddlewares.length - Onion.defaultCoreMiddlewaresLength, 0, newMiddleware);\n        return;\n      } // 默认实例中间件，供开发者使用\n\n\n      if (defaultInstance) {\n        this.defaultMiddlewares.push(newMiddleware);\n        return;\n      } // 实例中间件\n\n\n      this.middlewares.push(newMiddleware);\n    }\n  }, {\n    key: \"execute\",\n    value: function execute() {\n      var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var fn = compose([].concat(_toConsumableArray(this.middlewares), _toConsumableArray(this.defaultMiddlewares), _toConsumableArray(Onion.globalMiddlewares), _toConsumableArray(Onion.coreMiddlewares)));\n      return fn(params);\n    }\n  }]);\n\n  return Onion;\n}();\n\nOnion.globalMiddlewares = [];\nOnion.defaultGlobalMiddlewaresLength = 0;\nOnion.coreMiddlewares = [];\nOnion.defaultCoreMiddlewaresLength = 0;\n\nvar MapCache = /*#__PURE__*/function () {\n  function MapCache(options) {\n    _classCallCheck(this, MapCache);\n\n    this.cache = new Map();\n    this.timer = {};\n    this.extendOptions(options);\n  }\n\n  _createClass(MapCache, [{\n    key: \"extendOptions\",\n    value: function extendOptions(options) {\n      this.maxCache = options.maxCache || 0;\n    }\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      return this.cache.get(JSON.stringify(key));\n    }\n  }, {\n    key: \"set\",\n    value: function set(key, value) {\n      var _this = this;\n\n      var ttl = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 60000;\n\n      // 如果超过最大缓存数, 删除头部的第一个缓存.\n      if (this.maxCache > 0 && this.cache.size >= this.maxCache) {\n        var deleteKey = _toConsumableArray(this.cache.keys())[0];\n\n        this.cache.delete(deleteKey);\n\n        if (this.timer[deleteKey]) {\n          clearTimeout(this.timer[deleteKey]);\n        }\n      }\n\n      var cacheKey = JSON.stringify(key);\n      this.cache.set(cacheKey, value);\n\n      if (ttl > 0) {\n        this.timer[cacheKey] = setTimeout(function () {\n          _this.cache.delete(cacheKey);\n\n          delete _this.timer[cacheKey];\n        }, ttl);\n      }\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(key) {\n      var cacheKey = JSON.stringify(key);\n      delete this.timer[cacheKey];\n      return this.cache.delete(cacheKey);\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.timer = {};\n      return this.cache.clear();\n    }\n  }]);\n\n  return MapCache;\n}();\n/**\n * 请求异常\n */\n\nvar RequestError = /*#__PURE__*/function (_Error) {\n  _inherits(RequestError, _Error);\n\n  var _super = _createSuper(RequestError);\n\n  function RequestError(text, request) {\n    var _this2;\n\n    var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'RequestError';\n\n    _classCallCheck(this, RequestError);\n\n    _this2 = _super.call(this, text);\n    _this2.name = 'RequestError';\n    _this2.request = request;\n    _this2.type = type;\n    return _this2;\n  }\n\n  return RequestError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/**\n * 响应异常\n */\n\nvar ResponseError = /*#__PURE__*/function (_Error2) {\n  _inherits(ResponseError, _Error2);\n\n  var _super2 = _createSuper(ResponseError);\n\n  function ResponseError(response, text, data, request) {\n    var _this3;\n\n    var type = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 'ResponseError';\n\n    _classCallCheck(this, ResponseError);\n\n    _this3 = _super2.call(this, text || response.statusText);\n    _this3.name = 'ResponseError';\n    _this3.data = data;\n    _this3.response = response;\n    _this3.request = request;\n    _this3.type = type;\n    return _this3;\n  }\n\n  return ResponseError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/**\n * http://gitlab.alipay-inc.com/KBSJ/gxt/blob/release_gxt_S8928905_20180531/src/util/request.js#L63\n * 支持gbk\n */\n\nfunction readerGBK(file) {\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n\n    reader.onload = function () {\n      resolve(reader.result);\n    };\n\n    reader.onerror = reject;\n    reader.readAsText(file, 'GBK'); // setup GBK decoding\n  });\n}\n/**\n * 安全的JSON.parse\n */\n\nfunction safeJsonParse(data) {\n  var throwErrIfParseFail = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var response = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  var request = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n  try {\n    return JSON.parse(data);\n  } catch (e) {\n    if (throwErrIfParseFail) {\n      throw new ResponseError(response, 'JSON.parse fail', data, request, 'ParseError');\n    }\n  } // eslint-disable-line no-empty\n\n\n  return data;\n}\nfunction timeout2Throw(msec, timeoutMessage, request) {\n  return new Promise(function (_, reject) {\n    setTimeout(function () {\n      reject(new RequestError(timeoutMessage || \"timeout of \".concat(msec, \"ms exceeded\"), request, 'Timeout'));\n    }, msec);\n  });\n} // If request options contain 'cancelToken', reject request when token has been canceled\n\nfunction cancel2Throw(opt) {\n  return new Promise(function (_, reject) {\n    if (opt.cancelToken) {\n      opt.cancelToken.promise.then(function (cancel) {\n        reject(cancel);\n      });\n    }\n  });\n}\nvar toString = Object.prototype.toString; // Check env is browser or node\n\nfunction getEnv() {\n  var env; // Only Node.JS has a process variable that is of [[Class]] process\n\n  if (typeof process !== 'undefined' && toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    env = 'NODE';\n  }\n\n  if (typeof XMLHttpRequest !== 'undefined') {\n    env = 'BROWSER';\n  }\n\n  return env;\n}\nfunction isArray(val) {\n  return _typeof(val) === 'object' && Object.prototype.toString.call(val) === '[object Array]';\n}\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\nfunction isDate(val) {\n  return _typeof(val) === 'object' && Object.prototype.toString.call(val) === '[object Date]';\n}\nfunction isObject(val) {\n  return val !== null && _typeof(val) === 'object';\n}\nfunction forEach2ObjArr(target, callback) {\n  if (!target) return;\n\n  if (_typeof(target) !== 'object') {\n    target = [target];\n  }\n\n  if (isArray(target)) {\n    for (var i = 0; i < target.length; i++) {\n      callback.call(null, target[i], i, target);\n    }\n  } else {\n    for (var key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        callback.call(null, target[key], key, target);\n      }\n    }\n  }\n}\nfunction getParamObject(val) {\n  if (isURLSearchParams(val)) {\n    return parse(val.toString(), {\n      strictNullHandling: true\n    });\n  }\n\n  if (typeof val === 'string') {\n    return [val];\n  }\n\n  return val;\n}\nfunction reqStringify(val) {\n  return stringify(val, {\n    arrayFormat: 'repeat',\n    strictNullHandling: true\n  });\n}\nfunction mergeRequestOptions(options, options2Merge) {\n  return _objectSpread2(_objectSpread2(_objectSpread2({}, options), options2Merge), {}, {\n    headers: _objectSpread2(_objectSpread2({}, options.headers), options2Merge.headers),\n    params: _objectSpread2(_objectSpread2({}, getParamObject(options.params)), getParamObject(options2Merge.params)),\n    method: (options2Merge.method || options.method || 'get').toLowerCase()\n  });\n}\n\n// 前后缀拦截\nvar addfix = function addfix(url) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var prefix = options.prefix,\n      suffix = options.suffix;\n\n  if (prefix) {\n    url = \"\".concat(prefix).concat(url);\n  }\n\n  if (suffix) {\n    url = \"\".concat(url).concat(suffix);\n  }\n\n  return {\n    url: url,\n    options: options\n  };\n};\n\nvar warnedCoreType = false; // 默认缓存判断，开放缓存判断给非 get 请求使用\n\nfunction __defaultValidateCache(url, options) {\n  var _options$method = options.method,\n      method = _options$method === void 0 ? 'get' : _options$method;\n  return method.toLowerCase() === 'get';\n}\n\nfunction fetchMiddleware(ctx, next) {\n  if (!ctx) return next();\n  var _ctx$req = ctx.req;\n  _ctx$req = _ctx$req === void 0 ? {} : _ctx$req;\n  var _ctx$req$options = _ctx$req.options,\n      options = _ctx$req$options === void 0 ? {} : _ctx$req$options,\n      _ctx$req$url = _ctx$req.url,\n      url = _ctx$req$url === void 0 ? '' : _ctx$req$url,\n      cache = ctx.cache,\n      responseInterceptors = ctx.responseInterceptors;\n\n  var _options$timeout = options.timeout,\n      timeout = _options$timeout === void 0 ? 0 : _options$timeout,\n      timeoutMessage = options.timeoutMessage,\n      _options$__umiRequest = options.__umiRequestCoreType__,\n      __umiRequestCoreType__ = _options$__umiRequest === void 0 ? 'normal' : _options$__umiRequest,\n      _options$useCache = options.useCache,\n      useCache = _options$useCache === void 0 ? false : _options$useCache,\n      _options$method2 = options.method,\n      method = _options$method2 === void 0 ? 'get' : _options$method2,\n      params = options.params,\n      ttl = options.ttl,\n      _options$validateCach = options.validateCache,\n      validateCache = _options$validateCach === void 0 ? __defaultValidateCache : _options$validateCach;\n\n  if (__umiRequestCoreType__ !== 'normal') {\n    if (process && process.env && process.env.NODE_ENV === 'development' && warnedCoreType === false) {\n      warnedCoreType = true;\n      console.warn('__umiRequestCoreType__ is a internal property that use in umi-request, change its value would affect the behavior of request! It only use when you want to extend or use request core.');\n    }\n\n    return next();\n  }\n\n  var adapter = fetch;\n\n  if (!adapter) {\n    throw new Error('Global fetch not exist!');\n  } // 从缓存池检查是否有缓存数据\n\n\n  var isBrowser = getEnv() === 'BROWSER';\n  var needCache = validateCache(url, options) && useCache && isBrowser;\n\n  if (needCache) {\n    var responseCache = cache.get({\n      url: url,\n      params: params,\n      method: method\n    });\n\n    if (responseCache) {\n      responseCache = responseCache.clone();\n      responseCache.useCache = true;\n      ctx.res = responseCache;\n      return next();\n    }\n  }\n\n  var response; // 超时处理、取消请求处理\n\n  if (timeout > 0) {\n    response = Promise.race([cancel2Throw(options), adapter(url, options), timeout2Throw(timeout, timeoutMessage, ctx.req)]);\n  } else {\n    response = Promise.race([cancel2Throw(options), adapter(url, options)]);\n  } // 兼容老版本 response.interceptor\n\n\n  responseInterceptors.forEach(function (handler) {\n    response = response.then(function (res) {\n      // Fix multiple clones not working, issue: https://github.com/github/fetch/issues/504\n      var clonedRes = typeof res.clone === 'function' ? res.clone() : res;\n      return handler(clonedRes, options);\n    });\n  });\n  return response.then(function (res) {\n    // 是否存入缓存池\n    if (needCache) {\n      if (res.status === 200) {\n        var copy = res.clone();\n        copy.useCache = true;\n        cache.set({\n          url: url,\n          params: params,\n          method: method\n        }, copy, ttl);\n      }\n    }\n\n    ctx.res = res;\n    return next();\n  });\n}\n\nfunction parseResponseMiddleware(ctx, next) {\n  var copy;\n  return next().then(function () {\n    if (!ctx) return;\n    var _ctx$res = ctx.res,\n        res = _ctx$res === void 0 ? {} : _ctx$res,\n        _ctx$req = ctx.req,\n        req = _ctx$req === void 0 ? {} : _ctx$req;\n\n    var _ref = req || {},\n        _ref$options = _ref.options;\n\n    _ref$options = _ref$options === void 0 ? {} : _ref$options;\n    var _ref$options$response = _ref$options.responseType,\n        responseType = _ref$options$response === void 0 ? 'json' : _ref$options$response,\n        _ref$options$charset = _ref$options.charset,\n        charset = _ref$options$charset === void 0 ? 'utf8' : _ref$options$charset,\n        _ref$options$getRespo = _ref$options.getResponse,\n        _ref$options$throwErr = _ref$options.throwErrIfParseFail,\n        throwErrIfParseFail = _ref$options$throwErr === void 0 ? false : _ref$options$throwErr,\n        _ref$options$parseRes = _ref$options.parseResponse,\n        parseResponse = _ref$options$parseRes === void 0 ? true : _ref$options$parseRes;\n\n    if (!parseResponse) {\n      return;\n    }\n\n    if (!res || !res.clone) {\n      return;\n    } // 只在浏览器环境对 response 做克隆， node 环境如果对 response 克隆会有问题：https://github.com/bitinn/node-fetch/issues/553\n\n\n    copy = getEnv() === 'BROWSER' ? res.clone() : res;\n    copy.useCache = res.useCache || false; // 解析数据\n\n    if (charset === 'gbk') {\n      try {\n        return res.blob().then(readerGBK).then(function (d) {\n          return safeJsonParse(d, false, copy, req);\n        });\n      } catch (e) {\n        throw new ResponseError(copy, e.message, null, req, 'ParseError');\n      }\n    } else if (responseType === 'json') {\n      return res.text().then(function (d) {\n        return safeJsonParse(d, throwErrIfParseFail, copy, req);\n      });\n    }\n\n    try {\n      // 其他如text, blob, arrayBuffer, formData\n      return res[responseType]();\n    } catch (e) {\n      throw new ResponseError(copy, 'responseType not support', null, req, 'ParseError');\n    }\n  }).then(function (body) {\n    if (!ctx) return;\n    var _ctx$res2 = ctx.res,\n        _ctx$req2 = ctx.req,\n        req = _ctx$req2 === void 0 ? {} : _ctx$req2;\n\n    var _ref2 = req || {},\n        _ref2$options = _ref2.options;\n\n    _ref2$options = _ref2$options === void 0 ? {} : _ref2$options;\n    var _ref2$options$getResp = _ref2$options.getResponse,\n        getResponse = _ref2$options$getResp === void 0 ? false : _ref2$options$getResp;\n\n    if (!copy) {\n      return;\n    }\n\n    if (copy.status >= 200 && copy.status < 300) {\n      // 提供源response, 以便自定义处理\n      if (getResponse) {\n        ctx.res = {\n          data: body,\n          response: copy\n        };\n        return;\n      }\n\n      ctx.res = body;\n      return;\n    }\n\n    throw new ResponseError(copy, 'http error', body, req, 'HttpError');\n  }).catch(function (e) {\n    if (e instanceof RequestError || e instanceof ResponseError) {\n      throw e;\n    } // 对未知错误进行处理\n\n\n    var req = ctx.req,\n        res = ctx.res;\n    e.request = e.request || req;\n    e.response = e.response || res;\n    e.type = e.type || e.name;\n    e.data = e.data || undefined;\n    throw e;\n  });\n}\n\nfunction simplePostMiddleware(ctx, next) {\n  if (!ctx) return next();\n  var _ctx$req = ctx.req;\n  _ctx$req = _ctx$req === void 0 ? {} : _ctx$req;\n  var _ctx$req$options = _ctx$req.options,\n      options = _ctx$req$options === void 0 ? {} : _ctx$req$options;\n  var _options$method = options.method,\n      method = _options$method === void 0 ? 'get' : _options$method;\n\n  if (['post', 'put', 'patch', 'delete'].indexOf(method.toLowerCase()) === -1) {\n    return next();\n  }\n\n  var _options$requestType = options.requestType,\n      requestType = _options$requestType === void 0 ? 'json' : _options$requestType,\n      data = options.data; // 数据使用类axios的新字段data, 避免引用后影响旧代码, 如将body stringify多次\n\n  if (data) {\n    var dataType = Object.prototype.toString.call(data);\n\n    if (dataType === '[object Object]' || dataType === '[object Array]') {\n      if (requestType === 'json') {\n        options.headers = _objectSpread2({\n          Accept: 'application/json',\n          'Content-Type': 'application/json;charset=UTF-8'\n        }, options.headers);\n        options.body = JSON.stringify(data);\n      } else if (requestType === 'form') {\n        options.headers = _objectSpread2({\n          Accept: 'application/json',\n          'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n        }, options.headers);\n        options.body = reqStringify(data);\n      }\n    } else {\n      // 其他 requestType 自定义header\n      options.headers = _objectSpread2({\n        Accept: 'application/json'\n      }, options.headers);\n      options.body = data;\n    }\n  }\n\n  ctx.req.options = options;\n  return next();\n}\n\nfunction paramsSerialize(params, paramsSerializer) {\n  var serializedParams;\n  var jsonStringifiedParams; // 支持参数自动拼装，其他 method 也可用，不冲突\n\n  if (params) {\n    if (paramsSerializer) {\n      serializedParams = paramsSerializer(params);\n    } else if (isURLSearchParams(params)) {\n      serializedParams = params.toString();\n    } else {\n      if (isArray(params)) {\n        jsonStringifiedParams = [];\n        forEach2ObjArr(params, function (item) {\n          if (item === null || typeof item === 'undefined') {\n            jsonStringifiedParams.push(item);\n          } else {\n            jsonStringifiedParams.push(isObject(item) ? JSON.stringify(item) : item);\n          }\n        }); // a: [1,2,3] => a=1&a=2&a=3\n\n        serializedParams = reqStringify(jsonStringifiedParams);\n      } else {\n        jsonStringifiedParams = {};\n        forEach2ObjArr(params, function (value, key) {\n          var jsonStringifiedValue = value;\n\n          if (value === null || typeof value === 'undefined') {\n            jsonStringifiedParams[key] = value;\n          } else if (isDate(value)) {\n            jsonStringifiedValue = value.toISOString();\n          } else if (isArray(value)) {\n            jsonStringifiedValue = value;\n          } else if (isObject(value)) {\n            jsonStringifiedValue = JSON.stringify(value);\n          }\n\n          jsonStringifiedParams[key] = jsonStringifiedValue;\n        });\n        var tmp = reqStringify(jsonStringifiedParams);\n        serializedParams = tmp;\n      }\n    }\n  }\n\n  return serializedParams;\n} // 对请求参数做处理，实现 query 简化、 post 简化\n\nfunction simpleGetMiddleware(ctx, next) {\n  if (!ctx) return next();\n  var _ctx$req = ctx.req;\n  _ctx$req = _ctx$req === void 0 ? {} : _ctx$req;\n  var _ctx$req$options = _ctx$req.options,\n      options = _ctx$req$options === void 0 ? {} : _ctx$req$options;\n  var paramsSerializer = options.paramsSerializer,\n      params = options.params;\n  var _ctx$req2 = ctx.req;\n  _ctx$req2 = _ctx$req2 === void 0 ? {} : _ctx$req2;\n  var _ctx$req2$url = _ctx$req2.url,\n      url = _ctx$req2$url === void 0 ? '' : _ctx$req2$url; // 将 method 改为大写\n\n  options.method = options.method ? options.method.toUpperCase() : 'GET'; // 设置 credentials 默认值为 same-origin，确保当开发者没有设置时，各浏览器对请求是否发送 cookies 保持一致的行为\n  // - omit: 从不发送cookies.\n  // - same-origin: 只有当URL与响应脚本同源才发送 cookies、 HTTP Basic authentication 等验证信息.(浏览器默认值,在旧版本浏览器，例如safari 11依旧是omit，safari 12已更改)\n  // - include: 不论是不是跨域的请求,总是发送请求资源域在本地的 cookies、 HTTP Basic authentication 等验证信息.\n\n  options.credentials = options.credentials || 'same-origin'; // 支持类似axios 参数自动拼装, 其他method也可用, 不冲突.\n\n  var serializedParams = paramsSerialize(params, paramsSerializer);\n  ctx.req.originUrl = url;\n\n  if (serializedParams) {\n    var urlSign = url.indexOf('?') !== -1 ? '&' : '?';\n    ctx.req.url = \"\".concat(url).concat(urlSign).concat(serializedParams);\n  }\n\n  ctx.req.options = options;\n  return next();\n}\n\nvar globalMiddlewares = [simplePostMiddleware, simpleGetMiddleware, parseResponseMiddleware];\nvar coreMiddlewares = [fetchMiddleware];\nOnion.globalMiddlewares = globalMiddlewares;\nOnion.defaultGlobalMiddlewaresLength = globalMiddlewares.length;\nOnion.coreMiddlewares = coreMiddlewares;\nOnion.defaultCoreMiddlewaresLength = coreMiddlewares.length;\n\nvar Core = /*#__PURE__*/function () {\n  function Core(initOptions) {\n    _classCallCheck(this, Core);\n\n    this.onion = new Onion([]);\n    this.fetchIndex = 0; // 【即将废弃】请求中间件位置\n\n    this.mapCache = new MapCache(initOptions);\n    this.initOptions = initOptions;\n    this.instanceRequestInterceptors = [];\n    this.instanceResponseInterceptors = [];\n  } // 旧版拦截器为共享\n\n\n  _createClass(Core, [{\n    key: \"use\",\n    value: function use(newMiddleware) {\n      var opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        global: false,\n        core: false\n      };\n      this.onion.use(newMiddleware, opt);\n      return this;\n    }\n  }, {\n    key: \"extendOptions\",\n    value: function extendOptions(options) {\n      this.initOptions = mergeRequestOptions(this.initOptions, options);\n      this.mapCache.extendOptions(options);\n    } // 执行请求前拦截器\n\n  }, {\n    key: \"dealRequestInterceptors\",\n    value: function dealRequestInterceptors(ctx) {\n      var reducer = function reducer(p1, p2) {\n        return p1.then(function () {\n          var ret = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n          ctx.req.url = ret.url || ctx.req.url;\n          ctx.req.options = ret.options || ctx.req.options;\n          return p2(ctx.req.url, ctx.req.options);\n        });\n      };\n\n      var allInterceptors = [].concat(_toConsumableArray(Core.requestInterceptors), _toConsumableArray(this.instanceRequestInterceptors));\n      return allInterceptors.reduce(reducer, Promise.resolve()).then(function () {\n        var ret = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        ctx.req.url = ret.url || ctx.req.url;\n        ctx.req.options = ret.options || ctx.req.options;\n        return Promise.resolve();\n      });\n    }\n  }, {\n    key: \"request\",\n    value: function request(url, options) {\n      var _this = this;\n\n      var onion = this.onion;\n      var obj = {\n        req: {\n          url: url,\n          options: _objectSpread2(_objectSpread2({}, options), {}, {\n            url: url\n          })\n        },\n        res: null,\n        cache: this.mapCache,\n        responseInterceptors: [].concat(_toConsumableArray(Core.responseInterceptors), _toConsumableArray(this.instanceResponseInterceptors))\n      };\n\n      if (typeof url !== 'string') {\n        throw new Error('url MUST be a string');\n      }\n\n      return new Promise(function (resolve, reject) {\n        _this.dealRequestInterceptors(obj).then(function () {\n          return onion.execute(obj);\n        }).then(function () {\n          resolve(obj.res);\n        }).catch(function (error) {\n          var errorHandler = obj.req.options.errorHandler;\n\n          if (errorHandler) {\n            try {\n              var data = errorHandler(error);\n              resolve(data);\n            } catch (e) {\n              reject(e);\n            }\n          } else {\n            reject(error);\n          }\n        });\n      });\n    }\n  }], [{\n    key: \"requestUse\",\n    value: // 请求拦截器 默认 { global: true } 兼容旧版本拦截器\n    function requestUse(handler) {\n      var opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        global: true\n      };\n      if (typeof handler !== 'function') throw new TypeError('Interceptor must be function!');\n\n      if (opt.global) {\n        Core.requestInterceptors.push(handler);\n      } else {\n        this.instanceRequestInterceptors.push(handler);\n      }\n    } // 响应拦截器 默认 { global: true } 兼容旧版本拦截器\n\n  }, {\n    key: \"responseUse\",\n    value: function responseUse(handler) {\n      var opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        global: true\n      };\n      if (typeof handler !== 'function') throw new TypeError('Interceptor must be function!');\n\n      if (opt.global) {\n        Core.responseInterceptors.push(handler);\n      } else {\n        this.instanceResponseInterceptors.push(handler);\n      }\n    }\n  }]);\n\n  return Core;\n}();\n\nCore.requestInterceptors = [addfix];\nCore.responseInterceptors = [];\n\n/**\n * 当执行 “取消请求” 操作时会抛出 Cancel 对象作为一场\n * @class\n * @param {string=} message The message.\n */\n\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return this.message ? \"Cancel: \".concat(this.message) : 'Cancel';\n};\n\nCancel.prototype.__CANCEL__ = true;\n\n/**\n * 通过 CancelToken 来取消请求操作\n *\n * @class\n * @param {Function} executor The executor function.\n */\n\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // 取消操作已被调用过\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n/**\n * 如果请求已经取消，抛出 Cancel 异常\n */\n\n\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n/**\n * 通过 source 来返回 CancelToken 实例和取消 CancelToken 的函数\n */\n\n\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nfunction isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n\nvar request = function request() {\n  var initOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var coreInstance = new Core(initOptions);\n\n  var umiInstance = function umiInstance(url) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var mergeOptions = mergeRequestOptions(coreInstance.initOptions, options);\n    return coreInstance.request(url, mergeOptions);\n  }; // 中间件\n\n\n  umiInstance.use = coreInstance.use.bind(coreInstance);\n  umiInstance.fetchIndex = coreInstance.fetchIndex; // 拦截器\n\n  umiInstance.interceptors = {\n    request: {\n      use: Core.requestUse.bind(coreInstance)\n    },\n    response: {\n      use: Core.responseUse.bind(coreInstance)\n    }\n  }; // 请求语法糖： reguest.get request.post ……\n\n  var METHODS = ['get', 'post', 'delete', 'put', 'patch', 'head', 'options', 'rpc'];\n  METHODS.forEach(function (method) {\n    umiInstance[method] = function (url, options) {\n      return umiInstance(url, _objectSpread2(_objectSpread2({}, options), {}, {\n        method: method\n      }));\n    };\n  });\n  umiInstance.Cancel = Cancel;\n  umiInstance.CancelToken = CancelToken;\n  umiInstance.isCancel = isCancel;\n  umiInstance.extendOptions = coreInstance.extendOptions.bind(coreInstance); // 暴露各个实例的中间件，供开发者自由组合\n\n  umiInstance.middlewares = {\n    instance: coreInstance.onion.middlewares,\n    defaultInstance: coreInstance.onion.defaultMiddlewares,\n    global: Onion.globalMiddlewares,\n    core: Onion.coreMiddlewares\n  };\n  return umiInstance;\n};\n/**\n * extend 方法参考了ky, 让用户可以定制配置.\n * initOpions 初始化参数\n * @param {number} maxCache 最大缓存数\n * @param {string} prefix url前缀\n * @param {function} errorHandler 统一错误处理方法\n * @param {object} headers 统一的headers\n */\n\n\nvar extend = function extend(initOptions) {\n  return request(initOptions);\n};\n/**\n * 暴露 fetch 中间件，保障依旧可以使用\n */\n\nvar fetch$1 = request({\n  parseResponse: false\n});\nvar request$1 = request({});\n\nexport default request$1;\nexport { Onion, RequestError, ResponseError, extend, fetch$1 as fetch };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}