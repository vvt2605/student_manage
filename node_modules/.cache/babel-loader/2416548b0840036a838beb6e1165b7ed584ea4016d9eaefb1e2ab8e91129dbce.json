{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"children\", \"contentRender\", \"submitter\", \"fieldProps\", \"formItemProps\", \"groupProps\", \"transformKey\", \"formRef\", \"onInit\", \"form\", \"loading\", \"formComponentType\", \"extraUrlParams\", \"syncToUrl\", \"onUrlSearchChange\", \"onReset\", \"omitNil\", \"isKeyPressSubmit\", \"autoFocusFirstInput\", \"grid\", \"rowProps\", \"colProps\"],\n  _excluded2 = [\"extraUrlParams\", \"syncToUrl\", \"isKeyPressSubmit\", \"syncToUrlAsImportant\", \"syncToInitialValues\", \"children\", \"contentRender\", \"submitter\", \"fieldProps\", \"proFieldProps\", \"formItemProps\", \"groupProps\", \"dateFormatter\", \"formRef\", \"onInit\", \"form\", \"formComponentType\", \"onReset\", \"grid\", \"rowProps\", \"colProps\", \"omitNil\", \"request\", \"params\", \"initialValues\", \"formKey\", \"readonly\", \"onLoadingChange\", \"loading\"];\n/* eslint-disable react-hooks/exhaustive-deps */\nimport { ProConfigProvider } from '@ant-design/pro-provider';\nimport { conversionMomentValue, isDeepEqualReact, nanoid, ProFormContext, runFunction, transformKeySubmitValue, useFetchData, useMountMergeState, usePrevious, useRefFunction, useStyle } from '@ant-design/pro-utils';\nimport { useUrlSearchParams } from '@umijs/use-params';\nimport { ConfigProvider, Form, Spin } from 'antd';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport get from \"rc-util/es/utils/get\";\nimport { default as namePathSet, default as set } from \"rc-util/es/utils/set\";\nimport { noteOnce } from \"rc-util/es/warning\";\nimport React, { useCallback, useContext, useEffect, useImperativeHandle, useMemo, useRef, useState } from 'react';\nimport { Submitter } from \"../components\";\nimport { FormListContext } from \"../components/List\";\nimport FieldContext from \"../FieldContext\";\nimport { GridContext, useGridHelpers } from \"../helpers\";\nimport { EditOrReadOnlyContext } from \"./EditOrReadOnlyContext\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar genParams = function genParams(syncUrl, params, type) {\n  if (syncUrl === true) {\n    return params;\n  }\n  return runFunction(syncUrl, params, type);\n};\n/**\n * It takes a name path and converts it to an array.\n * @param {NamePath} name - The name of the form.\n * @returns string[]\n *\n * a-> [a]\n * [a] -> [a]\n */\nvar covertFormName = function covertFormName(name) {\n  if (!name) return name;\n  if (Array.isArray(name)) return name;\n  return [name];\n};\nfunction BaseFormComponents(props) {\n  var _ConfigProvider$useCo;\n  var children = props.children,\n    contentRender = props.contentRender,\n    submitter = props.submitter,\n    fieldProps = props.fieldProps,\n    formItemProps = props.formItemProps,\n    groupProps = props.groupProps,\n    transformKey = props.transformKey,\n    propsFormRef = props.formRef,\n    onInit = props.onInit,\n    form = props.form,\n    loading = props.loading,\n    formComponentType = props.formComponentType,\n    _props$extraUrlParams = props.extraUrlParams,\n    extraUrlParams = _props$extraUrlParams === void 0 ? {} : _props$extraUrlParams,\n    syncToUrl = props.syncToUrl,\n    onUrlSearchChange = props.onUrlSearchChange,\n    _onReset = props.onReset,\n    _props$omitNil = props.omitNil,\n    omitNil = _props$omitNil === void 0 ? true : _props$omitNil,\n    isKeyPressSubmit = props.isKeyPressSubmit,\n    _props$autoFocusFirst = props.autoFocusFirstInput,\n    autoFocusFirstInput = _props$autoFocusFirst === void 0 ? true : _props$autoFocusFirst,\n    grid = props.grid,\n    rowProps = props.rowProps,\n    colProps = props.colProps,\n    rest = _objectWithoutProperties(props, _excluded);\n\n  /**\n   * 获取 form 实例\n   */\n  var formInstance = Form.useFormInstance();\n  var _ref = (ConfigProvider === null || ConfigProvider === void 0 ? void 0 : (_ConfigProvider$useCo = ConfigProvider.useConfig) === null || _ConfigProvider$useCo === void 0 ? void 0 : _ConfigProvider$useCo.call(ConfigProvider)) || {\n      componentSize: 'middle'\n    },\n    componentSize = _ref.componentSize;\n\n  /** 同步 url 上的参数 */\n  var formRef = useRef(form || formInstance);\n\n  /**\n   * 获取布局\n   */\n  var _useGridHelpers = useGridHelpers({\n      grid: grid,\n      rowProps: rowProps\n    }),\n    RowWrapper = _useGridHelpers.RowWrapper;\n  var getFormInstance = useRefFunction(function () {\n    return formInstance;\n  });\n  var formatValues = useMemo(function () {\n    return {\n      /**\n       * 获取被 ProForm 格式化后的所有数据\n       * @param allData boolean\n       * @returns T\n       *\n       * @example  getFieldsFormatValue(true) ->返回所有数据，即使没有被 form 托管的\n       */\n      getFieldsFormatValue: function getFieldsFormatValue(allData) {\n        var _getFormInstance;\n        return transformKey((_getFormInstance = getFormInstance()) === null || _getFormInstance === void 0 ? void 0 : _getFormInstance.getFieldsValue(allData), omitNil);\n      },\n      /**\n       * 获取被 ProForm 格式化后的单个数据\n       * @param nameList (string|number)[]\n       * @returns T\n       *\n       * @example {a:{b:value}} -> getFieldFormatValue(['a', 'b']) -> value\n       */\n      /** 获取格式化之后的单个数据 */\n      getFieldFormatValue: function getFieldFormatValue() {\n        var _getFormInstance2;\n        var paramsNameList = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        var nameList = covertFormName(paramsNameList);\n        if (!nameList) throw new Error('nameList is require');\n        var value = (_getFormInstance2 = getFormInstance()) === null || _getFormInstance2 === void 0 ? void 0 : _getFormInstance2.getFieldValue(nameList);\n        var obj = nameList ? set({}, nameList, value) : value;\n        return get(transformKey(obj, omitNil, nameList), nameList);\n      },\n      /**\n       * 获取被 ProForm 格式化后的单个数据, 包含他的 name\n       * @param nameList (string|number)[]\n       * @returns T\n       *\n       * @example  {a:{b:value}} -> getFieldFormatValueObject(['a', 'b']) -> {a:{b:value}}\n       */\n      /** 获取格式化之后的单个数据 */\n      getFieldFormatValueObject: function getFieldFormatValueObject(paramsNameList) {\n        var _getFormInstance3;\n        var nameList = covertFormName(paramsNameList);\n        var value = (_getFormInstance3 = getFormInstance()) === null || _getFormInstance3 === void 0 ? void 0 : _getFormInstance3.getFieldValue(nameList);\n        var obj = nameList ? set({}, nameList, value) : value;\n        return transformKey(obj, omitNil, nameList);\n      },\n      /** \n      /**\n       *验字段后返回格式化之后的所有数据\n       * @param nameList (string|number)[]\n       * @returns T\n       * \n       * @example validateFieldsReturnFormatValue -> {a:{b:value}}\n       */\n      validateFieldsReturnFormatValue: function () {\n        var _validateFieldsReturnFormatValue = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(nameList) {\n          var _getFormInstance4;\n          var values, transformedKey;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                if (!(!Array.isArray(nameList) && nameList)) {\n                  _context.next = 2;\n                  break;\n                }\n                throw new Error('nameList must be array');\n              case 2:\n                _context.next = 4;\n                return (_getFormInstance4 = getFormInstance()) === null || _getFormInstance4 === void 0 ? void 0 : _getFormInstance4.validateFields(nameList);\n              case 4:\n                values = _context.sent;\n                transformedKey = transformKey(values, omitNil);\n                return _context.abrupt(\"return\", transformedKey ? transformedKey : {});\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee);\n        }));\n        function validateFieldsReturnFormatValue(_x) {\n          return _validateFieldsReturnFormatValue.apply(this, arguments);\n        }\n        return validateFieldsReturnFormatValue;\n      }(),\n      formRef: formRef\n    };\n  }, [omitNil, transformKey]);\n  var items = useMemo(function () {\n    return React.Children.toArray(children).map(function (item, index) {\n      if (index === 0 && /*#__PURE__*/React.isValidElement(item) && autoFocusFirstInput) {\n        return /*#__PURE__*/React.cloneElement(item, _objectSpread(_objectSpread({}, item.props), {}, {\n          autoFocus: autoFocusFirstInput\n        }));\n      }\n      return item;\n    });\n  }, [autoFocusFirstInput, children]);\n\n  /** 计算 props 的对象 */\n  var submitterProps = useMemo(function () {\n    return typeof submitter === 'boolean' || !submitter ? {} : submitter;\n  }, [submitter]);\n\n  /** 渲染提交按钮与重置按钮 */\n  var submitterNode = useMemo(function () {\n    if (submitter === false) return undefined;\n    return /*#__PURE__*/_jsx(Submitter, _objectSpread(_objectSpread({}, submitterProps), {}, {\n      onReset: function onReset() {\n        var _formRef$current, _submitterProps$onRes;\n        var finalValues = transformKey((_formRef$current = formRef.current) === null || _formRef$current === void 0 ? void 0 : _formRef$current.getFieldsValue(), omitNil);\n        submitterProps === null || submitterProps === void 0 ? void 0 : (_submitterProps$onRes = submitterProps.onReset) === null || _submitterProps$onRes === void 0 ? void 0 : _submitterProps$onRes.call(submitterProps, finalValues);\n        _onReset === null || _onReset === void 0 ? void 0 : _onReset(finalValues);\n        // 如果 syncToUrl，清空一下数据\n        if (syncToUrl) {\n          var _formRef$current2;\n          // 把没有的值设置为未定义可以删掉 url 的参数\n          var params = Object.keys(transformKey((_formRef$current2 = formRef.current) === null || _formRef$current2 === void 0 ? void 0 : _formRef$current2.getFieldsValue(), false)).reduce(function (pre, next) {\n            return _objectSpread(_objectSpread({}, pre), {}, _defineProperty({}, next, finalValues[next] || undefined));\n          }, extraUrlParams);\n\n          /** 在同步到 url 上时对参数进行转化 */\n          onUrlSearchChange(genParams(syncToUrl, params, 'set'));\n        }\n      },\n      submitButtonProps: _objectSpread({\n        loading: loading\n      }, submitterProps.submitButtonProps)\n    }), \"submitter\");\n  }, [submitter, submitterProps, loading, transformKey, omitNil, _onReset, syncToUrl, extraUrlParams, onUrlSearchChange]);\n  var content = useMemo(function () {\n    var wrapItems = grid ? /*#__PURE__*/_jsx(RowWrapper, {\n      children: items\n    }) : items;\n    if (contentRender) {\n      return contentRender(wrapItems, submitterNode, formRef.current);\n    }\n    return wrapItems;\n  }, [grid, RowWrapper, items, contentRender, submitterNode]);\n  var preInitialValues = usePrevious(props.initialValues);\n\n  // 提示一个 initialValues ，问的人实在是太多了\n  useEffect(function () {\n    if (syncToUrl || !props.initialValues || !preInitialValues || rest.request) return;\n    var isEqual = isDeepEqualReact(props.initialValues, preInitialValues);\n    noteOnce(isEqual, \"initialValues \\u53EA\\u5728 form \\u521D\\u59CB\\u5316\\u65F6\\u751F\\u6548\\uFF0C\\u5982\\u679C\\u4F60\\u9700\\u8981\\u5F02\\u6B65\\u52A0\\u8F7D\\u63A8\\u8350\\u4F7F\\u7528 request\\uFF0C\\u6216\\u8005 initialValues ? <Form/> : null \");\n    noteOnce(isEqual, \"The initialValues only take effect when the form is initialized, if you need to load asynchronously recommended request, or the initialValues ? <Form/> : null \");\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [props.initialValues]);\n\n  // 初始化给一个默认的 form\n  useImperativeHandle(propsFormRef, function () {\n    return _objectSpread(_objectSpread({}, formRef.current), formatValues);\n  }, []);\n  useEffect(function () {\n    var _formRef$current3, _formRef$current3$get;\n    var finalValues = transformKey((_formRef$current3 = formRef.current) === null || _formRef$current3 === void 0 ? void 0 : (_formRef$current3$get = _formRef$current3.getFieldsValue) === null || _formRef$current3$get === void 0 ? void 0 : _formRef$current3$get.call(_formRef$current3, true), omitNil);\n    onInit === null || onInit === void 0 ? void 0 : onInit(finalValues, formRef.current);\n  }, []);\n  return /*#__PURE__*/_jsx(ProFormContext.Provider, {\n    value: formatValues,\n    children: /*#__PURE__*/_jsx(ConfigProvider, {\n      componentSize: rest.size || componentSize,\n      children: /*#__PURE__*/_jsxs(GridContext.Provider, {\n        value: {\n          grid: grid,\n          colProps: colProps\n        },\n        children: [rest.component !== false && /*#__PURE__*/_jsx(\"input\", {\n          type: \"text\",\n          style: {\n            display: 'none'\n          }\n        }), content]\n      })\n    })\n  });\n}\n\n/** 自动的formKey 防止重复 */\nvar requestFormCacheId = 0;\nfunction BaseForm(props) {\n  var _props$extraUrlParams2 = props.extraUrlParams,\n    extraUrlParams = _props$extraUrlParams2 === void 0 ? {} : _props$extraUrlParams2,\n    syncToUrl = props.syncToUrl,\n    isKeyPressSubmit = props.isKeyPressSubmit,\n    _props$syncToUrlAsImp = props.syncToUrlAsImportant,\n    syncToUrlAsImportant = _props$syncToUrlAsImp === void 0 ? false : _props$syncToUrlAsImp,\n    _props$syncToInitialV = props.syncToInitialValues,\n    syncToInitialValues = _props$syncToInitialV === void 0 ? true : _props$syncToInitialV,\n    children = props.children,\n    contentRender = props.contentRender,\n    submitter = props.submitter,\n    fieldProps = props.fieldProps,\n    proFieldProps = props.proFieldProps,\n    formItemProps = props.formItemProps,\n    groupProps = props.groupProps,\n    _props$dateFormatter = props.dateFormatter,\n    dateFormatter = _props$dateFormatter === void 0 ? 'string' : _props$dateFormatter,\n    propsFormRef = props.formRef,\n    onInit = props.onInit,\n    form = props.form,\n    formComponentType = props.formComponentType,\n    onReset = props.onReset,\n    grid = props.grid,\n    rowProps = props.rowProps,\n    colProps = props.colProps,\n    _props$omitNil2 = props.omitNil,\n    omitNil = _props$omitNil2 === void 0 ? true : _props$omitNil2,\n    request = props.request,\n    params = props.params,\n    initialValues = props.initialValues,\n    _props$formKey = props.formKey,\n    formKey = _props$formKey === void 0 ? requestFormCacheId : _props$formKey,\n    readonly = props.readonly,\n    onLoadingChange = props.onLoadingChange,\n    propsLoading = props.loading,\n    propRest = _objectWithoutProperties(props, _excluded2);\n  var formRef = useRef({});\n  var _useMountMergeState = useMountMergeState(false, {\n      onChange: onLoadingChange,\n      value: propsLoading\n    }),\n    _useMountMergeState2 = _slicedToArray(_useMountMergeState, 2),\n    loading = _useMountMergeState2[0],\n    setLoading = _useMountMergeState2[1];\n  var _useUrlSearchParams = useUrlSearchParams({}, {\n      disabled: !syncToUrl\n    }),\n    _useUrlSearchParams2 = _slicedToArray(_useUrlSearchParams, 2),\n    urlSearch = _useUrlSearchParams2[0],\n    setUrlSearch = _useUrlSearchParams2[1];\n  var curFormKey = useRef(nanoid());\n  useEffect(function () {\n    requestFormCacheId += 0;\n  }, []);\n  var _useFetchData = useFetchData({\n      request: request,\n      params: params,\n      proFieldKey: formKey\n    }),\n    _useFetchData2 = _slicedToArray(_useFetchData, 1),\n    initialData = _useFetchData2[0];\n  var _useContext = useContext(ConfigProvider.ConfigContext),\n    getPrefixCls = _useContext.getPrefixCls;\n  var prefixCls = getPrefixCls('pro-form');\n  // css\n  var _useStyle = useStyle('ProForm', function (token) {\n      return _defineProperty({}, \".\".concat(prefixCls), _defineProperty({}, \"> div:not(\".concat(token.proComponentsCls, \"-form-light-filter)\"), {\n        '.pro-field': {\n          maxWidth: '100%',\n          // 适用于短数字，短文本或者选项\n          '&-xs': {\n            width: 104\n          },\n          '&-s': {\n            width: 216\n          },\n          // 适用于较短字段录入、如姓名、电话、ID 等。\n          '&-sm': {\n            width: 216\n          },\n          '&-m': {\n            width: 328\n          },\n          // 标准宽度，适用于大部分字段长度\n          '&-md': {\n            width: 328\n          },\n          '&-l': {\n            width: 440\n          },\n          // 适用于较长字段录入，如长网址、标签组、文件路径等。\n          '&-lg': {\n            width: 440\n          },\n          // 适用于长文本录入，如长链接、描述、备注等，通常搭配自适应多行输入框或定高文本域使用。\n          '&-xl': {\n            width: 552\n          }\n        }\n      }));\n    }),\n    wrapSSR = _useStyle.wrapSSR,\n    hashId = _useStyle.hashId;\n\n  // 如果为 false，不需要触发设置进去\n  var _useState = useState(function () {\n      if (!syncToUrl) {\n        return {};\n      }\n      return genParams(syncToUrl, urlSearch, 'get');\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    urlParamsMergeInitialValues = _useState2[0],\n    setUrlParamsMergeInitialValues = _useState2[1];\n\n  /** 保存 transformKeyRef，用于对表单key transform */\n  var transformKeyRef = useRef({});\n  var fieldsValueType = useRef({});\n\n  /** 使用 callback 的类型 */\n  var transformKey = useCallback(function (values, paramsOmitNil, parentKey) {\n    return transformKeySubmitValue(conversionMomentValue(values, dateFormatter, fieldsValueType.current, paramsOmitNil, parentKey), transformKeyRef.current, paramsOmitNil);\n  }, [dateFormatter]);\n  useEffect(function () {\n    if (syncToInitialValues) return;\n    setUrlParamsMergeInitialValues({});\n  }, [syncToInitialValues]);\n  useEffect(function () {\n    if (!syncToUrl) return;\n    setUrlSearch(_objectSpread(_objectSpread({}, urlSearch), extraUrlParams));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [extraUrlParams, syncToUrl]);\n  var getPopupContainer = useMemo(function () {\n    if (typeof window === 'undefined') return undefined;\n    // 如果在 drawerForm 和  modalForm 里就渲染dom到父节点里\n    // modalForm 可能高度太小不适合\n    if (formComponentType && ['DrawerForm'].includes(formComponentType)) {\n      return function (e) {\n        return e.parentNode || document.body;\n      };\n    }\n    return undefined;\n  }, [formComponentType]);\n  var onFinish = useRefFunction( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n    var _formRef$current4, _formRef$current4$get, finalValues, _formRef$current5, _formRef$current5$get, syncToUrlParams;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          if (propRest.onFinish) {\n            _context2.next = 2;\n            break;\n          }\n          return _context2.abrupt(\"return\");\n        case 2:\n          if (!loading) {\n            _context2.next = 4;\n            break;\n          }\n          return _context2.abrupt(\"return\");\n        case 4:\n          setLoading(true);\n          _context2.prev = 5;\n          finalValues = formRef === null || formRef === void 0 ? void 0 : (_formRef$current4 = formRef.current) === null || _formRef$current4 === void 0 ? void 0 : (_formRef$current4$get = _formRef$current4.getFieldsFormatValue) === null || _formRef$current4$get === void 0 ? void 0 : _formRef$current4$get.call(_formRef$current4);\n          _context2.next = 9;\n          return propRest.onFinish(finalValues);\n        case 9:\n          if (syncToUrl) {\n            // 把没有的值设置为未定义可以删掉 url 的参数\n            syncToUrlParams = Object.keys(formRef === null || formRef === void 0 ? void 0 : (_formRef$current5 = formRef.current) === null || _formRef$current5 === void 0 ? void 0 : (_formRef$current5$get = _formRef$current5.getFieldsFormatValue) === null || _formRef$current5$get === void 0 ? void 0 : _formRef$current5$get.call(_formRef$current5, undefined, false)).reduce(function (pre, next) {\n              var _finalValues$next;\n              return _objectSpread(_objectSpread({}, pre), {}, _defineProperty({}, next, (_finalValues$next = finalValues[next]) !== null && _finalValues$next !== void 0 ? _finalValues$next : undefined));\n            }, extraUrlParams); // fix #3547: 当原先在url中存在的字段被删除时，应该将 params 中的该字段设置为 undefined,以便触发url同步删除\n            Object.keys(urlSearch).forEach(function (key) {\n              if (syncToUrlParams[key] !== false && syncToUrlParams[key] !== 0 && !syncToUrlParams[key]) {\n                syncToUrlParams[key] = undefined;\n              }\n            });\n            /** 在同步到 url 上时对参数进行转化 */\n            setUrlSearch(genParams(syncToUrl, syncToUrlParams, 'set'));\n          }\n          setLoading(false);\n          _context2.next = 17;\n          break;\n        case 13:\n          _context2.prev = 13;\n          _context2.t0 = _context2[\"catch\"](5);\n          console.log(_context2.t0);\n          setLoading(false);\n        case 17:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[5, 13]]);\n  })));\n\n  // 初始化给一个默认的 form\n  useImperativeHandle(propsFormRef, function () {\n    return formRef.current;\n  }, [!initialData]);\n  if (!initialData && props.request) {\n    return /*#__PURE__*/_jsx(\"div\", {\n      style: {\n        paddingTop: 50,\n        paddingBottom: 50,\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsx(Spin, {})\n    });\n  }\n  return wrapSSR( /*#__PURE__*/_jsx(EditOrReadOnlyContext.Provider, {\n    value: {\n      mode: props.readonly ? 'read' : 'edit'\n    },\n    children: /*#__PURE__*/_jsx(ProConfigProvider, {\n      needDeps: true,\n      children: /*#__PURE__*/_jsx(FieldContext.Provider, {\n        value: {\n          formRef: formRef,\n          fieldProps: fieldProps,\n          proFieldProps: proFieldProps,\n          formItemProps: formItemProps,\n          groupProps: groupProps,\n          formComponentType: formComponentType,\n          getPopupContainer: getPopupContainer,\n          formKey: curFormKey.current,\n          setFieldValueType: function setFieldValueType(name, _ref4) {\n            var _ref4$valueType = _ref4.valueType,\n              valueType = _ref4$valueType === void 0 ? 'text' : _ref4$valueType,\n              dateFormat = _ref4.dateFormat,\n              transform = _ref4.transform;\n            if (!Array.isArray(name)) return;\n            transformKeyRef.current = namePathSet(transformKeyRef.current, name, transform);\n            fieldsValueType.current = namePathSet(fieldsValueType.current, name, {\n              valueType: valueType,\n              dateFormat: dateFormat\n            });\n          }\n        },\n        children: /*#__PURE__*/_jsx(FormListContext.Provider, {\n          value: {},\n          children: /*#__PURE__*/_jsx(Form, _objectSpread(_objectSpread({\n            onKeyPress: function onKeyPress(event) {\n              if (!isKeyPressSubmit) return;\n              if (event.key === 'Enter') {\n                var _formRef$current6;\n                (_formRef$current6 = formRef.current) === null || _formRef$current6 === void 0 ? void 0 : _formRef$current6.submit();\n              }\n            },\n            autoComplete: \"off\",\n            form: form\n          }, omit(propRest, ['labelWidth', 'autoFocusFirstInput'])), {}, {\n            // 组合 urlSearch 和 initialValues\n            initialValues: syncToUrlAsImportant ? _objectSpread(_objectSpread(_objectSpread({}, initialValues), initialData), urlParamsMergeInitialValues) : _objectSpread(_objectSpread(_objectSpread({}, urlParamsMergeInitialValues), initialValues), initialData),\n            onValuesChange: function onValuesChange(changedValues, values) {\n              var _propRest$onValuesCha;\n              propRest === null || propRest === void 0 ? void 0 : (_propRest$onValuesCha = propRest.onValuesChange) === null || _propRest$onValuesCha === void 0 ? void 0 : _propRest$onValuesCha.call(propRest, transformKey(changedValues, !!omitNil), transformKey(values, !!omitNil));\n            },\n            className: classNames(props.className, prefixCls, hashId),\n            onFinish: onFinish,\n            children: /*#__PURE__*/_jsx(BaseFormComponents, _objectSpread(_objectSpread({\n              transformKey: transformKey,\n              autoComplete: \"off\",\n              loading: loading,\n              onUrlSearchChange: setUrlSearch\n            }, props), {}, {\n              formRef: formRef,\n              initialValues: _objectSpread(_objectSpread({}, initialValues), initialData)\n            }))\n          }))\n        })\n      })\n    })\n  }));\n}\nexport { BaseForm };","map":{"version":3,"names":["_slicedToArray","_defineProperty","_objectSpread","_regeneratorRuntime","_asyncToGenerator","_objectWithoutProperties","_excluded","_excluded2","ProConfigProvider","conversionMomentValue","isDeepEqualReact","nanoid","ProFormContext","runFunction","transformKeySubmitValue","useFetchData","useMountMergeState","usePrevious","useRefFunction","useStyle","useUrlSearchParams","ConfigProvider","Form","Spin","classNames","omit","get","default","namePathSet","set","noteOnce","React","useCallback","useContext","useEffect","useImperativeHandle","useMemo","useRef","useState","Submitter","FormListContext","FieldContext","GridContext","useGridHelpers","EditOrReadOnlyContext","jsx","_jsx","jsxs","_jsxs","genParams","syncUrl","params","type","covertFormName","name","Array","isArray","BaseFormComponents","props","_ConfigProvider$useCo","children","contentRender","submitter","fieldProps","formItemProps","groupProps","transformKey","propsFormRef","formRef","onInit","form","loading","formComponentType","_props$extraUrlParams","extraUrlParams","syncToUrl","onUrlSearchChange","_onReset","onReset","_props$omitNil","omitNil","isKeyPressSubmit","_props$autoFocusFirst","autoFocusFirstInput","grid","rowProps","colProps","rest","formInstance","useFormInstance","_ref","useConfig","call","componentSize","_useGridHelpers","RowWrapper","getFormInstance","formatValues","getFieldsFormatValue","allData","_getFormInstance","getFieldsValue","getFieldFormatValue","_getFormInstance2","paramsNameList","arguments","length","undefined","nameList","Error","value","getFieldValue","obj","getFieldFormatValueObject","_getFormInstance3","validateFieldsReturnFormatValue","_validateFieldsReturnFormatValue","mark","_callee","_getFormInstance4","values","transformedKey","wrap","_callee$","_context","prev","next","validateFields","sent","abrupt","stop","_x","apply","items","Children","toArray","map","item","index","isValidElement","cloneElement","autoFocus","submitterProps","submitterNode","_formRef$current","_submitterProps$onRes","finalValues","current","_formRef$current2","Object","keys","reduce","pre","submitButtonProps","content","wrapItems","preInitialValues","initialValues","request","isEqual","_formRef$current3","_formRef$current3$get","Provider","size","component","style","display","requestFormCacheId","BaseForm","_props$extraUrlParams2","_props$syncToUrlAsImp","syncToUrlAsImportant","_props$syncToInitialV","syncToInitialValues","proFieldProps","_props$dateFormatter","dateFormatter","_props$omitNil2","_props$formKey","formKey","readonly","onLoadingChange","propsLoading","propRest","_useMountMergeState","onChange","_useMountMergeState2","setLoading","_useUrlSearchParams","disabled","_useUrlSearchParams2","urlSearch","setUrlSearch","curFormKey","_useFetchData","proFieldKey","_useFetchData2","initialData","_useContext","ConfigContext","getPrefixCls","prefixCls","_useStyle","token","concat","proComponentsCls","maxWidth","width","wrapSSR","hashId","_useState","_useState2","urlParamsMergeInitialValues","setUrlParamsMergeInitialValues","transformKeyRef","fieldsValueType","paramsOmitNil","parentKey","getPopupContainer","window","includes","e","parentNode","document","body","onFinish","_callee2","_formRef$current4","_formRef$current4$get","_formRef$current5","_formRef$current5$get","syncToUrlParams","_callee2$","_context2","_finalValues$next","forEach","key","t0","console","log","paddingTop","paddingBottom","textAlign","mode","needDeps","setFieldValueType","_ref4","_ref4$valueType","valueType","dateFormat","transform","onKeyPress","event","_formRef$current6","submit","autoComplete","onValuesChange","changedValues","_propRest$onValuesCha","className"],"sources":["D:/LearnDeveloper/ReactJS/student-management-infor/node_modules/@ant-design/pro-form/es/BaseForm/BaseForm.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"children\", \"contentRender\", \"submitter\", \"fieldProps\", \"formItemProps\", \"groupProps\", \"transformKey\", \"formRef\", \"onInit\", \"form\", \"loading\", \"formComponentType\", \"extraUrlParams\", \"syncToUrl\", \"onUrlSearchChange\", \"onReset\", \"omitNil\", \"isKeyPressSubmit\", \"autoFocusFirstInput\", \"grid\", \"rowProps\", \"colProps\"],\n  _excluded2 = [\"extraUrlParams\", \"syncToUrl\", \"isKeyPressSubmit\", \"syncToUrlAsImportant\", \"syncToInitialValues\", \"children\", \"contentRender\", \"submitter\", \"fieldProps\", \"proFieldProps\", \"formItemProps\", \"groupProps\", \"dateFormatter\", \"formRef\", \"onInit\", \"form\", \"formComponentType\", \"onReset\", \"grid\", \"rowProps\", \"colProps\", \"omitNil\", \"request\", \"params\", \"initialValues\", \"formKey\", \"readonly\", \"onLoadingChange\", \"loading\"];\n/* eslint-disable react-hooks/exhaustive-deps */\nimport { ProConfigProvider } from '@ant-design/pro-provider';\nimport { conversionMomentValue, isDeepEqualReact, nanoid, ProFormContext, runFunction, transformKeySubmitValue, useFetchData, useMountMergeState, usePrevious, useRefFunction, useStyle } from '@ant-design/pro-utils';\nimport { useUrlSearchParams } from '@umijs/use-params';\nimport { ConfigProvider, Form, Spin } from 'antd';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport get from \"rc-util/es/utils/get\";\nimport { default as namePathSet, default as set } from \"rc-util/es/utils/set\";\nimport { noteOnce } from \"rc-util/es/warning\";\nimport React, { useCallback, useContext, useEffect, useImperativeHandle, useMemo, useRef, useState } from 'react';\nimport { Submitter } from \"../components\";\nimport { FormListContext } from \"../components/List\";\nimport FieldContext from \"../FieldContext\";\nimport { GridContext, useGridHelpers } from \"../helpers\";\nimport { EditOrReadOnlyContext } from \"./EditOrReadOnlyContext\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar genParams = function genParams(syncUrl, params, type) {\n  if (syncUrl === true) {\n    return params;\n  }\n  return runFunction(syncUrl, params, type);\n};\n/**\n * It takes a name path and converts it to an array.\n * @param {NamePath} name - The name of the form.\n * @returns string[]\n *\n * a-> [a]\n * [a] -> [a]\n */\nvar covertFormName = function covertFormName(name) {\n  if (!name) return name;\n  if (Array.isArray(name)) return name;\n  return [name];\n};\nfunction BaseFormComponents(props) {\n  var _ConfigProvider$useCo;\n  var children = props.children,\n    contentRender = props.contentRender,\n    submitter = props.submitter,\n    fieldProps = props.fieldProps,\n    formItemProps = props.formItemProps,\n    groupProps = props.groupProps,\n    transformKey = props.transformKey,\n    propsFormRef = props.formRef,\n    onInit = props.onInit,\n    form = props.form,\n    loading = props.loading,\n    formComponentType = props.formComponentType,\n    _props$extraUrlParams = props.extraUrlParams,\n    extraUrlParams = _props$extraUrlParams === void 0 ? {} : _props$extraUrlParams,\n    syncToUrl = props.syncToUrl,\n    onUrlSearchChange = props.onUrlSearchChange,\n    _onReset = props.onReset,\n    _props$omitNil = props.omitNil,\n    omitNil = _props$omitNil === void 0 ? true : _props$omitNil,\n    isKeyPressSubmit = props.isKeyPressSubmit,\n    _props$autoFocusFirst = props.autoFocusFirstInput,\n    autoFocusFirstInput = _props$autoFocusFirst === void 0 ? true : _props$autoFocusFirst,\n    grid = props.grid,\n    rowProps = props.rowProps,\n    colProps = props.colProps,\n    rest = _objectWithoutProperties(props, _excluded);\n\n  /**\n   * 获取 form 实例\n   */\n  var formInstance = Form.useFormInstance();\n  var _ref = (ConfigProvider === null || ConfigProvider === void 0 ? void 0 : (_ConfigProvider$useCo = ConfigProvider.useConfig) === null || _ConfigProvider$useCo === void 0 ? void 0 : _ConfigProvider$useCo.call(ConfigProvider)) || {\n      componentSize: 'middle'\n    },\n    componentSize = _ref.componentSize;\n\n  /** 同步 url 上的参数 */\n  var formRef = useRef(form || formInstance);\n\n  /**\n   * 获取布局\n   */\n  var _useGridHelpers = useGridHelpers({\n      grid: grid,\n      rowProps: rowProps\n    }),\n    RowWrapper = _useGridHelpers.RowWrapper;\n  var getFormInstance = useRefFunction(function () {\n    return formInstance;\n  });\n  var formatValues = useMemo(function () {\n    return {\n      /**\n       * 获取被 ProForm 格式化后的所有数据\n       * @param allData boolean\n       * @returns T\n       *\n       * @example  getFieldsFormatValue(true) ->返回所有数据，即使没有被 form 托管的\n       */\n      getFieldsFormatValue: function getFieldsFormatValue(allData) {\n        var _getFormInstance;\n        return transformKey((_getFormInstance = getFormInstance()) === null || _getFormInstance === void 0 ? void 0 : _getFormInstance.getFieldsValue(allData), omitNil);\n      },\n      /**\n       * 获取被 ProForm 格式化后的单个数据\n       * @param nameList (string|number)[]\n       * @returns T\n       *\n       * @example {a:{b:value}} -> getFieldFormatValue(['a', 'b']) -> value\n       */\n      /** 获取格式化之后的单个数据 */\n      getFieldFormatValue: function getFieldFormatValue() {\n        var _getFormInstance2;\n        var paramsNameList = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        var nameList = covertFormName(paramsNameList);\n        if (!nameList) throw new Error('nameList is require');\n        var value = (_getFormInstance2 = getFormInstance()) === null || _getFormInstance2 === void 0 ? void 0 : _getFormInstance2.getFieldValue(nameList);\n        var obj = nameList ? set({}, nameList, value) : value;\n        return get(transformKey(obj, omitNil, nameList), nameList);\n      },\n      /**\n       * 获取被 ProForm 格式化后的单个数据, 包含他的 name\n       * @param nameList (string|number)[]\n       * @returns T\n       *\n       * @example  {a:{b:value}} -> getFieldFormatValueObject(['a', 'b']) -> {a:{b:value}}\n       */\n      /** 获取格式化之后的单个数据 */\n      getFieldFormatValueObject: function getFieldFormatValueObject(paramsNameList) {\n        var _getFormInstance3;\n        var nameList = covertFormName(paramsNameList);\n        var value = (_getFormInstance3 = getFormInstance()) === null || _getFormInstance3 === void 0 ? void 0 : _getFormInstance3.getFieldValue(nameList);\n        var obj = nameList ? set({}, nameList, value) : value;\n        return transformKey(obj, omitNil, nameList);\n      },\n      /** \n      /**\n       *验字段后返回格式化之后的所有数据\n       * @param nameList (string|number)[]\n       * @returns T\n       * \n       * @example validateFieldsReturnFormatValue -> {a:{b:value}}\n       */\n      validateFieldsReturnFormatValue: function () {\n        var _validateFieldsReturnFormatValue = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(nameList) {\n          var _getFormInstance4;\n          var values, transformedKey;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                if (!(!Array.isArray(nameList) && nameList)) {\n                  _context.next = 2;\n                  break;\n                }\n                throw new Error('nameList must be array');\n              case 2:\n                _context.next = 4;\n                return (_getFormInstance4 = getFormInstance()) === null || _getFormInstance4 === void 0 ? void 0 : _getFormInstance4.validateFields(nameList);\n              case 4:\n                values = _context.sent;\n                transformedKey = transformKey(values, omitNil);\n                return _context.abrupt(\"return\", transformedKey ? transformedKey : {});\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee);\n        }));\n        function validateFieldsReturnFormatValue(_x) {\n          return _validateFieldsReturnFormatValue.apply(this, arguments);\n        }\n        return validateFieldsReturnFormatValue;\n      }(),\n      formRef: formRef\n    };\n  }, [omitNil, transformKey]);\n  var items = useMemo(function () {\n    return React.Children.toArray(children).map(function (item, index) {\n      if (index === 0 && /*#__PURE__*/React.isValidElement(item) && autoFocusFirstInput) {\n        return /*#__PURE__*/React.cloneElement(item, _objectSpread(_objectSpread({}, item.props), {}, {\n          autoFocus: autoFocusFirstInput\n        }));\n      }\n      return item;\n    });\n  }, [autoFocusFirstInput, children]);\n\n  /** 计算 props 的对象 */\n  var submitterProps = useMemo(function () {\n    return typeof submitter === 'boolean' || !submitter ? {} : submitter;\n  }, [submitter]);\n\n  /** 渲染提交按钮与重置按钮 */\n  var submitterNode = useMemo(function () {\n    if (submitter === false) return undefined;\n    return /*#__PURE__*/_jsx(Submitter, _objectSpread(_objectSpread({}, submitterProps), {}, {\n      onReset: function onReset() {\n        var _formRef$current, _submitterProps$onRes;\n        var finalValues = transformKey((_formRef$current = formRef.current) === null || _formRef$current === void 0 ? void 0 : _formRef$current.getFieldsValue(), omitNil);\n        submitterProps === null || submitterProps === void 0 ? void 0 : (_submitterProps$onRes = submitterProps.onReset) === null || _submitterProps$onRes === void 0 ? void 0 : _submitterProps$onRes.call(submitterProps, finalValues);\n        _onReset === null || _onReset === void 0 ? void 0 : _onReset(finalValues);\n        // 如果 syncToUrl，清空一下数据\n        if (syncToUrl) {\n          var _formRef$current2;\n          // 把没有的值设置为未定义可以删掉 url 的参数\n          var params = Object.keys(transformKey((_formRef$current2 = formRef.current) === null || _formRef$current2 === void 0 ? void 0 : _formRef$current2.getFieldsValue(), false)).reduce(function (pre, next) {\n            return _objectSpread(_objectSpread({}, pre), {}, _defineProperty({}, next, finalValues[next] || undefined));\n          }, extraUrlParams);\n\n          /** 在同步到 url 上时对参数进行转化 */\n          onUrlSearchChange(genParams(syncToUrl, params, 'set'));\n        }\n      },\n      submitButtonProps: _objectSpread({\n        loading: loading\n      }, submitterProps.submitButtonProps)\n    }), \"submitter\");\n  }, [submitter, submitterProps, loading, transformKey, omitNil, _onReset, syncToUrl, extraUrlParams, onUrlSearchChange]);\n  var content = useMemo(function () {\n    var wrapItems = grid ? /*#__PURE__*/_jsx(RowWrapper, {\n      children: items\n    }) : items;\n    if (contentRender) {\n      return contentRender(wrapItems, submitterNode, formRef.current);\n    }\n    return wrapItems;\n  }, [grid, RowWrapper, items, contentRender, submitterNode]);\n  var preInitialValues = usePrevious(props.initialValues);\n\n  // 提示一个 initialValues ，问的人实在是太多了\n  useEffect(function () {\n    if (syncToUrl || !props.initialValues || !preInitialValues || rest.request) return;\n    var isEqual = isDeepEqualReact(props.initialValues, preInitialValues);\n    noteOnce(isEqual, \"initialValues \\u53EA\\u5728 form \\u521D\\u59CB\\u5316\\u65F6\\u751F\\u6548\\uFF0C\\u5982\\u679C\\u4F60\\u9700\\u8981\\u5F02\\u6B65\\u52A0\\u8F7D\\u63A8\\u8350\\u4F7F\\u7528 request\\uFF0C\\u6216\\u8005 initialValues ? <Form/> : null \");\n    noteOnce(isEqual, \"The initialValues only take effect when the form is initialized, if you need to load asynchronously recommended request, or the initialValues ? <Form/> : null \");\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [props.initialValues]);\n\n  // 初始化给一个默认的 form\n  useImperativeHandle(propsFormRef, function () {\n    return _objectSpread(_objectSpread({}, formRef.current), formatValues);\n  }, []);\n  useEffect(function () {\n    var _formRef$current3, _formRef$current3$get;\n    var finalValues = transformKey((_formRef$current3 = formRef.current) === null || _formRef$current3 === void 0 ? void 0 : (_formRef$current3$get = _formRef$current3.getFieldsValue) === null || _formRef$current3$get === void 0 ? void 0 : _formRef$current3$get.call(_formRef$current3, true), omitNil);\n    onInit === null || onInit === void 0 ? void 0 : onInit(finalValues, formRef.current);\n  }, []);\n  return /*#__PURE__*/_jsx(ProFormContext.Provider, {\n    value: formatValues,\n    children: /*#__PURE__*/_jsx(ConfigProvider, {\n      componentSize: rest.size || componentSize,\n      children: /*#__PURE__*/_jsxs(GridContext.Provider, {\n        value: {\n          grid: grid,\n          colProps: colProps\n        },\n        children: [rest.component !== false && /*#__PURE__*/_jsx(\"input\", {\n          type: \"text\",\n          style: {\n            display: 'none'\n          }\n        }), content]\n      })\n    })\n  });\n}\n\n/** 自动的formKey 防止重复 */\nvar requestFormCacheId = 0;\nfunction BaseForm(props) {\n  var _props$extraUrlParams2 = props.extraUrlParams,\n    extraUrlParams = _props$extraUrlParams2 === void 0 ? {} : _props$extraUrlParams2,\n    syncToUrl = props.syncToUrl,\n    isKeyPressSubmit = props.isKeyPressSubmit,\n    _props$syncToUrlAsImp = props.syncToUrlAsImportant,\n    syncToUrlAsImportant = _props$syncToUrlAsImp === void 0 ? false : _props$syncToUrlAsImp,\n    _props$syncToInitialV = props.syncToInitialValues,\n    syncToInitialValues = _props$syncToInitialV === void 0 ? true : _props$syncToInitialV,\n    children = props.children,\n    contentRender = props.contentRender,\n    submitter = props.submitter,\n    fieldProps = props.fieldProps,\n    proFieldProps = props.proFieldProps,\n    formItemProps = props.formItemProps,\n    groupProps = props.groupProps,\n    _props$dateFormatter = props.dateFormatter,\n    dateFormatter = _props$dateFormatter === void 0 ? 'string' : _props$dateFormatter,\n    propsFormRef = props.formRef,\n    onInit = props.onInit,\n    form = props.form,\n    formComponentType = props.formComponentType,\n    onReset = props.onReset,\n    grid = props.grid,\n    rowProps = props.rowProps,\n    colProps = props.colProps,\n    _props$omitNil2 = props.omitNil,\n    omitNil = _props$omitNil2 === void 0 ? true : _props$omitNil2,\n    request = props.request,\n    params = props.params,\n    initialValues = props.initialValues,\n    _props$formKey = props.formKey,\n    formKey = _props$formKey === void 0 ? requestFormCacheId : _props$formKey,\n    readonly = props.readonly,\n    onLoadingChange = props.onLoadingChange,\n    propsLoading = props.loading,\n    propRest = _objectWithoutProperties(props, _excluded2);\n  var formRef = useRef({});\n  var _useMountMergeState = useMountMergeState(false, {\n      onChange: onLoadingChange,\n      value: propsLoading\n    }),\n    _useMountMergeState2 = _slicedToArray(_useMountMergeState, 2),\n    loading = _useMountMergeState2[0],\n    setLoading = _useMountMergeState2[1];\n  var _useUrlSearchParams = useUrlSearchParams({}, {\n      disabled: !syncToUrl\n    }),\n    _useUrlSearchParams2 = _slicedToArray(_useUrlSearchParams, 2),\n    urlSearch = _useUrlSearchParams2[0],\n    setUrlSearch = _useUrlSearchParams2[1];\n  var curFormKey = useRef(nanoid());\n  useEffect(function () {\n    requestFormCacheId += 0;\n  }, []);\n  var _useFetchData = useFetchData({\n      request: request,\n      params: params,\n      proFieldKey: formKey\n    }),\n    _useFetchData2 = _slicedToArray(_useFetchData, 1),\n    initialData = _useFetchData2[0];\n  var _useContext = useContext(ConfigProvider.ConfigContext),\n    getPrefixCls = _useContext.getPrefixCls;\n  var prefixCls = getPrefixCls('pro-form');\n  // css\n  var _useStyle = useStyle('ProForm', function (token) {\n      return _defineProperty({}, \".\".concat(prefixCls), _defineProperty({}, \"> div:not(\".concat(token.proComponentsCls, \"-form-light-filter)\"), {\n        '.pro-field': {\n          maxWidth: '100%',\n          // 适用于短数字，短文本或者选项\n          '&-xs': {\n            width: 104\n          },\n          '&-s': {\n            width: 216\n          },\n          // 适用于较短字段录入、如姓名、电话、ID 等。\n          '&-sm': {\n            width: 216\n          },\n          '&-m': {\n            width: 328\n          },\n          // 标准宽度，适用于大部分字段长度\n          '&-md': {\n            width: 328\n          },\n          '&-l': {\n            width: 440\n          },\n          // 适用于较长字段录入，如长网址、标签组、文件路径等。\n          '&-lg': {\n            width: 440\n          },\n          // 适用于长文本录入，如长链接、描述、备注等，通常搭配自适应多行输入框或定高文本域使用。\n          '&-xl': {\n            width: 552\n          }\n        }\n      }));\n    }),\n    wrapSSR = _useStyle.wrapSSR,\n    hashId = _useStyle.hashId;\n\n  // 如果为 false，不需要触发设置进去\n  var _useState = useState(function () {\n      if (!syncToUrl) {\n        return {};\n      }\n      return genParams(syncToUrl, urlSearch, 'get');\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    urlParamsMergeInitialValues = _useState2[0],\n    setUrlParamsMergeInitialValues = _useState2[1];\n\n  /** 保存 transformKeyRef，用于对表单key transform */\n  var transformKeyRef = useRef({});\n  var fieldsValueType = useRef({});\n\n  /** 使用 callback 的类型 */\n  var transformKey = useCallback(function (values, paramsOmitNil, parentKey) {\n    return transformKeySubmitValue(conversionMomentValue(values, dateFormatter, fieldsValueType.current, paramsOmitNil, parentKey), transformKeyRef.current, paramsOmitNil);\n  }, [dateFormatter]);\n  useEffect(function () {\n    if (syncToInitialValues) return;\n    setUrlParamsMergeInitialValues({});\n  }, [syncToInitialValues]);\n  useEffect(function () {\n    if (!syncToUrl) return;\n    setUrlSearch(_objectSpread(_objectSpread({}, urlSearch), extraUrlParams));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [extraUrlParams, syncToUrl]);\n  var getPopupContainer = useMemo(function () {\n    if (typeof window === 'undefined') return undefined;\n    // 如果在 drawerForm 和  modalForm 里就渲染dom到父节点里\n    // modalForm 可能高度太小不适合\n    if (formComponentType && ['DrawerForm'].includes(formComponentType)) {\n      return function (e) {\n        return e.parentNode || document.body;\n      };\n    }\n    return undefined;\n  }, [formComponentType]);\n  var onFinish = useRefFunction( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n    var _formRef$current4, _formRef$current4$get, finalValues, _formRef$current5, _formRef$current5$get, syncToUrlParams;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          if (propRest.onFinish) {\n            _context2.next = 2;\n            break;\n          }\n          return _context2.abrupt(\"return\");\n        case 2:\n          if (!loading) {\n            _context2.next = 4;\n            break;\n          }\n          return _context2.abrupt(\"return\");\n        case 4:\n          setLoading(true);\n          _context2.prev = 5;\n          finalValues = formRef === null || formRef === void 0 ? void 0 : (_formRef$current4 = formRef.current) === null || _formRef$current4 === void 0 ? void 0 : (_formRef$current4$get = _formRef$current4.getFieldsFormatValue) === null || _formRef$current4$get === void 0 ? void 0 : _formRef$current4$get.call(_formRef$current4);\n          _context2.next = 9;\n          return propRest.onFinish(finalValues);\n        case 9:\n          if (syncToUrl) {\n            // 把没有的值设置为未定义可以删掉 url 的参数\n            syncToUrlParams = Object.keys(formRef === null || formRef === void 0 ? void 0 : (_formRef$current5 = formRef.current) === null || _formRef$current5 === void 0 ? void 0 : (_formRef$current5$get = _formRef$current5.getFieldsFormatValue) === null || _formRef$current5$get === void 0 ? void 0 : _formRef$current5$get.call(_formRef$current5, undefined, false)).reduce(function (pre, next) {\n              var _finalValues$next;\n              return _objectSpread(_objectSpread({}, pre), {}, _defineProperty({}, next, (_finalValues$next = finalValues[next]) !== null && _finalValues$next !== void 0 ? _finalValues$next : undefined));\n            }, extraUrlParams); // fix #3547: 当原先在url中存在的字段被删除时，应该将 params 中的该字段设置为 undefined,以便触发url同步删除\n            Object.keys(urlSearch).forEach(function (key) {\n              if (syncToUrlParams[key] !== false && syncToUrlParams[key] !== 0 && !syncToUrlParams[key]) {\n                syncToUrlParams[key] = undefined;\n              }\n            });\n            /** 在同步到 url 上时对参数进行转化 */\n            setUrlSearch(genParams(syncToUrl, syncToUrlParams, 'set'));\n          }\n          setLoading(false);\n          _context2.next = 17;\n          break;\n        case 13:\n          _context2.prev = 13;\n          _context2.t0 = _context2[\"catch\"](5);\n          console.log(_context2.t0);\n          setLoading(false);\n        case 17:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[5, 13]]);\n  })));\n\n  // 初始化给一个默认的 form\n  useImperativeHandle(propsFormRef, function () {\n    return formRef.current;\n  }, [!initialData]);\n  if (!initialData && props.request) {\n    return /*#__PURE__*/_jsx(\"div\", {\n      style: {\n        paddingTop: 50,\n        paddingBottom: 50,\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsx(Spin, {})\n    });\n  }\n  return wrapSSR( /*#__PURE__*/_jsx(EditOrReadOnlyContext.Provider, {\n    value: {\n      mode: props.readonly ? 'read' : 'edit'\n    },\n    children: /*#__PURE__*/_jsx(ProConfigProvider, {\n      needDeps: true,\n      children: /*#__PURE__*/_jsx(FieldContext.Provider, {\n        value: {\n          formRef: formRef,\n          fieldProps: fieldProps,\n          proFieldProps: proFieldProps,\n          formItemProps: formItemProps,\n          groupProps: groupProps,\n          formComponentType: formComponentType,\n          getPopupContainer: getPopupContainer,\n          formKey: curFormKey.current,\n          setFieldValueType: function setFieldValueType(name, _ref4) {\n            var _ref4$valueType = _ref4.valueType,\n              valueType = _ref4$valueType === void 0 ? 'text' : _ref4$valueType,\n              dateFormat = _ref4.dateFormat,\n              transform = _ref4.transform;\n            if (!Array.isArray(name)) return;\n            transformKeyRef.current = namePathSet(transformKeyRef.current, name, transform);\n            fieldsValueType.current = namePathSet(fieldsValueType.current, name, {\n              valueType: valueType,\n              dateFormat: dateFormat\n            });\n          }\n        },\n        children: /*#__PURE__*/_jsx(FormListContext.Provider, {\n          value: {},\n          children: /*#__PURE__*/_jsx(Form, _objectSpread(_objectSpread({\n            onKeyPress: function onKeyPress(event) {\n              if (!isKeyPressSubmit) return;\n              if (event.key === 'Enter') {\n                var _formRef$current6;\n                (_formRef$current6 = formRef.current) === null || _formRef$current6 === void 0 ? void 0 : _formRef$current6.submit();\n              }\n            },\n            autoComplete: \"off\",\n            form: form\n          }, omit(propRest, ['labelWidth', 'autoFocusFirstInput'])), {}, {\n            // 组合 urlSearch 和 initialValues\n            initialValues: syncToUrlAsImportant ? _objectSpread(_objectSpread(_objectSpread({}, initialValues), initialData), urlParamsMergeInitialValues) : _objectSpread(_objectSpread(_objectSpread({}, urlParamsMergeInitialValues), initialValues), initialData),\n            onValuesChange: function onValuesChange(changedValues, values) {\n              var _propRest$onValuesCha;\n              propRest === null || propRest === void 0 ? void 0 : (_propRest$onValuesCha = propRest.onValuesChange) === null || _propRest$onValuesCha === void 0 ? void 0 : _propRest$onValuesCha.call(propRest, transformKey(changedValues, !!omitNil), transformKey(values, !!omitNil));\n            },\n            className: classNames(props.className, prefixCls, hashId),\n            onFinish: onFinish,\n            children: /*#__PURE__*/_jsx(BaseFormComponents, _objectSpread(_objectSpread({\n              transformKey: transformKey,\n              autoComplete: \"off\",\n              loading: loading,\n              onUrlSearchChange: setUrlSearch\n            }, props), {}, {\n              formRef: formRef,\n              initialValues: _objectSpread(_objectSpread({}, initialValues), initialData)\n            }))\n          }))\n        })\n      })\n    })\n  }));\n}\nexport { BaseForm };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}