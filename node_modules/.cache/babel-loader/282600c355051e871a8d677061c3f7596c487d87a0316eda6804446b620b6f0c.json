{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nvar _excluded = [\"content\", \"numberFormatOptions\", \"numberPopoverRender\", \"open\"],\n  _excluded2 = [\"text\", \"mode\", \"render\", \"renderFormItem\", \"fieldProps\", \"proFieldKey\", \"plain\", \"valueEnum\", \"placeholder\", \"locale\", \"customSymbol\", \"numberFormatOptions\", \"numberPopoverRender\"];\nimport { intlMap as allIntlMap, useIntl } from '@ant-design/pro-provider';\nimport { InputNumber, Popover } from 'antd';\nimport omit from 'omit.js';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport React, { useCallback, useMemo } from 'react';\n// 兼容代码-----------\nimport \"antd/es/input-number/style\";\nimport \"antd/es/popover/style\";\n//----------------------\n\nimport { openVisibleCompatible } from '@ant-design/pro-utils';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar defaultMoneyIntl = new Intl.NumberFormat('zh-Hans-CN', {\n  currency: 'CNY',\n  style: 'currency'\n});\nvar enMoneyIntl = {\n  style: 'currency',\n  currency: 'USD'\n};\nvar ruMoneyIntl = {\n  style: 'currency',\n  currency: 'RUB'\n};\nvar rsMoneyIntl = {\n  style: 'currency',\n  currency: 'RSD'\n};\nvar msMoneyIntl = {\n  style: 'currency',\n  currency: 'MYR'\n};\nvar ptMoneyIntl = {\n  style: 'currency',\n  currency: 'BRL'\n};\nvar intlMap = {\n  default: defaultMoneyIntl,\n  'zh-Hans-CN': {\n    currency: 'CNY',\n    style: 'currency'\n  },\n  'en-US': enMoneyIntl,\n  'ru-RU': ruMoneyIntl,\n  'ms-MY': msMoneyIntl,\n  'sr-RS': rsMoneyIntl,\n  'pt-BR': ptMoneyIntl\n};\n\n/**\n * A function that formats the number.\n * @param {string | false} moneySymbol - The currency symbol, which is the first parameter of the\n * formatMoney function.\n * @param {number | string | undefined} paramsText - The text to be formatted\n * @param {number} precision - number, // decimal places\n * @param {any} [config] - the configuration of the number format, which is the same as the\n * configuration of the number format in the Intl.NumberFormat method.\n * @returns A function that takes in 4 parameters and returns a string.\n */\nvar getTextByLocale = function getTextByLocale(moneySymbol, paramsText, precision, config) {\n  var moneyText = paramsText === null || paramsText === void 0 ? void 0 : paramsText.toString().replaceAll(',', '');\n  if (typeof moneyText === 'string') {\n    moneyText = Number(moneyText);\n  }\n  if (!moneyText && moneyText !== 0) return '';\n  try {\n    // Formatting the number, when readonly moneySymbol = false, unused currency.\n    var finalMoneyText = new Intl.NumberFormat(moneySymbol || 'zh-Hans-CN', _objectSpread(_objectSpread({}, intlMap[moneySymbol || 'zh-Hans-CN'] || intlMap['zh-Hans-CN']), {}, {\n      maximumFractionDigits: precision\n    }, config))\n    // fix: #6003 解决未指定货币符号时，金额文本格式化异常问题\n    .format(moneyText);\n\n    // 是否有金额符号，例如 ￥ $\n    var hasMoneySymbol = moneySymbol === false;\n\n    /**\n     * 首字母判断是否是正负符号\n     */\n    var _ref = finalMoneyText || '',\n      _ref2 = _slicedToArray(_ref, 1),\n      operatorSymbol = _ref2[0];\n\n    // 兼容正负号\n    if (['+', '-'].includes(operatorSymbol)) {\n      // 裁剪字符串,有符号截取两位，没有符号截取一位\n      return \"\".concat(operatorSymbol).concat(finalMoneyText.substring(hasMoneySymbol ? 2 : 1));\n    }\n\n    // 没有正负符号截取一位\n    return finalMoneyText.substring(hasMoneySymbol ? 1 : 0);\n  } catch (error) {\n    return moneyText;\n  }\n};\n\n// 默认的代码类型\nvar DefaultPrecisionCont = 2;\n\n/**\n * input 的弹框，用于显示格式化之后的内容\n *\n * @result 10,000 -> 一万\n * @result 10, 00, 000, 000 -> 一亿\n */\nvar InputNumberPopover = /*#__PURE__*/React.forwardRef(function (_ref3, ref) {\n  var content = _ref3.content,\n    numberFormatOptions = _ref3.numberFormatOptions,\n    numberPopoverRender = _ref3.numberPopoverRender,\n    open = _ref3.open,\n    rest = _objectWithoutProperties(_ref3, _excluded);\n  var _useMergedState = useMergedState(function () {\n      return rest.defaultValue;\n    }, {\n      value: rest.value,\n      onChange: rest.onChange\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    value = _useMergedState2[0],\n    onChange = _useMergedState2[1];\n\n  /**\n   * 如果content 存在要根据 content 渲染一下\n   */\n  var dom = content === null || content === void 0 ? void 0 : content(_objectSpread(_objectSpread({}, rest), {}, {\n    value: value\n  }));\n  var props = openVisibleCompatible(dom ? open : false);\n  return /*#__PURE__*/_jsx(Popover, _objectSpread(_objectSpread({\n    placement: \"topLeft\"\n  }, props), {}, {\n    trigger: ['focus', 'click'],\n    content: dom,\n    getPopupContainer: function getPopupContainer(triggerNode) {\n      return (triggerNode === null || triggerNode === void 0 ? void 0 : triggerNode.parentElement) || document.body;\n    },\n    children: /*#__PURE__*/_jsx(InputNumber, _objectSpread(_objectSpread({\n      ref: ref\n    }, rest), {}, {\n      value: value,\n      onChange: onChange\n    }))\n  }));\n});\n\n/**\n * 金额组件\n *\n * @param FieldMoneyProps {\n *     text: number;\n *     moneySymbol?: string; }\n */\nvar FieldMoney = function FieldMoney(_ref4, ref) {\n  var _fieldProps$customSym, _fieldProps$precision;\n  var text = _ref4.text,\n    type = _ref4.mode,\n    render = _ref4.render,\n    renderFormItem = _ref4.renderFormItem,\n    fieldProps = _ref4.fieldProps,\n    proFieldKey = _ref4.proFieldKey,\n    plain = _ref4.plain,\n    valueEnum = _ref4.valueEnum,\n    placeholder = _ref4.placeholder,\n    _ref4$locale = _ref4.locale,\n    locale = _ref4$locale === void 0 ? (_fieldProps$customSym = fieldProps.customSymbol) !== null && _fieldProps$customSym !== void 0 ? _fieldProps$customSym : 'zh-Hans-CN' : _ref4$locale,\n    _ref4$customSymbol = _ref4.customSymbol,\n    customSymbol = _ref4$customSymbol === void 0 ? fieldProps.customSymbol : _ref4$customSymbol,\n    _ref4$numberFormatOpt = _ref4.numberFormatOptions,\n    numberFormatOptions = _ref4$numberFormatOpt === void 0 ? fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.numberFormatOptions : _ref4$numberFormatOpt,\n    _ref4$numberPopoverRe = _ref4.numberPopoverRender,\n    numberPopoverRender = _ref4$numberPopoverRe === void 0 ? (fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.numberPopoverRender) || false : _ref4$numberPopoverRe,\n    rest = _objectWithoutProperties(_ref4, _excluded2);\n  var precision = (_fieldProps$precision = fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.precision) !== null && _fieldProps$precision !== void 0 ? _fieldProps$precision : DefaultPrecisionCont;\n  var intl = useIntl();\n  // 当手动传入locale时，应该以传入的locale为准，未传入时则根据全局的locale进行国际化\n  if (locale && allIntlMap[locale]) {\n    intl = allIntlMap[locale];\n  }\n  var placeholderValue = placeholder || intl.getMessage('tableForm.inputPlaceholder', '请输入');\n\n  /**\n   * 获取货币的符号\n   * 如果 customSymbol 存在直接使用 customSymbol\n   * 如果 moneySymbol 为 false，返回空\n   * 如果没有配置使用默认的\n   */\n  var moneySymbol = useMemo(function () {\n    if (customSymbol) {\n      return customSymbol;\n    }\n    if (rest.moneySymbol === false || fieldProps.moneySymbol === false) {\n      return undefined;\n    }\n    return intl.getMessage('moneySymbol', '￥');\n  }, [customSymbol, fieldProps.moneySymbol, intl, rest.moneySymbol]);\n\n  /*\n   * A function that formats the number.\n   * 1000 -> 1,000\n   */\n  var getFormateValue = useCallback(function (value) {\n    // 新建数字正则，需要配置小数点\n    var reg = new RegExp(\"\\\\B(?=(\\\\d{\".concat(3 + Math.max(precision - DefaultPrecisionCont, 0), \"})+(?!\\\\d))\"), 'g');\n    // 切分为 整数 和 小数 不同\n    var _String$split = String(value).split('.'),\n      _String$split2 = _slicedToArray(_String$split, 2),\n      intStr = _String$split2[0],\n      floatStr = _String$split2[1];\n\n    // 最终的数据string，需要去掉 , 号。\n    var resultInt = intStr.replace(reg, ',');\n\n    // 计算最终的小数点\n    var resultFloat = '';\n\n    /* Taking the floatStr and slicing it to the precision. */\n    if (floatStr && precision > 0) {\n      resultFloat = \".\".concat(floatStr.slice(0, precision === undefined ? DefaultPrecisionCont : precision));\n    }\n    return \"\".concat(resultInt).concat(resultFloat);\n  }, [precision]);\n\n  // 如果是阅读模式，直接返回字符串\n  if (type === 'read') {\n    var dom = /*#__PURE__*/_jsx(\"span\", {\n      ref: ref,\n      children: getTextByLocale(moneySymbol ? locale : false, text, precision, numberFormatOptions !== null && numberFormatOptions !== void 0 ? numberFormatOptions : fieldProps.numberFormatOptions)\n    });\n    if (render) {\n      return render(text, _objectSpread({\n        mode: type\n      }, fieldProps), dom);\n    }\n    return dom;\n  }\n  if (type === 'edit' || type === 'update') {\n    var _dom = /*#__PURE__*/_jsx(InputNumberPopover, _objectSpread({\n      content: function content(props) {\n        if (numberPopoverRender === false) return;\n        if (!props.value) return;\n        var localeText = getTextByLocale(moneySymbol ? locale : false, \"\".concat(getFormateValue(props.value)), precision, _objectSpread(_objectSpread({}, numberFormatOptions), {}, {\n          notation: 'compact'\n        }));\n        if (typeof numberPopoverRender === 'function') {\n          return numberPopoverRender === null || numberPopoverRender === void 0 ? void 0 : numberPopoverRender(props, localeText);\n        }\n        return localeText;\n      },\n      ref: ref,\n      precision: precision\n      // 删除默认min={0}，允许输入一个负数的金额，用户可自行配置min来限制是否允许小于0的金额\n      ,\n\n      formatter: function formatter(value) {\n        if (value && moneySymbol) {\n          return \"\".concat(moneySymbol, \" \").concat(getFormateValue(value));\n        }\n        return value === null || value === void 0 ? void 0 : value.toString();\n      },\n      parser: function parser(value) {\n        if (moneySymbol && value) {\n          return value.replace(new RegExp(\"\\\\\".concat(moneySymbol, \"\\\\s?|(,*)\"), 'g'), '');\n        }\n        return value;\n      },\n      placeholder: placeholderValue\n    }, omit(fieldProps, ['numberFormatOptions', 'precision', 'numberPopoverRender', 'customSymbol', 'moneySymbol', 'visible', 'open'])));\n    if (renderFormItem) {\n      return renderFormItem(text, _objectSpread({\n        mode: type\n      }, fieldProps), _dom);\n    }\n    return _dom;\n  }\n  return null;\n};\nexport default /*#__PURE__*/React.forwardRef(FieldMoney);","map":{"version":3,"names":["_objectWithoutProperties","_slicedToArray","_objectSpread","_excluded","_excluded2","intlMap","allIntlMap","useIntl","InputNumber","Popover","omit","useMergedState","React","useCallback","useMemo","openVisibleCompatible","jsx","_jsx","defaultMoneyIntl","Intl","NumberFormat","currency","style","enMoneyIntl","ruMoneyIntl","rsMoneyIntl","msMoneyIntl","ptMoneyIntl","default","getTextByLocale","moneySymbol","paramsText","precision","config","moneyText","toString","replaceAll","Number","finalMoneyText","maximumFractionDigits","format","hasMoneySymbol","_ref","_ref2","operatorSymbol","includes","concat","substring","error","DefaultPrecisionCont","InputNumberPopover","forwardRef","_ref3","ref","content","numberFormatOptions","numberPopoverRender","open","rest","_useMergedState","defaultValue","value","onChange","_useMergedState2","dom","props","placement","trigger","getPopupContainer","triggerNode","parentElement","document","body","children","FieldMoney","_ref4","_fieldProps$customSym","_fieldProps$precision","text","type","mode","render","renderFormItem","fieldProps","proFieldKey","plain","valueEnum","placeholder","_ref4$locale","locale","customSymbol","_ref4$customSymbol","_ref4$numberFormatOpt","_ref4$numberPopoverRe","intl","placeholderValue","getMessage","undefined","getFormateValue","reg","RegExp","Math","max","_String$split","String","split","_String$split2","intStr","floatStr","resultInt","replace","resultFloat","slice","_dom","localeText","notation","formatter","parser"],"sources":["D:/LearnDeveloper/ReactJS/student-management-infor/node_modules/@ant-design/pro-field/es/components/Money/index.js"],"sourcesContent":["import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nvar _excluded = [\"content\", \"numberFormatOptions\", \"numberPopoverRender\", \"open\"],\n  _excluded2 = [\"text\", \"mode\", \"render\", \"renderFormItem\", \"fieldProps\", \"proFieldKey\", \"plain\", \"valueEnum\", \"placeholder\", \"locale\", \"customSymbol\", \"numberFormatOptions\", \"numberPopoverRender\"];\nimport { intlMap as allIntlMap, useIntl } from '@ant-design/pro-provider';\nimport { InputNumber, Popover } from 'antd';\nimport omit from 'omit.js';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport React, { useCallback, useMemo } from 'react';\n// 兼容代码-----------\nimport \"antd/es/input-number/style\";\nimport \"antd/es/popover/style\";\n//----------------------\n\nimport { openVisibleCompatible } from '@ant-design/pro-utils';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar defaultMoneyIntl = new Intl.NumberFormat('zh-Hans-CN', {\n  currency: 'CNY',\n  style: 'currency'\n});\nvar enMoneyIntl = {\n  style: 'currency',\n  currency: 'USD'\n};\nvar ruMoneyIntl = {\n  style: 'currency',\n  currency: 'RUB'\n};\nvar rsMoneyIntl = {\n  style: 'currency',\n  currency: 'RSD'\n};\nvar msMoneyIntl = {\n  style: 'currency',\n  currency: 'MYR'\n};\nvar ptMoneyIntl = {\n  style: 'currency',\n  currency: 'BRL'\n};\nvar intlMap = {\n  default: defaultMoneyIntl,\n  'zh-Hans-CN': {\n    currency: 'CNY',\n    style: 'currency'\n  },\n  'en-US': enMoneyIntl,\n  'ru-RU': ruMoneyIntl,\n  'ms-MY': msMoneyIntl,\n  'sr-RS': rsMoneyIntl,\n  'pt-BR': ptMoneyIntl\n};\n\n/**\n * A function that formats the number.\n * @param {string | false} moneySymbol - The currency symbol, which is the first parameter of the\n * formatMoney function.\n * @param {number | string | undefined} paramsText - The text to be formatted\n * @param {number} precision - number, // decimal places\n * @param {any} [config] - the configuration of the number format, which is the same as the\n * configuration of the number format in the Intl.NumberFormat method.\n * @returns A function that takes in 4 parameters and returns a string.\n */\nvar getTextByLocale = function getTextByLocale(moneySymbol, paramsText, precision, config) {\n  var moneyText = paramsText === null || paramsText === void 0 ? void 0 : paramsText.toString().replaceAll(',', '');\n  if (typeof moneyText === 'string') {\n    moneyText = Number(moneyText);\n  }\n  if (!moneyText && moneyText !== 0) return '';\n  try {\n    // Formatting the number, when readonly moneySymbol = false, unused currency.\n    var finalMoneyText = new Intl.NumberFormat(moneySymbol || 'zh-Hans-CN', _objectSpread(_objectSpread({}, intlMap[moneySymbol || 'zh-Hans-CN'] || intlMap['zh-Hans-CN']), {}, {\n      maximumFractionDigits: precision\n    }, config))\n    // fix: #6003 解决未指定货币符号时，金额文本格式化异常问题\n    .format(moneyText);\n\n    // 是否有金额符号，例如 ￥ $\n    var hasMoneySymbol = moneySymbol === false;\n\n    /**\n     * 首字母判断是否是正负符号\n     */\n    var _ref = finalMoneyText || '',\n      _ref2 = _slicedToArray(_ref, 1),\n      operatorSymbol = _ref2[0];\n\n    // 兼容正负号\n    if (['+', '-'].includes(operatorSymbol)) {\n      // 裁剪字符串,有符号截取两位，没有符号截取一位\n      return \"\".concat(operatorSymbol).concat(finalMoneyText.substring(hasMoneySymbol ? 2 : 1));\n    }\n\n    // 没有正负符号截取一位\n    return finalMoneyText.substring(hasMoneySymbol ? 1 : 0);\n  } catch (error) {\n    return moneyText;\n  }\n};\n\n// 默认的代码类型\nvar DefaultPrecisionCont = 2;\n\n/**\n * input 的弹框，用于显示格式化之后的内容\n *\n * @result 10,000 -> 一万\n * @result 10, 00, 000, 000 -> 一亿\n */\nvar InputNumberPopover = /*#__PURE__*/React.forwardRef(function (_ref3, ref) {\n  var content = _ref3.content,\n    numberFormatOptions = _ref3.numberFormatOptions,\n    numberPopoverRender = _ref3.numberPopoverRender,\n    open = _ref3.open,\n    rest = _objectWithoutProperties(_ref3, _excluded);\n  var _useMergedState = useMergedState(function () {\n      return rest.defaultValue;\n    }, {\n      value: rest.value,\n      onChange: rest.onChange\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    value = _useMergedState2[0],\n    onChange = _useMergedState2[1];\n\n  /**\n   * 如果content 存在要根据 content 渲染一下\n   */\n  var dom = content === null || content === void 0 ? void 0 : content(_objectSpread(_objectSpread({}, rest), {}, {\n    value: value\n  }));\n  var props = openVisibleCompatible(dom ? open : false);\n  return /*#__PURE__*/_jsx(Popover, _objectSpread(_objectSpread({\n    placement: \"topLeft\"\n  }, props), {}, {\n    trigger: ['focus', 'click'],\n    content: dom,\n    getPopupContainer: function getPopupContainer(triggerNode) {\n      return (triggerNode === null || triggerNode === void 0 ? void 0 : triggerNode.parentElement) || document.body;\n    },\n    children: /*#__PURE__*/_jsx(InputNumber, _objectSpread(_objectSpread({\n      ref: ref\n    }, rest), {}, {\n      value: value,\n      onChange: onChange\n    }))\n  }));\n});\n\n/**\n * 金额组件\n *\n * @param FieldMoneyProps {\n *     text: number;\n *     moneySymbol?: string; }\n */\nvar FieldMoney = function FieldMoney(_ref4, ref) {\n  var _fieldProps$customSym, _fieldProps$precision;\n  var text = _ref4.text,\n    type = _ref4.mode,\n    render = _ref4.render,\n    renderFormItem = _ref4.renderFormItem,\n    fieldProps = _ref4.fieldProps,\n    proFieldKey = _ref4.proFieldKey,\n    plain = _ref4.plain,\n    valueEnum = _ref4.valueEnum,\n    placeholder = _ref4.placeholder,\n    _ref4$locale = _ref4.locale,\n    locale = _ref4$locale === void 0 ? (_fieldProps$customSym = fieldProps.customSymbol) !== null && _fieldProps$customSym !== void 0 ? _fieldProps$customSym : 'zh-Hans-CN' : _ref4$locale,\n    _ref4$customSymbol = _ref4.customSymbol,\n    customSymbol = _ref4$customSymbol === void 0 ? fieldProps.customSymbol : _ref4$customSymbol,\n    _ref4$numberFormatOpt = _ref4.numberFormatOptions,\n    numberFormatOptions = _ref4$numberFormatOpt === void 0 ? fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.numberFormatOptions : _ref4$numberFormatOpt,\n    _ref4$numberPopoverRe = _ref4.numberPopoverRender,\n    numberPopoverRender = _ref4$numberPopoverRe === void 0 ? (fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.numberPopoverRender) || false : _ref4$numberPopoverRe,\n    rest = _objectWithoutProperties(_ref4, _excluded2);\n  var precision = (_fieldProps$precision = fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.precision) !== null && _fieldProps$precision !== void 0 ? _fieldProps$precision : DefaultPrecisionCont;\n  var intl = useIntl();\n  // 当手动传入locale时，应该以传入的locale为准，未传入时则根据全局的locale进行国际化\n  if (locale && allIntlMap[locale]) {\n    intl = allIntlMap[locale];\n  }\n  var placeholderValue = placeholder || intl.getMessage('tableForm.inputPlaceholder', '请输入');\n\n  /**\n   * 获取货币的符号\n   * 如果 customSymbol 存在直接使用 customSymbol\n   * 如果 moneySymbol 为 false，返回空\n   * 如果没有配置使用默认的\n   */\n  var moneySymbol = useMemo(function () {\n    if (customSymbol) {\n      return customSymbol;\n    }\n    if (rest.moneySymbol === false || fieldProps.moneySymbol === false) {\n      return undefined;\n    }\n    return intl.getMessage('moneySymbol', '￥');\n  }, [customSymbol, fieldProps.moneySymbol, intl, rest.moneySymbol]);\n\n  /*\n   * A function that formats the number.\n   * 1000 -> 1,000\n   */\n  var getFormateValue = useCallback(function (value) {\n    // 新建数字正则，需要配置小数点\n    var reg = new RegExp(\"\\\\B(?=(\\\\d{\".concat(3 + Math.max(precision - DefaultPrecisionCont, 0), \"})+(?!\\\\d))\"), 'g');\n    // 切分为 整数 和 小数 不同\n    var _String$split = String(value).split('.'),\n      _String$split2 = _slicedToArray(_String$split, 2),\n      intStr = _String$split2[0],\n      floatStr = _String$split2[1];\n\n    // 最终的数据string，需要去掉 , 号。\n    var resultInt = intStr.replace(reg, ',');\n\n    // 计算最终的小数点\n    var resultFloat = '';\n\n    /* Taking the floatStr and slicing it to the precision. */\n    if (floatStr && precision > 0) {\n      resultFloat = \".\".concat(floatStr.slice(0, precision === undefined ? DefaultPrecisionCont : precision));\n    }\n    return \"\".concat(resultInt).concat(resultFloat);\n  }, [precision]);\n\n  // 如果是阅读模式，直接返回字符串\n  if (type === 'read') {\n    var dom = /*#__PURE__*/_jsx(\"span\", {\n      ref: ref,\n      children: getTextByLocale(moneySymbol ? locale : false, text, precision, numberFormatOptions !== null && numberFormatOptions !== void 0 ? numberFormatOptions : fieldProps.numberFormatOptions)\n    });\n    if (render) {\n      return render(text, _objectSpread({\n        mode: type\n      }, fieldProps), dom);\n    }\n    return dom;\n  }\n  if (type === 'edit' || type === 'update') {\n    var _dom = /*#__PURE__*/_jsx(InputNumberPopover, _objectSpread({\n      content: function content(props) {\n        if (numberPopoverRender === false) return;\n        if (!props.value) return;\n        var localeText = getTextByLocale(moneySymbol ? locale : false, \"\".concat(getFormateValue(props.value)), precision, _objectSpread(_objectSpread({}, numberFormatOptions), {}, {\n          notation: 'compact'\n        }));\n        if (typeof numberPopoverRender === 'function') {\n          return numberPopoverRender === null || numberPopoverRender === void 0 ? void 0 : numberPopoverRender(props, localeText);\n        }\n        return localeText;\n      },\n      ref: ref,\n      precision: precision\n      // 删除默认min={0}，允许输入一个负数的金额，用户可自行配置min来限制是否允许小于0的金额\n      ,\n      formatter: function formatter(value) {\n        if (value && moneySymbol) {\n          return \"\".concat(moneySymbol, \" \").concat(getFormateValue(value));\n        }\n        return value === null || value === void 0 ? void 0 : value.toString();\n      },\n      parser: function parser(value) {\n        if (moneySymbol && value) {\n          return value.replace(new RegExp(\"\\\\\".concat(moneySymbol, \"\\\\s?|(,*)\"), 'g'), '');\n        }\n        return value;\n      },\n      placeholder: placeholderValue\n    }, omit(fieldProps, ['numberFormatOptions', 'precision', 'numberPopoverRender', 'customSymbol', 'moneySymbol', 'visible', 'open'])));\n    if (renderFormItem) {\n      return renderFormItem(text, _objectSpread({\n        mode: type\n      }, fieldProps), _dom);\n    }\n    return _dom;\n  }\n  return null;\n};\nexport default /*#__PURE__*/React.forwardRef(FieldMoney);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}