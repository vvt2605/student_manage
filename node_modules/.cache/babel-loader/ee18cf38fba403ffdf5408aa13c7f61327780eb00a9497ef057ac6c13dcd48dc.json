{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { InputNumber } from 'antd';\nimport { isNil } from '@ant-design/pro-utils';\nimport React, { useCallback } from 'react';\nimport omit from 'omit.js';\n// 兼容代码-----------\nimport \"antd/es/input-number/style\";\nimport { useIntl } from '@ant-design/pro-provider';\n//----------------------\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n/**\n * 数字组件\n *\n * @param FieldDigitProps {\n *     text: number;\n *     moneySymbol?: string; }\n */\nvar FieldDigit = function FieldDigit(_ref, ref) {\n  var text = _ref.text,\n    type = _ref.mode,\n    render = _ref.render,\n    placeholder = _ref.placeholder,\n    renderFormItem = _ref.renderFormItem,\n    fieldProps = _ref.fieldProps;\n  var intl = useIntl();\n  var placeholderValue = placeholder || intl.getMessage('tableForm.inputPlaceholder', '请输入');\n  var proxyChange = useCallback(function (value) {\n    var _fieldProps$onChange;\n    var val = value !== null && value !== void 0 ? value : undefined;\n    if (typeof val === 'string') {\n      val = Number(val);\n    }\n    if (typeof val === 'number' && !isNil(val) && !isNil(fieldProps.precision)) {\n      val = Number(val.toFixed(fieldProps.precision));\n    }\n    return fieldProps === null || fieldProps === void 0 ? void 0 : (_fieldProps$onChange = fieldProps.onChange) === null || _fieldProps$onChange === void 0 ? void 0 : _fieldProps$onChange.call(fieldProps, val);\n  }, [fieldProps]);\n  if (type === 'read') {\n    var _fieldProps$formatter;\n    var fractionDigits = {};\n    if (fieldProps !== null && fieldProps !== void 0 && fieldProps.precision) {\n      fractionDigits = {\n        minimumFractionDigits: Number(fieldProps.precision),\n        maximumFractionDigits: Number(fieldProps.precision)\n      };\n    }\n    var digit = new Intl.NumberFormat(undefined, _objectSpread(_objectSpread({}, fractionDigits), (fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.intlProps) || {})).format(Number(text));\n    var dom = /*#__PURE__*/_jsx(\"span\", {\n      ref: ref,\n      children: (fieldProps === null || fieldProps === void 0 ? void 0 : (_fieldProps$formatter = fieldProps.formatter) === null || _fieldProps$formatter === void 0 ? void 0 : _fieldProps$formatter.call(fieldProps, digit)) || digit\n    });\n    if (render) {\n      return render(text, _objectSpread({\n        mode: type\n      }, fieldProps), dom);\n    }\n    return dom;\n  }\n  if (type === 'edit' || type === 'update') {\n    var _dom = /*#__PURE__*/_jsx(InputNumber, _objectSpread(_objectSpread({\n      ref: ref,\n      min: 0,\n      placeholder: placeholderValue\n    }, omit(fieldProps, ['onChange'])), {}, {\n      onChange: proxyChange\n    }));\n    if (renderFormItem) {\n      return renderFormItem(text, _objectSpread({\n        mode: type\n      }, fieldProps), _dom);\n    }\n    return _dom;\n  }\n  return null;\n};\nexport default /*#__PURE__*/React.forwardRef(FieldDigit);","map":{"version":3,"names":["_objectSpread","InputNumber","isNil","React","useCallback","omit","useIntl","jsx","_jsx","FieldDigit","_ref","ref","text","type","mode","render","placeholder","renderFormItem","fieldProps","intl","placeholderValue","getMessage","proxyChange","value","_fieldProps$onChange","val","undefined","Number","precision","toFixed","onChange","call","_fieldProps$formatter","fractionDigits","minimumFractionDigits","maximumFractionDigits","digit","Intl","NumberFormat","intlProps","format","dom","children","formatter","_dom","min","forwardRef"],"sources":["D:/LearnDeveloper/ReactJS/student-management-infor/node_modules/@ant-design/pro-field/es/components/Digit/index.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { InputNumber } from 'antd';\nimport { isNil } from '@ant-design/pro-utils';\nimport React, { useCallback } from 'react';\nimport omit from 'omit.js';\n// 兼容代码-----------\nimport \"antd/es/input-number/style\";\nimport { useIntl } from '@ant-design/pro-provider';\n//----------------------\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n/**\n * 数字组件\n *\n * @param FieldDigitProps {\n *     text: number;\n *     moneySymbol?: string; }\n */\nvar FieldDigit = function FieldDigit(_ref, ref) {\n  var text = _ref.text,\n    type = _ref.mode,\n    render = _ref.render,\n    placeholder = _ref.placeholder,\n    renderFormItem = _ref.renderFormItem,\n    fieldProps = _ref.fieldProps;\n  var intl = useIntl();\n  var placeholderValue = placeholder || intl.getMessage('tableForm.inputPlaceholder', '请输入');\n  var proxyChange = useCallback(function (value) {\n    var _fieldProps$onChange;\n    var val = value !== null && value !== void 0 ? value : undefined;\n    if (typeof val === 'string') {\n      val = Number(val);\n    }\n    if (typeof val === 'number' && !isNil(val) && !isNil(fieldProps.precision)) {\n      val = Number(val.toFixed(fieldProps.precision));\n    }\n    return fieldProps === null || fieldProps === void 0 ? void 0 : (_fieldProps$onChange = fieldProps.onChange) === null || _fieldProps$onChange === void 0 ? void 0 : _fieldProps$onChange.call(fieldProps, val);\n  }, [fieldProps]);\n  if (type === 'read') {\n    var _fieldProps$formatter;\n    var fractionDigits = {};\n    if (fieldProps !== null && fieldProps !== void 0 && fieldProps.precision) {\n      fractionDigits = {\n        minimumFractionDigits: Number(fieldProps.precision),\n        maximumFractionDigits: Number(fieldProps.precision)\n      };\n    }\n    var digit = new Intl.NumberFormat(undefined, _objectSpread(_objectSpread({}, fractionDigits), (fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.intlProps) || {})).format(Number(text));\n    var dom = /*#__PURE__*/_jsx(\"span\", {\n      ref: ref,\n      children: (fieldProps === null || fieldProps === void 0 ? void 0 : (_fieldProps$formatter = fieldProps.formatter) === null || _fieldProps$formatter === void 0 ? void 0 : _fieldProps$formatter.call(fieldProps, digit)) || digit\n    });\n    if (render) {\n      return render(text, _objectSpread({\n        mode: type\n      }, fieldProps), dom);\n    }\n    return dom;\n  }\n  if (type === 'edit' || type === 'update') {\n    var _dom = /*#__PURE__*/_jsx(InputNumber, _objectSpread(_objectSpread({\n      ref: ref,\n      min: 0,\n      placeholder: placeholderValue\n    }, omit(fieldProps, ['onChange'])), {}, {\n      onChange: proxyChange\n    }));\n    if (renderFormItem) {\n      return renderFormItem(text, _objectSpread({\n        mode: type\n      }, fieldProps), _dom);\n    }\n    return _dom;\n  }\n  return null;\n};\nexport default /*#__PURE__*/React.forwardRef(FieldDigit);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}