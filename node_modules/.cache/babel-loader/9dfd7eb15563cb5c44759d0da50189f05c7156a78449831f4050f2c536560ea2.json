{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"label\", \"size\", \"disabled\", \"onChange\", \"className\", \"style\", \"children\", \"valuePropName\", \"placeholder\", \"labelFormatter\", \"bordered\", \"footerRender\", \"allowClear\", \"otherFieldProps\", \"valueType\", \"placement\"];\nimport { dateArrayFormatter, dateFormatterMap, FieldLabel, FilterDropdown, useMountMergeState } from '@ant-design/pro-utils';\nimport { ConfigProvider } from 'antd';\nimport classNames from 'classnames';\nimport React, { useContext, useMemo, useState } from 'react';\nimport { useStyle } from \"./style\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar LightWrapper = function LightWrapper(props) {\n  var _objectSpread2;\n  var label = props.label,\n    size = props.size,\n    disabled = props.disabled,\n    propsOnChange = props.onChange,\n    className = props.className,\n    style = props.style,\n    children = props.children,\n    valuePropName = props.valuePropName,\n    placeholder = props.placeholder,\n    labelFormatter = props.labelFormatter,\n    bordered = props.bordered,\n    footerRender = props.footerRender,\n    allowClear = props.allowClear,\n    otherFieldProps = props.otherFieldProps,\n    valueType = props.valueType,\n    placement = props.placement,\n    rest = _objectWithoutProperties(props, _excluded);\n  var _useContext = useContext(ConfigProvider.ConfigContext),\n    getPrefixCls = _useContext.getPrefixCls;\n  var prefixCls = getPrefixCls('pro-field-light-wrapper');\n  var _useStyle = useStyle(prefixCls),\n    wrapSSR = _useStyle.wrapSSR,\n    hashId = _useStyle.hashId;\n  var _useState = useState(props[valuePropName]),\n    _useState2 = _slicedToArray(_useState, 2),\n    tempValue = _useState2[0],\n    setTempValue = _useState2[1];\n  var _useMountMergeState = useMountMergeState(false),\n    _useMountMergeState2 = _slicedToArray(_useMountMergeState, 2),\n    open = _useMountMergeState2[0],\n    setOpen = _useMountMergeState2[1];\n  var onChange = function onChange() {\n    var _otherFieldProps$onCh;\n    for (var _len = arguments.length, restParams = new Array(_len), _key = 0; _key < _len; _key++) {\n      restParams[_key] = arguments[_key];\n    }\n    otherFieldProps === null || otherFieldProps === void 0 ? void 0 : (_otherFieldProps$onCh = otherFieldProps.onChange) === null || _otherFieldProps$onCh === void 0 ? void 0 : _otherFieldProps$onCh.call.apply(_otherFieldProps$onCh, [otherFieldProps].concat(restParams));\n    propsOnChange === null || propsOnChange === void 0 ? void 0 : propsOnChange.apply(void 0, restParams);\n  };\n  var labelValue = props[valuePropName];\n\n  /** DataRange的转化，dayjs 的 toString 有点不好用 */\n  var labelText = useMemo(function () {\n    var _valueType$toLowerCas;\n    if (valueType !== null && valueType !== void 0 && (_valueType$toLowerCas = valueType.toLowerCase()) !== null && _valueType$toLowerCas !== void 0 && _valueType$toLowerCas.endsWith('range') && valueType !== 'digitRange' && !labelFormatter) {\n      return dateArrayFormatter(labelValue, dateFormatterMap[valueType] || 'YYYY-MM-DD');\n    }\n    return labelValue;\n  }, [labelValue, valueType, labelFormatter]);\n  return wrapSSR( /*#__PURE__*/_jsx(FilterDropdown, {\n    disabled: disabled,\n    open: open,\n    onOpenChange: setOpen,\n    placement: placement,\n    label: /*#__PURE__*/_jsx(FieldLabel, {\n      ellipsis: true,\n      size: size,\n      onClear: function onClear() {\n        onChange === null || onChange === void 0 ? void 0 : onChange();\n        setTempValue('');\n      },\n      bordered: bordered,\n      style: style,\n      className: className,\n      label: label,\n      placeholder: placeholder,\n      value: labelText,\n      disabled: disabled,\n      expanded: open,\n      formatter: labelFormatter,\n      allowClear: allowClear\n    }),\n    footer: {\n      onClear: function onClear() {\n        return setTempValue('');\n      },\n      onConfirm: function onConfirm() {\n        onChange === null || onChange === void 0 ? void 0 : onChange(tempValue);\n        setOpen(false);\n      }\n    },\n    footerRender: footerRender,\n    children: /*#__PURE__*/_jsx(\"div\", {\n      className: classNames(\"\".concat(prefixCls, \"-container\"), hashId, className),\n      style: style,\n      children: /*#__PURE__*/React.cloneElement(children, _objectSpread(_objectSpread({}, rest), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, valuePropName, tempValue), _defineProperty(_objectSpread2, \"onChange\", function onChange(e) {\n        setTempValue(e !== null && e !== void 0 && e.target ? e.target.value : e);\n      }), _objectSpread2), children.props))\n    })\n  }));\n};\nexport { LightWrapper };","map":{"version":3,"names":["_defineProperty","_objectSpread","_slicedToArray","_objectWithoutProperties","_excluded","dateArrayFormatter","dateFormatterMap","FieldLabel","FilterDropdown","useMountMergeState","ConfigProvider","classNames","React","useContext","useMemo","useState","useStyle","jsx","_jsx","LightWrapper","props","_objectSpread2","label","size","disabled","propsOnChange","onChange","className","style","children","valuePropName","placeholder","labelFormatter","bordered","footerRender","allowClear","otherFieldProps","valueType","placement","rest","_useContext","ConfigContext","getPrefixCls","prefixCls","_useStyle","wrapSSR","hashId","_useState","_useState2","tempValue","setTempValue","_useMountMergeState","_useMountMergeState2","open","setOpen","_otherFieldProps$onCh","_len","arguments","length","restParams","Array","_key","call","apply","concat","labelValue","labelText","_valueType$toLowerCas","toLowerCase","endsWith","onOpenChange","ellipsis","onClear","value","expanded","formatter","footer","onConfirm","cloneElement","e","target"],"sources":["D:/LearnDeveloper/ReactJS/student-management-infor/node_modules/@ant-design/pro-form/es/BaseForm/LightWrapper/index.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"label\", \"size\", \"disabled\", \"onChange\", \"className\", \"style\", \"children\", \"valuePropName\", \"placeholder\", \"labelFormatter\", \"bordered\", \"footerRender\", \"allowClear\", \"otherFieldProps\", \"valueType\", \"placement\"];\nimport { dateArrayFormatter, dateFormatterMap, FieldLabel, FilterDropdown, useMountMergeState } from '@ant-design/pro-utils';\nimport { ConfigProvider } from 'antd';\nimport classNames from 'classnames';\nimport React, { useContext, useMemo, useState } from 'react';\nimport { useStyle } from \"./style\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar LightWrapper = function LightWrapper(props) {\n  var _objectSpread2;\n  var label = props.label,\n    size = props.size,\n    disabled = props.disabled,\n    propsOnChange = props.onChange,\n    className = props.className,\n    style = props.style,\n    children = props.children,\n    valuePropName = props.valuePropName,\n    placeholder = props.placeholder,\n    labelFormatter = props.labelFormatter,\n    bordered = props.bordered,\n    footerRender = props.footerRender,\n    allowClear = props.allowClear,\n    otherFieldProps = props.otherFieldProps,\n    valueType = props.valueType,\n    placement = props.placement,\n    rest = _objectWithoutProperties(props, _excluded);\n  var _useContext = useContext(ConfigProvider.ConfigContext),\n    getPrefixCls = _useContext.getPrefixCls;\n  var prefixCls = getPrefixCls('pro-field-light-wrapper');\n  var _useStyle = useStyle(prefixCls),\n    wrapSSR = _useStyle.wrapSSR,\n    hashId = _useStyle.hashId;\n  var _useState = useState(props[valuePropName]),\n    _useState2 = _slicedToArray(_useState, 2),\n    tempValue = _useState2[0],\n    setTempValue = _useState2[1];\n  var _useMountMergeState = useMountMergeState(false),\n    _useMountMergeState2 = _slicedToArray(_useMountMergeState, 2),\n    open = _useMountMergeState2[0],\n    setOpen = _useMountMergeState2[1];\n  var onChange = function onChange() {\n    var _otherFieldProps$onCh;\n    for (var _len = arguments.length, restParams = new Array(_len), _key = 0; _key < _len; _key++) {\n      restParams[_key] = arguments[_key];\n    }\n    otherFieldProps === null || otherFieldProps === void 0 ? void 0 : (_otherFieldProps$onCh = otherFieldProps.onChange) === null || _otherFieldProps$onCh === void 0 ? void 0 : _otherFieldProps$onCh.call.apply(_otherFieldProps$onCh, [otherFieldProps].concat(restParams));\n    propsOnChange === null || propsOnChange === void 0 ? void 0 : propsOnChange.apply(void 0, restParams);\n  };\n  var labelValue = props[valuePropName];\n\n  /** DataRange的转化，dayjs 的 toString 有点不好用 */\n  var labelText = useMemo(function () {\n    var _valueType$toLowerCas;\n    if (valueType !== null && valueType !== void 0 && (_valueType$toLowerCas = valueType.toLowerCase()) !== null && _valueType$toLowerCas !== void 0 && _valueType$toLowerCas.endsWith('range') && valueType !== 'digitRange' && !labelFormatter) {\n      return dateArrayFormatter(labelValue, dateFormatterMap[valueType] || 'YYYY-MM-DD');\n    }\n    return labelValue;\n  }, [labelValue, valueType, labelFormatter]);\n  return wrapSSR( /*#__PURE__*/_jsx(FilterDropdown, {\n    disabled: disabled,\n    open: open,\n    onOpenChange: setOpen,\n    placement: placement,\n    label: /*#__PURE__*/_jsx(FieldLabel, {\n      ellipsis: true,\n      size: size,\n      onClear: function onClear() {\n        onChange === null || onChange === void 0 ? void 0 : onChange();\n        setTempValue('');\n      },\n      bordered: bordered,\n      style: style,\n      className: className,\n      label: label,\n      placeholder: placeholder,\n      value: labelText,\n      disabled: disabled,\n      expanded: open,\n      formatter: labelFormatter,\n      allowClear: allowClear\n    }),\n    footer: {\n      onClear: function onClear() {\n        return setTempValue('');\n      },\n      onConfirm: function onConfirm() {\n        onChange === null || onChange === void 0 ? void 0 : onChange(tempValue);\n        setOpen(false);\n      }\n    },\n    footerRender: footerRender,\n    children: /*#__PURE__*/_jsx(\"div\", {\n      className: classNames(\"\".concat(prefixCls, \"-container\"), hashId, className),\n      style: style,\n      children: /*#__PURE__*/React.cloneElement(children, _objectSpread(_objectSpread({}, rest), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, valuePropName, tempValue), _defineProperty(_objectSpread2, \"onChange\", function onChange(e) {\n        setTempValue(e !== null && e !== void 0 && e.target ? e.target.value : e);\n      }), _objectSpread2), children.props))\n    })\n  }));\n};\nexport { LightWrapper };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}