{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nvar _excluded = [\"key\", \"dataIndex\", \"children\"],\n  _excluded2 = [\"disabled\"];\nimport { SettingOutlined, VerticalAlignBottomOutlined, VerticalAlignMiddleOutlined, VerticalAlignTopOutlined } from '@ant-design/icons';\nimport { ProProvider, useIntl } from '@ant-design/pro-provider';\nimport { runFunction, useRefFunction } from '@ant-design/pro-utils';\nimport { Checkbox, ConfigProvider, Popover, Space, Tooltip, Tree } from 'antd';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport React, { useContext, useEffect, useMemo, useRef } from 'react';\nimport { TableContext } from \"../../Store/Provide\";\nimport { genColumnKey } from \"../../utils/index\";\nimport { useStyle } from \"./style\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar ToolTipIcon = function ToolTipIcon(_ref) {\n  var title = _ref.title,\n    show = _ref.show,\n    children = _ref.children,\n    columnKey = _ref.columnKey,\n    fixed = _ref.fixed;\n  var _useContext = useContext(TableContext),\n    columnsMap = _useContext.columnsMap,\n    setColumnsMap = _useContext.setColumnsMap;\n  if (!show) {\n    return null;\n  }\n  return /*#__PURE__*/_jsx(Tooltip, {\n    title: title,\n    children: /*#__PURE__*/_jsx(\"span\", {\n      onClick: function onClick(e) {\n        e.stopPropagation();\n        e.preventDefault();\n        var config = columnsMap[columnKey] || {};\n        var columnKeyMap = _objectSpread(_objectSpread({}, columnsMap), {}, _defineProperty({}, columnKey, _objectSpread(_objectSpread({}, config), {}, {\n          fixed: fixed\n        })));\n        setColumnsMap(columnKeyMap);\n      },\n      children: children\n    })\n  });\n};\nvar CheckboxListItem = function CheckboxListItem(_ref2) {\n  var columnKey = _ref2.columnKey,\n    isLeaf = _ref2.isLeaf,\n    title = _ref2.title,\n    className = _ref2.className,\n    fixed = _ref2.fixed;\n  var intl = useIntl();\n  var _useContext2 = useContext(ProProvider),\n    hashId = _useContext2.hashId;\n  var dom = /*#__PURE__*/_jsxs(\"span\", {\n    className: \"\".concat(className, \"-list-item-option \").concat(hashId),\n    children: [/*#__PURE__*/_jsx(ToolTipIcon, {\n      columnKey: columnKey,\n      fixed: \"left\",\n      title: intl.getMessage('tableToolBar.leftPin', '固定在列首'),\n      show: fixed !== 'left',\n      children: /*#__PURE__*/_jsx(VerticalAlignTopOutlined, {})\n    }), /*#__PURE__*/_jsx(ToolTipIcon, {\n      columnKey: columnKey,\n      fixed: undefined,\n      title: intl.getMessage('tableToolBar.noPin', '不固定'),\n      show: !!fixed,\n      children: /*#__PURE__*/_jsx(VerticalAlignMiddleOutlined, {})\n    }), /*#__PURE__*/_jsx(ToolTipIcon, {\n      columnKey: columnKey,\n      fixed: \"right\",\n      title: intl.getMessage('tableToolBar.rightPin', '固定在列尾'),\n      show: fixed !== 'right',\n      children: /*#__PURE__*/_jsx(VerticalAlignBottomOutlined, {})\n    })]\n  });\n  return /*#__PURE__*/_jsxs(\"span\", {\n    className: \"\".concat(className, \"-list-item \").concat(hashId),\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"\".concat(className, \"-list-item-title \").concat(hashId),\n      children: title\n    }), !isLeaf ? dom : null]\n  }, columnKey);\n};\nvar CheckboxList = function CheckboxList(_ref3) {\n  var _treeDataConfig$list, _treeDataConfig$list2, _treeDataConfig$list3;\n  var list = _ref3.list,\n    draggable = _ref3.draggable,\n    checkable = _ref3.checkable,\n    className = _ref3.className,\n    _ref3$showTitle = _ref3.showTitle,\n    showTitle = _ref3$showTitle === void 0 ? true : _ref3$showTitle,\n    listTitle = _ref3.title,\n    _ref3$listHeight = _ref3.listHeight,\n    listHeight = _ref3$listHeight === void 0 ? 280 : _ref3$listHeight;\n  var _useContext3 = useContext(ProProvider),\n    hashId = _useContext3.hashId;\n  var _useContext4 = useContext(TableContext),\n    columnsMap = _useContext4.columnsMap,\n    setColumnsMap = _useContext4.setColumnsMap,\n    sortKeyColumns = _useContext4.sortKeyColumns,\n    setSortKeyColumns = _useContext4.setSortKeyColumns;\n  var show = list && list.length > 0;\n  var treeDataConfig = useMemo(function () {\n    if (!show) return {};\n    var checkedKeys = [];\n    var treeMap = new Map();\n    var loopData = function loopData(data, parentConfig) {\n      return data.map(function (_ref4) {\n        var _config$disable;\n        var key = _ref4.key,\n          dataIndex = _ref4.dataIndex,\n          children = _ref4.children,\n          rest = _objectWithoutProperties(_ref4, _excluded);\n        var columnKey = genColumnKey(key, [parentConfig === null || parentConfig === void 0 ? void 0 : parentConfig.columnKey, rest.index].filter(Boolean).join('-'));\n        var config = columnsMap[columnKey || 'null'] || {\n          show: true\n        };\n        if (config.show !== false && !children) {\n          checkedKeys.push(columnKey);\n        }\n        var item = _objectSpread(_objectSpread({\n          key: columnKey\n        }, omit(rest, ['className'])), {}, {\n          selectable: false,\n          disabled: config.disable === true,\n          disableCheckbox: typeof config.disable === 'boolean' ? config.disable : (_config$disable = config.disable) === null || _config$disable === void 0 ? void 0 : _config$disable.checkbox,\n          isLeaf: parentConfig ? true : undefined\n        });\n        if (children) {\n          var _item$children;\n          item.children = loopData(children, _objectSpread(_objectSpread({}, config), {}, {\n            columnKey: columnKey\n          }));\n          // 如果children 已经全部是show了，把自己也设置为show\n          if ((_item$children = item.children) !== null && _item$children !== void 0 && _item$children.every(function (childrenItem) {\n            return checkedKeys === null || checkedKeys === void 0 ? void 0 : checkedKeys.includes(childrenItem.key);\n          })) {\n            checkedKeys.push(columnKey);\n          }\n        }\n        treeMap.set(key, item);\n        return item;\n      });\n    };\n    return {\n      list: loopData(list),\n      keys: checkedKeys,\n      map: treeMap\n    };\n  }, [columnsMap, list, show]);\n\n  /** 移动到指定的位置 */\n  var move = useRefFunction(function (id, targetId, dropPosition) {\n    var newMap = _objectSpread({}, columnsMap);\n    var newColumns = _toConsumableArray(sortKeyColumns);\n    var findIndex = newColumns.findIndex(function (columnKey) {\n      return columnKey === id;\n    });\n    var targetIndex = newColumns.findIndex(function (columnKey) {\n      return columnKey === targetId;\n    });\n    var isDownWard = dropPosition > findIndex;\n    if (findIndex < 0) return;\n    var targetItem = newColumns[findIndex];\n    newColumns.splice(findIndex, 1);\n    if (dropPosition === 0) {\n      newColumns.unshift(targetItem);\n    } else {\n      newColumns.splice(isDownWard ? targetIndex : targetIndex + 1, 0, targetItem);\n    }\n    // 重新生成排序数组\n    newColumns.forEach(function (key, order) {\n      newMap[key] = _objectSpread(_objectSpread({}, newMap[key] || {}), {}, {\n        order: order\n      });\n    });\n    // 更新数组\n    setColumnsMap(newMap);\n    setSortKeyColumns(newColumns);\n  });\n\n  /** 选中反选功能 */\n  var onCheckTree = useRefFunction(function (e) {\n    var newColumnMap = _objectSpread({}, columnsMap);\n    var loopSetShow = function loopSetShow(key) {\n      var _treeDataConfig$map, _treeDataConfig$map$g;\n      var newSetting = _objectSpread({}, newColumnMap[key]);\n      newSetting.show = e.checked;\n      // 如果含有子节点，也要选中\n      if ((_treeDataConfig$map = treeDataConfig.map) !== null && _treeDataConfig$map !== void 0 && (_treeDataConfig$map$g = _treeDataConfig$map.get(key)) !== null && _treeDataConfig$map$g !== void 0 && _treeDataConfig$map$g.children) {\n        var _treeDataConfig$map$g2, _treeDataConfig$map$g3;\n        (_treeDataConfig$map$g2 = treeDataConfig.map.get(key)) === null || _treeDataConfig$map$g2 === void 0 ? void 0 : (_treeDataConfig$map$g3 = _treeDataConfig$map$g2.children) === null || _treeDataConfig$map$g3 === void 0 ? void 0 : _treeDataConfig$map$g3.forEach(function (item) {\n          return loopSetShow(item.key);\n        });\n      }\n      newColumnMap[key] = newSetting;\n    };\n    loopSetShow(e.node.key);\n    setColumnsMap(_objectSpread({}, newColumnMap));\n  });\n  if (!show) {\n    return null;\n  }\n  var listDom = /*#__PURE__*/_jsx(Tree, {\n    itemHeight: 24,\n    draggable: draggable && !!((_treeDataConfig$list = treeDataConfig.list) !== null && _treeDataConfig$list !== void 0 && _treeDataConfig$list.length) && ((_treeDataConfig$list2 = treeDataConfig.list) === null || _treeDataConfig$list2 === void 0 ? void 0 : _treeDataConfig$list2.length) > 1,\n    checkable: checkable,\n    onDrop: function onDrop(info) {\n      var dropKey = info.node.key;\n      var dragKey = info.dragNode.key;\n      var dropPosition = info.dropPosition,\n        dropToGap = info.dropToGap;\n      var position = dropPosition === -1 || !dropToGap ? dropPosition + 1 : dropPosition;\n      move(dragKey, dropKey, position);\n    },\n    blockNode: true,\n    onCheck: function onCheck(_, e) {\n      return onCheckTree(e);\n    },\n    checkedKeys: treeDataConfig.keys,\n    showLine: false,\n    titleRender: function titleRender(_node) {\n      var node = _objectSpread(_objectSpread({}, _node), {}, {\n        children: undefined\n      });\n      if (!node.title) return null;\n      return /*#__PURE__*/_jsx(CheckboxListItem, _objectSpread(_objectSpread({\n        className: className\n      }, node), {}, {\n        title: runFunction(node.title, node),\n        columnKey: node.key\n      }));\n    },\n    height: listHeight,\n    treeData: (_treeDataConfig$list3 = treeDataConfig.list) === null || _treeDataConfig$list3 === void 0 ? void 0 : _treeDataConfig$list3.map(function (_ref5) {\n      var disabled = _ref5.disabled,\n        config = _objectWithoutProperties(_ref5, _excluded2);\n      return config;\n    })\n  });\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [showTitle && /*#__PURE__*/_jsx(\"span\", {\n      className: \"\".concat(className, \"-list-title \").concat(hashId),\n      children: listTitle\n    }), listDom]\n  });\n};\nvar GroupCheckboxList = function GroupCheckboxList(_ref6) {\n  var localColumns = _ref6.localColumns,\n    className = _ref6.className,\n    draggable = _ref6.draggable,\n    checkable = _ref6.checkable,\n    listsHeight = _ref6.listsHeight;\n  var _useContext5 = useContext(ProProvider),\n    hashId = _useContext5.hashId;\n  var rightList = [];\n  var leftList = [];\n  var list = [];\n  var intl = useIntl();\n  localColumns.forEach(function (item) {\n    /** 不在 setting 中展示的 */\n    if (item.hideInSetting) {\n      return;\n    }\n    var fixed = item.fixed;\n    if (fixed === 'left') {\n      leftList.push(item);\n      return;\n    }\n    if (fixed === 'right') {\n      rightList.push(item);\n      return;\n    }\n    list.push(item);\n  });\n  var showRight = rightList && rightList.length > 0;\n  var showLeft = leftList && leftList.length > 0;\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: classNames(\"\".concat(className, \"-list\"), hashId, _defineProperty({}, \"\".concat(className, \"-list-group\"), showRight || showLeft)),\n    children: [/*#__PURE__*/_jsx(CheckboxList, {\n      title: intl.getMessage('tableToolBar.leftFixedTitle', '固定在左侧'),\n      list: leftList,\n      draggable: draggable,\n      checkable: checkable,\n      className: className,\n      listHeight: listsHeight\n    }), /*#__PURE__*/_jsx(CheckboxList, {\n      list: list,\n      draggable: draggable,\n      checkable: checkable,\n      title: intl.getMessage('tableToolBar.noFixedTitle', '不固定'),\n      showTitle: showLeft || showRight,\n      className: className,\n      listHeight: listsHeight\n    }), /*#__PURE__*/_jsx(CheckboxList, {\n      title: intl.getMessage('tableToolBar.rightFixedTitle', '固定在右侧'),\n      list: rightList,\n      draggable: draggable,\n      checkable: checkable,\n      className: className,\n      listHeight: listsHeight\n    })]\n  });\n};\nfunction ColumnSetting(props) {\n  var _props$checkable, _props$draggable;\n  var columnRef = useRef(null);\n  // 获得当前上下文的 hashID\n  var counter = useContext(TableContext);\n  var localColumns = props.columns;\n  var _props$checkedReset = props.checkedReset,\n    checkedReset = _props$checkedReset === void 0 ? true : _props$checkedReset;\n  var columnsMap = counter.columnsMap,\n    setColumnsMap = counter.setColumnsMap,\n    clearPersistenceStorage = counter.clearPersistenceStorage;\n  useEffect(function () {\n    var _counter$propsRef$cur, _counter$propsRef$cur2;\n    if ((_counter$propsRef$cur = counter.propsRef.current) !== null && _counter$propsRef$cur !== void 0 && (_counter$propsRef$cur2 = _counter$propsRef$cur.columnsState) !== null && _counter$propsRef$cur2 !== void 0 && _counter$propsRef$cur2.value) {\n      var _counter$propsRef$cur3, _counter$propsRef$cur4;\n      columnRef.current = JSON.parse(JSON.stringify(((_counter$propsRef$cur3 = counter.propsRef.current) === null || _counter$propsRef$cur3 === void 0 ? void 0 : (_counter$propsRef$cur4 = _counter$propsRef$cur3.columnsState) === null || _counter$propsRef$cur4 === void 0 ? void 0 : _counter$propsRef$cur4.value) || {}));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  /**\n   * 设置全部选中，或全部未选中\n   *\n   * @param show\n   */\n  var setAllSelectAction = useRefFunction(function () {\n    var show = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    var columnKeyMap = {};\n    var loopColumns = function loopColumns(columns) {\n      columns.forEach(function (_ref7) {\n        var key = _ref7.key,\n          fixed = _ref7.fixed,\n          index = _ref7.index,\n          children = _ref7.children,\n          disable = _ref7.disable;\n        var columnKey = genColumnKey(key, index);\n        if (columnKey) {\n          var _columnsMap$columnKey, _columnsMap$columnKey2;\n          columnKeyMap[columnKey] = {\n            // 子节点 disable 时，不修改节点显示状态\n            show: disable ? (_columnsMap$columnKey = columnsMap[columnKey]) === null || _columnsMap$columnKey === void 0 ? void 0 : _columnsMap$columnKey.show : show,\n            fixed: fixed,\n            disable: disable,\n            order: (_columnsMap$columnKey2 = columnsMap[columnKey]) === null || _columnsMap$columnKey2 === void 0 ? void 0 : _columnsMap$columnKey2.order\n          };\n        }\n        if (children) {\n          loopColumns(children);\n        }\n      });\n    };\n    loopColumns(localColumns);\n    setColumnsMap(columnKeyMap);\n  });\n\n  /** 全选和反选 */\n  var checkedAll = useRefFunction(function (e) {\n    if (e.target.checked) {\n      setAllSelectAction();\n    } else {\n      setAllSelectAction(false);\n    }\n  });\n\n  /** 重置项目 */\n  var clearClick = useRefFunction(function () {\n    var _counter$propsRef$cur5, _counter$propsRef$cur6;\n    clearPersistenceStorage === null || clearPersistenceStorage === void 0 ? void 0 : clearPersistenceStorage();\n    setColumnsMap(columnRef.current || ((_counter$propsRef$cur5 = counter.propsRef.current) === null || _counter$propsRef$cur5 === void 0 ? void 0 : (_counter$propsRef$cur6 = _counter$propsRef$cur5.columnsState) === null || _counter$propsRef$cur6 === void 0 ? void 0 : _counter$propsRef$cur6.defaultValue) || counter.defaultColumnKeyMap);\n  });\n\n  // 未选中的 key 列表\n  var unCheckedKeys = Object.values(columnsMap).filter(function (value) {\n    return !value || value.show === false;\n  });\n\n  // 是否已经选中\n  var indeterminate = unCheckedKeys.length > 0 && unCheckedKeys.length !== localColumns.length;\n  var intl = useIntl();\n  var _useContext6 = useContext(ConfigProvider.ConfigContext),\n    getPrefixCls = _useContext6.getPrefixCls;\n  var className = getPrefixCls('pro-table-column-setting');\n  var _useStyle = useStyle(className),\n    wrapSSR = _useStyle.wrapSSR,\n    hashId = _useStyle.hashId;\n  return wrapSSR( /*#__PURE__*/_jsx(Popover, {\n    arrow: false,\n    title: /*#__PURE__*/_jsxs(\"div\", {\n      className: \"\".concat(className, \"-title \").concat(hashId),\n      children: [/*#__PURE__*/_jsx(Checkbox, {\n        indeterminate: indeterminate,\n        checked: unCheckedKeys.length === 0 && unCheckedKeys.length !== localColumns.length,\n        onChange: function onChange(e) {\n          checkedAll(e);\n        },\n        children: intl.getMessage('tableToolBar.columnDisplay', '列展示')\n      }), checkedReset ? /*#__PURE__*/_jsx(\"a\", {\n        onClick: clearClick,\n        className: \"\".concat(className, \"-action-rest-button \").concat(hashId),\n        children: intl.getMessage('tableToolBar.reset', '重置')\n      }) : null, props !== null && props !== void 0 && props.extra ? /*#__PURE__*/_jsx(Space, {\n        size: 12,\n        align: \"center\",\n        children: props.extra\n      }) : null]\n    }),\n    overlayClassName: \"\".concat(className, \"-overlay \").concat(hashId),\n    trigger: \"click\",\n    placement: \"bottomRight\",\n    content: /*#__PURE__*/_jsx(GroupCheckboxList, {\n      checkable: (_props$checkable = props.checkable) !== null && _props$checkable !== void 0 ? _props$checkable : true,\n      draggable: (_props$draggable = props.draggable) !== null && _props$draggable !== void 0 ? _props$draggable : true,\n      className: className,\n      localColumns: localColumns,\n      listsHeight: props.listsHeight\n    }),\n    children: props.children || /*#__PURE__*/_jsx(Tooltip, {\n      title: intl.getMessage('tableToolBar.columnSetting', '列设置'),\n      children: /*#__PURE__*/_jsx(SettingOutlined, {})\n    })\n  }));\n}\nexport default ColumnSetting;","map":{"version":3,"names":["_toConsumableArray","_objectWithoutProperties","_defineProperty","_objectSpread","_excluded","_excluded2","SettingOutlined","VerticalAlignBottomOutlined","VerticalAlignMiddleOutlined","VerticalAlignTopOutlined","ProProvider","useIntl","runFunction","useRefFunction","Checkbox","ConfigProvider","Popover","Space","Tooltip","Tree","classNames","omit","React","useContext","useEffect","useMemo","useRef","TableContext","genColumnKey","useStyle","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ToolTipIcon","_ref","title","show","children","columnKey","fixed","_useContext","columnsMap","setColumnsMap","onClick","e","stopPropagation","preventDefault","config","columnKeyMap","CheckboxListItem","_ref2","isLeaf","className","intl","_useContext2","hashId","dom","concat","getMessage","undefined","CheckboxList","_ref3","_treeDataConfig$list","_treeDataConfig$list2","_treeDataConfig$list3","list","draggable","checkable","_ref3$showTitle","showTitle","listTitle","_ref3$listHeight","listHeight","_useContext3","_useContext4","sortKeyColumns","setSortKeyColumns","length","treeDataConfig","checkedKeys","treeMap","Map","loopData","data","parentConfig","map","_ref4","_config$disable","key","dataIndex","rest","index","filter","Boolean","join","push","item","selectable","disabled","disable","disableCheckbox","checkbox","_item$children","every","childrenItem","includes","set","keys","move","id","targetId","dropPosition","newMap","newColumns","findIndex","targetIndex","isDownWard","targetItem","splice","unshift","forEach","order","onCheckTree","newColumnMap","loopSetShow","_treeDataConfig$map","_treeDataConfig$map$g","newSetting","checked","get","_treeDataConfig$map$g2","_treeDataConfig$map$g3","node","listDom","itemHeight","onDrop","info","dropKey","dragKey","dragNode","dropToGap","position","blockNode","onCheck","_","showLine","titleRender","_node","height","treeData","_ref5","GroupCheckboxList","_ref6","localColumns","listsHeight","_useContext5","rightList","leftList","hideInSetting","showRight","showLeft","ColumnSetting","props","_props$checkable","_props$draggable","columnRef","counter","columns","_props$checkedReset","checkedReset","clearPersistenceStorage","_counter$propsRef$cur","_counter$propsRef$cur2","propsRef","current","columnsState","value","_counter$propsRef$cur3","_counter$propsRef$cur4","JSON","parse","stringify","setAllSelectAction","arguments","loopColumns","_ref7","_columnsMap$columnKey","_columnsMap$columnKey2","checkedAll","target","clearClick","_counter$propsRef$cur5","_counter$propsRef$cur6","defaultValue","defaultColumnKeyMap","unCheckedKeys","Object","values","indeterminate","_useContext6","ConfigContext","getPrefixCls","_useStyle","wrapSSR","arrow","onChange","extra","size","align","overlayClassName","trigger","placement","content"],"sources":["D:/LearnDeveloper/ReactJS/student-management-infor/node_modules/@ant-design/pro-table/es/components/ColumnSetting/index.js"],"sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nvar _excluded = [\"key\", \"dataIndex\", \"children\"],\n  _excluded2 = [\"disabled\"];\nimport { SettingOutlined, VerticalAlignBottomOutlined, VerticalAlignMiddleOutlined, VerticalAlignTopOutlined } from '@ant-design/icons';\nimport { ProProvider, useIntl } from '@ant-design/pro-provider';\nimport { runFunction, useRefFunction } from '@ant-design/pro-utils';\nimport { Checkbox, ConfigProvider, Popover, Space, Tooltip, Tree } from 'antd';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport React, { useContext, useEffect, useMemo, useRef } from 'react';\nimport { TableContext } from \"../../Store/Provide\";\nimport { genColumnKey } from \"../../utils/index\";\nimport { useStyle } from \"./style\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar ToolTipIcon = function ToolTipIcon(_ref) {\n  var title = _ref.title,\n    show = _ref.show,\n    children = _ref.children,\n    columnKey = _ref.columnKey,\n    fixed = _ref.fixed;\n  var _useContext = useContext(TableContext),\n    columnsMap = _useContext.columnsMap,\n    setColumnsMap = _useContext.setColumnsMap;\n  if (!show) {\n    return null;\n  }\n  return /*#__PURE__*/_jsx(Tooltip, {\n    title: title,\n    children: /*#__PURE__*/_jsx(\"span\", {\n      onClick: function onClick(e) {\n        e.stopPropagation();\n        e.preventDefault();\n        var config = columnsMap[columnKey] || {};\n        var columnKeyMap = _objectSpread(_objectSpread({}, columnsMap), {}, _defineProperty({}, columnKey, _objectSpread(_objectSpread({}, config), {}, {\n          fixed: fixed\n        })));\n        setColumnsMap(columnKeyMap);\n      },\n      children: children\n    })\n  });\n};\nvar CheckboxListItem = function CheckboxListItem(_ref2) {\n  var columnKey = _ref2.columnKey,\n    isLeaf = _ref2.isLeaf,\n    title = _ref2.title,\n    className = _ref2.className,\n    fixed = _ref2.fixed;\n  var intl = useIntl();\n  var _useContext2 = useContext(ProProvider),\n    hashId = _useContext2.hashId;\n  var dom = /*#__PURE__*/_jsxs(\"span\", {\n    className: \"\".concat(className, \"-list-item-option \").concat(hashId),\n    children: [/*#__PURE__*/_jsx(ToolTipIcon, {\n      columnKey: columnKey,\n      fixed: \"left\",\n      title: intl.getMessage('tableToolBar.leftPin', '固定在列首'),\n      show: fixed !== 'left',\n      children: /*#__PURE__*/_jsx(VerticalAlignTopOutlined, {})\n    }), /*#__PURE__*/_jsx(ToolTipIcon, {\n      columnKey: columnKey,\n      fixed: undefined,\n      title: intl.getMessage('tableToolBar.noPin', '不固定'),\n      show: !!fixed,\n      children: /*#__PURE__*/_jsx(VerticalAlignMiddleOutlined, {})\n    }), /*#__PURE__*/_jsx(ToolTipIcon, {\n      columnKey: columnKey,\n      fixed: \"right\",\n      title: intl.getMessage('tableToolBar.rightPin', '固定在列尾'),\n      show: fixed !== 'right',\n      children: /*#__PURE__*/_jsx(VerticalAlignBottomOutlined, {})\n    })]\n  });\n  return /*#__PURE__*/_jsxs(\"span\", {\n    className: \"\".concat(className, \"-list-item \").concat(hashId),\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"\".concat(className, \"-list-item-title \").concat(hashId),\n      children: title\n    }), !isLeaf ? dom : null]\n  }, columnKey);\n};\nvar CheckboxList = function CheckboxList(_ref3) {\n  var _treeDataConfig$list, _treeDataConfig$list2, _treeDataConfig$list3;\n  var list = _ref3.list,\n    draggable = _ref3.draggable,\n    checkable = _ref3.checkable,\n    className = _ref3.className,\n    _ref3$showTitle = _ref3.showTitle,\n    showTitle = _ref3$showTitle === void 0 ? true : _ref3$showTitle,\n    listTitle = _ref3.title,\n    _ref3$listHeight = _ref3.listHeight,\n    listHeight = _ref3$listHeight === void 0 ? 280 : _ref3$listHeight;\n  var _useContext3 = useContext(ProProvider),\n    hashId = _useContext3.hashId;\n  var _useContext4 = useContext(TableContext),\n    columnsMap = _useContext4.columnsMap,\n    setColumnsMap = _useContext4.setColumnsMap,\n    sortKeyColumns = _useContext4.sortKeyColumns,\n    setSortKeyColumns = _useContext4.setSortKeyColumns;\n  var show = list && list.length > 0;\n  var treeDataConfig = useMemo(function () {\n    if (!show) return {};\n    var checkedKeys = [];\n    var treeMap = new Map();\n    var loopData = function loopData(data, parentConfig) {\n      return data.map(function (_ref4) {\n        var _config$disable;\n        var key = _ref4.key,\n          dataIndex = _ref4.dataIndex,\n          children = _ref4.children,\n          rest = _objectWithoutProperties(_ref4, _excluded);\n        var columnKey = genColumnKey(key, [parentConfig === null || parentConfig === void 0 ? void 0 : parentConfig.columnKey, rest.index].filter(Boolean).join('-'));\n        var config = columnsMap[columnKey || 'null'] || {\n          show: true\n        };\n        if (config.show !== false && !children) {\n          checkedKeys.push(columnKey);\n        }\n        var item = _objectSpread(_objectSpread({\n          key: columnKey\n        }, omit(rest, ['className'])), {}, {\n          selectable: false,\n          disabled: config.disable === true,\n          disableCheckbox: typeof config.disable === 'boolean' ? config.disable : (_config$disable = config.disable) === null || _config$disable === void 0 ? void 0 : _config$disable.checkbox,\n          isLeaf: parentConfig ? true : undefined\n        });\n        if (children) {\n          var _item$children;\n          item.children = loopData(children, _objectSpread(_objectSpread({}, config), {}, {\n            columnKey: columnKey\n          }));\n          // 如果children 已经全部是show了，把自己也设置为show\n          if ((_item$children = item.children) !== null && _item$children !== void 0 && _item$children.every(function (childrenItem) {\n            return checkedKeys === null || checkedKeys === void 0 ? void 0 : checkedKeys.includes(childrenItem.key);\n          })) {\n            checkedKeys.push(columnKey);\n          }\n        }\n        treeMap.set(key, item);\n        return item;\n      });\n    };\n    return {\n      list: loopData(list),\n      keys: checkedKeys,\n      map: treeMap\n    };\n  }, [columnsMap, list, show]);\n\n  /** 移动到指定的位置 */\n  var move = useRefFunction(function (id, targetId, dropPosition) {\n    var newMap = _objectSpread({}, columnsMap);\n    var newColumns = _toConsumableArray(sortKeyColumns);\n    var findIndex = newColumns.findIndex(function (columnKey) {\n      return columnKey === id;\n    });\n    var targetIndex = newColumns.findIndex(function (columnKey) {\n      return columnKey === targetId;\n    });\n    var isDownWard = dropPosition > findIndex;\n    if (findIndex < 0) return;\n    var targetItem = newColumns[findIndex];\n    newColumns.splice(findIndex, 1);\n    if (dropPosition === 0) {\n      newColumns.unshift(targetItem);\n    } else {\n      newColumns.splice(isDownWard ? targetIndex : targetIndex + 1, 0, targetItem);\n    }\n    // 重新生成排序数组\n    newColumns.forEach(function (key, order) {\n      newMap[key] = _objectSpread(_objectSpread({}, newMap[key] || {}), {}, {\n        order: order\n      });\n    });\n    // 更新数组\n    setColumnsMap(newMap);\n    setSortKeyColumns(newColumns);\n  });\n\n  /** 选中反选功能 */\n  var onCheckTree = useRefFunction(function (e) {\n    var newColumnMap = _objectSpread({}, columnsMap);\n    var loopSetShow = function loopSetShow(key) {\n      var _treeDataConfig$map, _treeDataConfig$map$g;\n      var newSetting = _objectSpread({}, newColumnMap[key]);\n      newSetting.show = e.checked;\n      // 如果含有子节点，也要选中\n      if ((_treeDataConfig$map = treeDataConfig.map) !== null && _treeDataConfig$map !== void 0 && (_treeDataConfig$map$g = _treeDataConfig$map.get(key)) !== null && _treeDataConfig$map$g !== void 0 && _treeDataConfig$map$g.children) {\n        var _treeDataConfig$map$g2, _treeDataConfig$map$g3;\n        (_treeDataConfig$map$g2 = treeDataConfig.map.get(key)) === null || _treeDataConfig$map$g2 === void 0 ? void 0 : (_treeDataConfig$map$g3 = _treeDataConfig$map$g2.children) === null || _treeDataConfig$map$g3 === void 0 ? void 0 : _treeDataConfig$map$g3.forEach(function (item) {\n          return loopSetShow(item.key);\n        });\n      }\n      newColumnMap[key] = newSetting;\n    };\n    loopSetShow(e.node.key);\n    setColumnsMap(_objectSpread({}, newColumnMap));\n  });\n  if (!show) {\n    return null;\n  }\n  var listDom = /*#__PURE__*/_jsx(Tree, {\n    itemHeight: 24,\n    draggable: draggable && !!((_treeDataConfig$list = treeDataConfig.list) !== null && _treeDataConfig$list !== void 0 && _treeDataConfig$list.length) && ((_treeDataConfig$list2 = treeDataConfig.list) === null || _treeDataConfig$list2 === void 0 ? void 0 : _treeDataConfig$list2.length) > 1,\n    checkable: checkable,\n    onDrop: function onDrop(info) {\n      var dropKey = info.node.key;\n      var dragKey = info.dragNode.key;\n      var dropPosition = info.dropPosition,\n        dropToGap = info.dropToGap;\n      var position = dropPosition === -1 || !dropToGap ? dropPosition + 1 : dropPosition;\n      move(dragKey, dropKey, position);\n    },\n    blockNode: true,\n    onCheck: function onCheck(_, e) {\n      return onCheckTree(e);\n    },\n    checkedKeys: treeDataConfig.keys,\n    showLine: false,\n    titleRender: function titleRender(_node) {\n      var node = _objectSpread(_objectSpread({}, _node), {}, {\n        children: undefined\n      });\n      if (!node.title) return null;\n      return /*#__PURE__*/_jsx(CheckboxListItem, _objectSpread(_objectSpread({\n        className: className\n      }, node), {}, {\n        title: runFunction(node.title, node),\n        columnKey: node.key\n      }));\n    },\n    height: listHeight,\n    treeData: (_treeDataConfig$list3 = treeDataConfig.list) === null || _treeDataConfig$list3 === void 0 ? void 0 : _treeDataConfig$list3.map(function (_ref5) {\n      var disabled = _ref5.disabled,\n        config = _objectWithoutProperties(_ref5, _excluded2);\n      return config;\n    })\n  });\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [showTitle && /*#__PURE__*/_jsx(\"span\", {\n      className: \"\".concat(className, \"-list-title \").concat(hashId),\n      children: listTitle\n    }), listDom]\n  });\n};\nvar GroupCheckboxList = function GroupCheckboxList(_ref6) {\n  var localColumns = _ref6.localColumns,\n    className = _ref6.className,\n    draggable = _ref6.draggable,\n    checkable = _ref6.checkable,\n    listsHeight = _ref6.listsHeight;\n  var _useContext5 = useContext(ProProvider),\n    hashId = _useContext5.hashId;\n  var rightList = [];\n  var leftList = [];\n  var list = [];\n  var intl = useIntl();\n  localColumns.forEach(function (item) {\n    /** 不在 setting 中展示的 */\n    if (item.hideInSetting) {\n      return;\n    }\n    var fixed = item.fixed;\n    if (fixed === 'left') {\n      leftList.push(item);\n      return;\n    }\n    if (fixed === 'right') {\n      rightList.push(item);\n      return;\n    }\n    list.push(item);\n  });\n  var showRight = rightList && rightList.length > 0;\n  var showLeft = leftList && leftList.length > 0;\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: classNames(\"\".concat(className, \"-list\"), hashId, _defineProperty({}, \"\".concat(className, \"-list-group\"), showRight || showLeft)),\n    children: [/*#__PURE__*/_jsx(CheckboxList, {\n      title: intl.getMessage('tableToolBar.leftFixedTitle', '固定在左侧'),\n      list: leftList,\n      draggable: draggable,\n      checkable: checkable,\n      className: className,\n      listHeight: listsHeight\n    }), /*#__PURE__*/_jsx(CheckboxList, {\n      list: list,\n      draggable: draggable,\n      checkable: checkable,\n      title: intl.getMessage('tableToolBar.noFixedTitle', '不固定'),\n      showTitle: showLeft || showRight,\n      className: className,\n      listHeight: listsHeight\n    }), /*#__PURE__*/_jsx(CheckboxList, {\n      title: intl.getMessage('tableToolBar.rightFixedTitle', '固定在右侧'),\n      list: rightList,\n      draggable: draggable,\n      checkable: checkable,\n      className: className,\n      listHeight: listsHeight\n    })]\n  });\n};\nfunction ColumnSetting(props) {\n  var _props$checkable, _props$draggable;\n  var columnRef = useRef(null);\n  // 获得当前上下文的 hashID\n  var counter = useContext(TableContext);\n  var localColumns = props.columns;\n  var _props$checkedReset = props.checkedReset,\n    checkedReset = _props$checkedReset === void 0 ? true : _props$checkedReset;\n  var columnsMap = counter.columnsMap,\n    setColumnsMap = counter.setColumnsMap,\n    clearPersistenceStorage = counter.clearPersistenceStorage;\n  useEffect(function () {\n    var _counter$propsRef$cur, _counter$propsRef$cur2;\n    if ((_counter$propsRef$cur = counter.propsRef.current) !== null && _counter$propsRef$cur !== void 0 && (_counter$propsRef$cur2 = _counter$propsRef$cur.columnsState) !== null && _counter$propsRef$cur2 !== void 0 && _counter$propsRef$cur2.value) {\n      var _counter$propsRef$cur3, _counter$propsRef$cur4;\n      columnRef.current = JSON.parse(JSON.stringify(((_counter$propsRef$cur3 = counter.propsRef.current) === null || _counter$propsRef$cur3 === void 0 ? void 0 : (_counter$propsRef$cur4 = _counter$propsRef$cur3.columnsState) === null || _counter$propsRef$cur4 === void 0 ? void 0 : _counter$propsRef$cur4.value) || {}));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  /**\n   * 设置全部选中，或全部未选中\n   *\n   * @param show\n   */\n  var setAllSelectAction = useRefFunction(function () {\n    var show = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    var columnKeyMap = {};\n    var loopColumns = function loopColumns(columns) {\n      columns.forEach(function (_ref7) {\n        var key = _ref7.key,\n          fixed = _ref7.fixed,\n          index = _ref7.index,\n          children = _ref7.children,\n          disable = _ref7.disable;\n        var columnKey = genColumnKey(key, index);\n        if (columnKey) {\n          var _columnsMap$columnKey, _columnsMap$columnKey2;\n          columnKeyMap[columnKey] = {\n            // 子节点 disable 时，不修改节点显示状态\n            show: disable ? (_columnsMap$columnKey = columnsMap[columnKey]) === null || _columnsMap$columnKey === void 0 ? void 0 : _columnsMap$columnKey.show : show,\n            fixed: fixed,\n            disable: disable,\n            order: (_columnsMap$columnKey2 = columnsMap[columnKey]) === null || _columnsMap$columnKey2 === void 0 ? void 0 : _columnsMap$columnKey2.order\n          };\n        }\n        if (children) {\n          loopColumns(children);\n        }\n      });\n    };\n    loopColumns(localColumns);\n    setColumnsMap(columnKeyMap);\n  });\n\n  /** 全选和反选 */\n  var checkedAll = useRefFunction(function (e) {\n    if (e.target.checked) {\n      setAllSelectAction();\n    } else {\n      setAllSelectAction(false);\n    }\n  });\n\n  /** 重置项目 */\n  var clearClick = useRefFunction(function () {\n    var _counter$propsRef$cur5, _counter$propsRef$cur6;\n    clearPersistenceStorage === null || clearPersistenceStorage === void 0 ? void 0 : clearPersistenceStorage();\n    setColumnsMap(columnRef.current || ((_counter$propsRef$cur5 = counter.propsRef.current) === null || _counter$propsRef$cur5 === void 0 ? void 0 : (_counter$propsRef$cur6 = _counter$propsRef$cur5.columnsState) === null || _counter$propsRef$cur6 === void 0 ? void 0 : _counter$propsRef$cur6.defaultValue) || counter.defaultColumnKeyMap);\n  });\n\n  // 未选中的 key 列表\n  var unCheckedKeys = Object.values(columnsMap).filter(function (value) {\n    return !value || value.show === false;\n  });\n\n  // 是否已经选中\n  var indeterminate = unCheckedKeys.length > 0 && unCheckedKeys.length !== localColumns.length;\n  var intl = useIntl();\n  var _useContext6 = useContext(ConfigProvider.ConfigContext),\n    getPrefixCls = _useContext6.getPrefixCls;\n  var className = getPrefixCls('pro-table-column-setting');\n  var _useStyle = useStyle(className),\n    wrapSSR = _useStyle.wrapSSR,\n    hashId = _useStyle.hashId;\n  return wrapSSR( /*#__PURE__*/_jsx(Popover, {\n    arrow: false,\n    title: /*#__PURE__*/_jsxs(\"div\", {\n      className: \"\".concat(className, \"-title \").concat(hashId),\n      children: [/*#__PURE__*/_jsx(Checkbox, {\n        indeterminate: indeterminate,\n        checked: unCheckedKeys.length === 0 && unCheckedKeys.length !== localColumns.length,\n        onChange: function onChange(e) {\n          checkedAll(e);\n        },\n        children: intl.getMessage('tableToolBar.columnDisplay', '列展示')\n      }), checkedReset ? /*#__PURE__*/_jsx(\"a\", {\n        onClick: clearClick,\n        className: \"\".concat(className, \"-action-rest-button \").concat(hashId),\n        children: intl.getMessage('tableToolBar.reset', '重置')\n      }) : null, props !== null && props !== void 0 && props.extra ? /*#__PURE__*/_jsx(Space, {\n        size: 12,\n        align: \"center\",\n        children: props.extra\n      }) : null]\n    }),\n    overlayClassName: \"\".concat(className, \"-overlay \").concat(hashId),\n    trigger: \"click\",\n    placement: \"bottomRight\",\n    content: /*#__PURE__*/_jsx(GroupCheckboxList, {\n      checkable: (_props$checkable = props.checkable) !== null && _props$checkable !== void 0 ? _props$checkable : true,\n      draggable: (_props$draggable = props.draggable) !== null && _props$draggable !== void 0 ? _props$draggable : true,\n      className: className,\n      localColumns: localColumns,\n      listsHeight: props.listsHeight\n    }),\n    children: props.children || /*#__PURE__*/_jsx(Tooltip, {\n      title: intl.getMessage('tableToolBar.columnSetting', '列设置'),\n      children: /*#__PURE__*/_jsx(SettingOutlined, {})\n    })\n  }));\n}\nexport default ColumnSetting;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}