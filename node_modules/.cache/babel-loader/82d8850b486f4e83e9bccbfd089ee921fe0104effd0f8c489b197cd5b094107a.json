{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createFromIconfontCN } from '@ant-design/icons';\nimport { ProProvider } from '@ant-design/pro-provider';\nimport { isImg, isUrl, useMountMergeState } from '@ant-design/pro-utils';\nimport { Menu, Skeleton } from 'antd';\nimport classNames from 'classnames';\nimport React, { useContext, useEffect, useMemo, useRef } from 'react';\nimport { defaultSettings } from \"../../defaultSettings\";\nimport { getOpenKeysFromMenuData } from \"../../utils/utils\";\nimport { useStyle } from \"./style/menu\";\n\n// todo\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { createElement as _createElement } from \"react\";\nvar IconFont = createFromIconfontCN({\n  scriptUrl: defaultSettings.iconfontUrl\n});\n\n// Allow menu.js config icon as string or ReactNode\n//   icon: 'setting',\n//   icon: 'icon-geren' #For Iconfont ,\n//   icon: 'http://demo.com/icon.png',\n//   icon: '/favicon.png',\n//   icon: <Icon type=\"setting\" />,\nvar getIcon = function getIcon(icon) {\n  var iconPrefixes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'icon-';\n  var className = arguments.length > 2 ? arguments[2] : undefined;\n  if (typeof icon === 'string' && icon !== '') {\n    if (isUrl(icon) || isImg(icon)) {\n      return /*#__PURE__*/_jsx(\"img\", {\n        width: 16,\n        src: icon,\n        alt: \"icon\",\n        className: className\n      }, icon);\n    }\n    if (icon.startsWith(iconPrefixes)) {\n      return /*#__PURE__*/_jsx(IconFont, {\n        type: icon\n      });\n    }\n  }\n  return icon;\n};\nvar getMenuTitleSymbol = function getMenuTitleSymbol(title) {\n  if (title && typeof title === 'string') {\n    var symbol = title.substring(0, 1).toUpperCase();\n    return symbol;\n  }\n  return null;\n};\nvar MenuUtil = /*#__PURE__*/_createClass(function MenuUtil(props) {\n  var _this = this;\n  _classCallCheck(this, MenuUtil);\n  _defineProperty(this, \"props\", void 0);\n  _defineProperty(this, \"getNavMenuItems\", function () {\n    var menusData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var level = arguments.length > 1 ? arguments[1] : undefined;\n    return menusData.map(function (item) {\n      return _this.getSubMenuOrItem(item, level);\n    }).filter(function (item) {\n      return item;\n    }).flat(1);\n  });\n  _defineProperty(this, \"getSubMenuOrItem\", function (item, level) {\n    var _this$props = _this.props,\n      subMenuItemRender = _this$props.subMenuItemRender,\n      baseClassName = _this$props.baseClassName,\n      prefixCls = _this$props.prefixCls,\n      collapsed = _this$props.collapsed,\n      menu = _this$props.menu,\n      iconPrefixes = _this$props.iconPrefixes,\n      layout = _this$props.layout;\n    var isGroup = (menu === null || menu === void 0 ? void 0 : menu.type) === 'group' && layout !== 'top';\n    var designToken = _this.props.token;\n    var name = _this.getIntlName(item);\n    var children = (item === null || item === void 0 ? void 0 : item.children) || (item === null || item === void 0 ? void 0 : item.routes);\n    var menuType = isGroup && level === 0 ? 'group' : undefined;\n    if (Array.isArray(children) && children.length > 0) {\n      var _this$props2, _this$props3, _classNames, _this$props4, _this$props5, _classNames3, _designToken$layout, _designToken$layout$s;\n      /** Menu 第一级可以有icon，或者 isGroup 时第二级别也要有 */\n      var shouldHasIcon = level === 0 || isGroup && level === 1;\n\n      //  get defaultTitle by menuItemRender\n      var iconDom = getIcon(item.icon, iconPrefixes, \"\".concat(baseClassName, \"-icon \").concat((_this$props2 = _this.props) === null || _this$props2 === void 0 ? void 0 : _this$props2.hashId));\n      /**\n       * 如果没有icon在收起的时候用首字母代替\n       */\n      var defaultIcon = collapsed && shouldHasIcon ? getMenuTitleSymbol(name) : null;\n      var defaultTitle = /*#__PURE__*/_jsxs(\"div\", {\n        className: classNames(\"\".concat(baseClassName, \"-item-title\"), (_this$props3 = _this.props) === null || _this$props3 === void 0 ? void 0 : _this$props3.hashId, (_classNames = {}, _defineProperty(_classNames, \"\".concat(baseClassName, \"-item-title-collapsed\"), collapsed), _defineProperty(_classNames, \"\".concat(baseClassName, \"-group-item-title\"), menuType === 'group'), _defineProperty(_classNames, \"\".concat(baseClassName, \"-item-collapsed-show-title\"), (menu === null || menu === void 0 ? void 0 : menu.collapsedShowTitle) && collapsed), _classNames)),\n        children: [menuType === 'group' && collapsed ? null : shouldHasIcon && iconDom ? /*#__PURE__*/_jsx(\"span\", {\n          className: \"\".concat(baseClassName, \"-item-icon \").concat((_this$props4 = _this.props) === null || _this$props4 === void 0 ? void 0 : _this$props4.hashId),\n          children: iconDom\n        }) : defaultIcon, /*#__PURE__*/_jsx(\"span\", {\n          className: classNames(\"\".concat(baseClassName, \"-item-text\"), (_this$props5 = _this.props) === null || _this$props5 === void 0 ? void 0 : _this$props5.hashId, _defineProperty({}, \"\".concat(baseClassName, \"-item-text-has-icon\"), menuType !== 'group' && shouldHasIcon && (iconDom || defaultIcon))),\n          children: name\n        })]\n      });\n\n      // subMenu only title render\n      var title = subMenuItemRender ? subMenuItemRender(_objectSpread(_objectSpread({}, item), {}, {\n        isUrl: false\n      }), defaultTitle, _this.props) : defaultTitle;\n      var childrenList = _this.getNavMenuItems(children, level + 1);\n      if (isGroup && level === 0 && _this.props.collapsed && !menu.collapsedShowGroupTitle) {\n        return childrenList;\n      }\n      return [{\n        type: menuType,\n        key: item.key || item.path,\n        label: title,\n        onClick: isGroup ? undefined : item.onTitleClick,\n        children: childrenList,\n        className: classNames((_classNames3 = {}, _defineProperty(_classNames3, \"\".concat(baseClassName, \"-group\"), menuType === 'group'), _defineProperty(_classNames3, \"\".concat(baseClassName, \"-submenu\"), menuType !== 'group'), _defineProperty(_classNames3, \"\".concat(baseClassName, \"-submenu-has-icon\"), menuType !== 'group' && shouldHasIcon && iconDom), _classNames3))\n      }, isGroup && level === 0 ? {\n        type: 'divider',\n        prefixCls: prefixCls,\n        className: \"\".concat(baseClassName, \"-divider\"),\n        key: (item.key || item.path) + '-group-divider',\n        style: {\n          padding: 0,\n          borderBlockEnd: 0,\n          margin: _this.props.collapsed ? '4px' : '6px 16px',\n          marginBlockStart: _this.props.collapsed ? 4 : 8,\n          borderColor: designToken === null || designToken === void 0 ? void 0 : (_designToken$layout = designToken.layout) === null || _designToken$layout === void 0 ? void 0 : (_designToken$layout$s = _designToken$layout.sider) === null || _designToken$layout$s === void 0 ? void 0 : _designToken$layout$s.colorMenuItemDivider\n        }\n      } : undefined].filter(Boolean);\n    }\n    return {\n      className: \"\".concat(baseClassName, \"-menu-item\"),\n      disabled: item.disabled,\n      key: item.key || item.path,\n      onClick: item.onTitleClick,\n      label: _this.getMenuItemPath(item, level)\n    };\n  });\n  _defineProperty(this, \"getIntlName\", function (item) {\n    var name = item.name,\n      locale = item.locale;\n    var _this$props6 = _this.props,\n      menu = _this$props6.menu,\n      formatMessage = _this$props6.formatMessage;\n    if (locale && (menu === null || menu === void 0 ? void 0 : menu.locale) !== false) {\n      return formatMessage === null || formatMessage === void 0 ? void 0 : formatMessage({\n        id: locale,\n        defaultMessage: name\n      });\n    }\n    return name;\n  });\n  _defineProperty(this, \"getMenuItemPath\", function (item, level) {\n    var _this$props9, _this$props10, _classNames4, _this$props11, _this$props12;\n    var itemPath = _this.conversionPath(item.path || '/');\n    var _this$props7 = _this.props,\n      _this$props7$location = _this$props7.location,\n      location = _this$props7$location === void 0 ? {\n        pathname: '/'\n      } : _this$props7$location,\n      isMobile = _this$props7.isMobile,\n      onCollapse = _this$props7.onCollapse,\n      menuItemRender = _this$props7.menuItemRender,\n      iconPrefixes = _this$props7.iconPrefixes;\n\n    // if local is true formatMessage all name。\n    var name = _this.getIntlName(item);\n    var _this$props8 = _this.props,\n      baseClassName = _this$props8.baseClassName,\n      menu = _this$props8.menu,\n      collapsed = _this$props8.collapsed;\n    var isGroup = (menu === null || menu === void 0 ? void 0 : menu.type) === 'group';\n    /** Menu 第一级可以有icon，或者 isGroup 时第二级别也要有 */\n    var hasIcon = level === 0 || isGroup && level === 1;\n    var icon = !hasIcon ? null : getIcon(item.icon, iconPrefixes, \"\".concat(baseClassName, \"-icon \").concat((_this$props9 = _this.props) === null || _this$props9 === void 0 ? void 0 : _this$props9.hashId));\n    var defaultIcon = collapsed && hasIcon ? getMenuTitleSymbol(name) : null;\n    var defaultItem = /*#__PURE__*/_jsxs(\"div\", {\n      className: classNames(\"\".concat(baseClassName, \"-item-title\"), (_this$props10 = _this.props) === null || _this$props10 === void 0 ? void 0 : _this$props10.hashId, (_classNames4 = {}, _defineProperty(_classNames4, \"\".concat(baseClassName, \"-item-title-collapsed\"), collapsed), _defineProperty(_classNames4, \"\".concat(baseClassName, \"-item-collapsed-show-title\"), (menu === null || menu === void 0 ? void 0 : menu.collapsedShowTitle) && collapsed), _classNames4)),\n      children: [icon ? /*#__PURE__*/_jsx(\"span\", {\n        className: \"\".concat(baseClassName, \"-item-icon \").concat((_this$props11 = _this.props) === null || _this$props11 === void 0 ? void 0 : _this$props11.hashId),\n        children: icon\n      }) : defaultIcon, /*#__PURE__*/_jsx(\"span\", {\n        className: classNames(\"\".concat(baseClassName, \"-item-text\"), (_this$props12 = _this.props) === null || _this$props12 === void 0 ? void 0 : _this$props12.hashId, _defineProperty({}, \"\".concat(baseClassName, \"-item-text-has-icon\"), hasIcon && (icon || defaultIcon))),\n        children: name\n      })]\n    }, itemPath);\n    var isHttpUrl = isUrl(itemPath);\n\n    // Is it a http link\n    if (isHttpUrl) {\n      var _this$props13, _classNames6, _this$props14, _this$props15;\n      defaultItem = /*#__PURE__*/_jsxs(\"span\", {\n        onClick: function onClick() {\n          var _window, _window$open;\n          (_window = window) === null || _window === void 0 ? void 0 : (_window$open = _window.open) === null || _window$open === void 0 ? void 0 : _window$open.call(_window, itemPath, '_blank');\n        },\n        className: classNames(\"\".concat(baseClassName, \"-item-title\"), (_this$props13 = _this.props) === null || _this$props13 === void 0 ? void 0 : _this$props13.hashId, (_classNames6 = {}, _defineProperty(_classNames6, \"\".concat(baseClassName, \"-item-title-collapsed\"), collapsed), _defineProperty(_classNames6, \"\".concat(baseClassName, \"-item-link\"), true), _defineProperty(_classNames6, \"\".concat(baseClassName, \"-item-collapsed-show-title\"), (menu === null || menu === void 0 ? void 0 : menu.collapsedShowTitle) && collapsed), _classNames6)),\n        children: [icon ? /*#__PURE__*/_jsx(\"span\", {\n          className: \"\".concat(baseClassName, \"-item-icon \").concat((_this$props14 = _this.props) === null || _this$props14 === void 0 ? void 0 : _this$props14.hashId),\n          children: icon\n        }) : defaultIcon, /*#__PURE__*/_jsx(\"span\", {\n          className: classNames(\"\".concat(baseClassName, \"-item-text\"), (_this$props15 = _this.props) === null || _this$props15 === void 0 ? void 0 : _this$props15.hashId, _defineProperty({}, \"\".concat(baseClassName, \"-item-text-has-icon\"), hasIcon && (icon || defaultIcon))),\n          children: name\n        })]\n      }, itemPath);\n    }\n    if (menuItemRender) {\n      var renderItemProps = _objectSpread(_objectSpread({}, item), {}, {\n        isUrl: isHttpUrl,\n        itemPath: itemPath,\n        isMobile: isMobile,\n        replace: itemPath === location.pathname,\n        onClick: function onClick() {\n          return onCollapse && onCollapse(true);\n        },\n        children: undefined\n      });\n      return menuItemRender(renderItemProps, defaultItem, _this.props);\n    }\n    return defaultItem;\n  });\n  _defineProperty(this, \"conversionPath\", function (path) {\n    if (path && path.indexOf('http') === 0) {\n      return path;\n    }\n    return \"/\".concat(path || '').replace(/\\/+/g, '/');\n  });\n  this.props = props;\n});\n/**\n * 生成openKeys 的对象，因为设置了openKeys 就会变成受控，所以需要一个空对象\n *\n * @param BaseMenuProps\n */\nvar getOpenKeysProps = function getOpenKeysProps(openKeys, _ref) {\n  var layout = _ref.layout,\n    collapsed = _ref.collapsed;\n  var openKeysProps = {};\n  if (openKeys && !collapsed && ['side', 'mix'].includes(layout || 'mix')) {\n    openKeysProps = {\n      openKeys: openKeys\n    };\n  }\n  return openKeysProps;\n};\nvar BaseMenu = function BaseMenu(props) {\n  var _classNames8;\n  var mode = props.mode,\n    className = props.className,\n    handleOpenChange = props.handleOpenChange,\n    style = props.style,\n    menuData = props.menuData,\n    prefixCls = props.prefixCls,\n    menu = props.menu,\n    matchMenuKeys = props.matchMenuKeys,\n    iconfontUrl = props.iconfontUrl,\n    propsSelectedKeys = props.selectedKeys,\n    onSelect = props.onSelect,\n    menuRenderType = props.menuRenderType,\n    propsOpenKeys = props.openKeys;\n  var _useContext = useContext(ProProvider),\n    dark = _useContext.dark,\n    designToken = _useContext.token;\n  var baseClassName = \"\".concat(prefixCls, \"-base-menu\");\n  // 用于减少 defaultOpenKeys 计算的组件\n  var defaultOpenKeysRef = useRef([]);\n  var _useMountMergeState = useMountMergeState(menu === null || menu === void 0 ? void 0 : menu.defaultOpenAll),\n    _useMountMergeState2 = _slicedToArray(_useMountMergeState, 2),\n    defaultOpenAll = _useMountMergeState2[0],\n    setDefaultOpenAll = _useMountMergeState2[1];\n  var _useMountMergeState3 = useMountMergeState(function () {\n      if (menu !== null && menu !== void 0 && menu.defaultOpenAll) {\n        return getOpenKeysFromMenuData(menuData) || [];\n      }\n      if (propsOpenKeys === false) {\n        return false;\n      }\n      return [];\n    }, {\n      value: propsOpenKeys === false ? undefined : propsOpenKeys,\n      onChange: handleOpenChange\n    }),\n    _useMountMergeState4 = _slicedToArray(_useMountMergeState3, 2),\n    openKeys = _useMountMergeState4[0],\n    setOpenKeys = _useMountMergeState4[1];\n  var _useMountMergeState5 = useMountMergeState([], {\n      value: propsSelectedKeys,\n      onChange: onSelect ? function (keys) {\n        if (onSelect && keys) {\n          onSelect(keys);\n        }\n      } : undefined\n    }),\n    _useMountMergeState6 = _slicedToArray(_useMountMergeState5, 2),\n    selectedKeys = _useMountMergeState6[0],\n    setSelectedKeys = _useMountMergeState6[1];\n  useEffect(function () {\n    if (menu !== null && menu !== void 0 && menu.defaultOpenAll || propsOpenKeys === false) {\n      return;\n    }\n    if (matchMenuKeys) {\n      setOpenKeys(matchMenuKeys);\n      setSelectedKeys(matchMenuKeys);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [matchMenuKeys.join('-')]);\n  useEffect(function () {\n    // reset IconFont\n    if (iconfontUrl) {\n      IconFont = createFromIconfontCN({\n        scriptUrl: iconfontUrl\n      });\n    }\n  }, [iconfontUrl]);\n  useEffect(function () {\n    // if pathname can't match, use the nearest parent's key\n    if (matchMenuKeys.join('-') !== (selectedKeys || []).join('-')) {\n      setSelectedKeys(matchMenuKeys);\n    }\n    if (!defaultOpenAll && propsOpenKeys !== false && matchMenuKeys.join('-') !== (openKeys || []).join('-')) {\n      var newKeys = matchMenuKeys;\n      // 如果不自动关闭，我需要把 openKeys 放进去\n      if ((menu === null || menu === void 0 ? void 0 : menu.autoClose) === false) {\n        newKeys = Array.from(new Set([].concat(_toConsumableArray(matchMenuKeys), _toConsumableArray(openKeys || []))));\n      }\n      setOpenKeys(newKeys);\n    } else if (menu !== null && menu !== void 0 && menu.ignoreFlatMenu && defaultOpenAll) {\n      // 忽略用户手动折叠过的菜单状态，折叠按钮切换之后也可实现默认展开所有菜单\n      setOpenKeys(getOpenKeysFromMenuData(menuData));\n    } else {\n      setDefaultOpenAll(false);\n    }\n  },\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [matchMenuKeys.join('-')]);\n  var openKeysProps = useMemo(function () {\n    return getOpenKeysProps(openKeys, props);\n  },\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [openKeys && openKeys.join(','), props.layout, props.collapsed]);\n  var _useStyle = useStyle(baseClassName),\n    wrapSSR = _useStyle.wrapSSR,\n    hashId = _useStyle.hashId;\n  var menuUtils = useMemo(function () {\n    return new MenuUtil(_objectSpread(_objectSpread({}, props), {}, {\n      token: designToken,\n      menuRenderType: menuRenderType,\n      baseClassName: baseClassName,\n      hashId: hashId\n    }));\n  }, [props, designToken, menuRenderType, baseClassName, hashId]);\n  if (menu !== null && menu !== void 0 && menu.loading) {\n    return /*#__PURE__*/_jsx(\"div\", {\n      style: mode !== null && mode !== void 0 && mode.includes('inline') ? {\n        padding: 24\n      } : {\n        marginBlockStart: 16\n      },\n      children: /*#__PURE__*/_jsx(Skeleton, {\n        active: true,\n        title: false,\n        paragraph: {\n          rows: mode !== null && mode !== void 0 && mode.includes('inline') ? 6 : 1\n        }\n      })\n    });\n  }\n\n  // 这次 openKeys === false 的时候的情况，这种情况下帮用户选中一次\n  // 第二此不会使用，所以用了 defaultOpenKeys\n  // 这里返回 null，是为了让 defaultOpenKeys 生效\n  if (props.openKeys === false && !props.handleOpenChange) {\n    defaultOpenKeysRef.current = matchMenuKeys;\n  }\n  var finallyData = props.postMenuData ? props.postMenuData(menuData) : menuData;\n  if (finallyData && (finallyData === null || finallyData === void 0 ? void 0 : finallyData.length) < 1) {\n    return null;\n  }\n  return wrapSSR( /*#__PURE__*/_createElement(Menu, _objectSpread(_objectSpread({}, openKeysProps), {}, {\n    key: \"Menu\",\n    mode: mode,\n    inlineIndent: 16,\n    defaultOpenKeys: defaultOpenKeysRef.current,\n    theme: dark ? 'dark' : 'light',\n    selectedKeys: selectedKeys,\n    style: _objectSpread({\n      backgroundColor: 'transparent',\n      border: 'none'\n    }, style),\n    className: classNames(className, hashId, baseClassName, (_classNames8 = {}, _defineProperty(_classNames8, \"\".concat(baseClassName, \"-horizontal\"), mode === 'horizontal'), _defineProperty(_classNames8, \"\".concat(baseClassName, \"-collapsed\"), props.collapsed), _classNames8)),\n    items: menuUtils.getNavMenuItems(finallyData, 0),\n    onOpenChange: function onOpenChange(_openKeys) {\n      if (!props.collapsed) {\n        setOpenKeys(_openKeys);\n      }\n    }\n  }, props.menuProps)));\n};\nexport { BaseMenu };","map":{"version":3,"names":["_toConsumableArray","_slicedToArray","_objectSpread","_createClass","_classCallCheck","_defineProperty","createFromIconfontCN","ProProvider","isImg","isUrl","useMountMergeState","Menu","Skeleton","classNames","React","useContext","useEffect","useMemo","useRef","defaultSettings","getOpenKeysFromMenuData","useStyle","jsx","_jsx","jsxs","_jsxs","createElement","_createElement","IconFont","scriptUrl","iconfontUrl","getIcon","icon","iconPrefixes","arguments","length","undefined","className","width","src","alt","startsWith","type","getMenuTitleSymbol","title","symbol","substring","toUpperCase","MenuUtil","props","_this","menusData","level","map","item","getSubMenuOrItem","filter","flat","_this$props","subMenuItemRender","baseClassName","prefixCls","collapsed","menu","layout","isGroup","designToken","token","name","getIntlName","children","routes","menuType","Array","isArray","_this$props2","_this$props3","_classNames","_this$props4","_this$props5","_classNames3","_designToken$layout","_designToken$layout$s","shouldHasIcon","iconDom","concat","hashId","defaultIcon","defaultTitle","collapsedShowTitle","childrenList","getNavMenuItems","collapsedShowGroupTitle","key","path","label","onClick","onTitleClick","style","padding","borderBlockEnd","margin","marginBlockStart","borderColor","sider","colorMenuItemDivider","Boolean","disabled","getMenuItemPath","locale","_this$props6","formatMessage","id","defaultMessage","_this$props9","_this$props10","_classNames4","_this$props11","_this$props12","itemPath","conversionPath","_this$props7","_this$props7$location","location","pathname","isMobile","onCollapse","menuItemRender","_this$props8","hasIcon","defaultItem","isHttpUrl","_this$props13","_classNames6","_this$props14","_this$props15","_window","_window$open","window","open","call","renderItemProps","replace","indexOf","getOpenKeysProps","openKeys","_ref","openKeysProps","includes","BaseMenu","_classNames8","mode","handleOpenChange","menuData","matchMenuKeys","propsSelectedKeys","selectedKeys","onSelect","menuRenderType","propsOpenKeys","_useContext","dark","defaultOpenKeysRef","_useMountMergeState","defaultOpenAll","_useMountMergeState2","setDefaultOpenAll","_useMountMergeState3","value","onChange","_useMountMergeState4","setOpenKeys","_useMountMergeState5","keys","_useMountMergeState6","setSelectedKeys","join","newKeys","autoClose","from","Set","ignoreFlatMenu","_useStyle","wrapSSR","menuUtils","loading","active","paragraph","rows","current","finallyData","postMenuData","inlineIndent","defaultOpenKeys","theme","backgroundColor","border","items","onOpenChange","_openKeys","menuProps"],"sources":["D:/LearnDeveloper/ReactJS/student-management-infor/node_modules/@ant-design/pro-layout/es/components/SiderMenu/BaseMenu.js"],"sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { createFromIconfontCN } from '@ant-design/icons';\nimport { ProProvider } from '@ant-design/pro-provider';\nimport { isImg, isUrl, useMountMergeState } from '@ant-design/pro-utils';\nimport { Menu, Skeleton } from 'antd';\nimport classNames from 'classnames';\nimport React, { useContext, useEffect, useMemo, useRef } from 'react';\nimport { defaultSettings } from \"../../defaultSettings\";\nimport { getOpenKeysFromMenuData } from \"../../utils/utils\";\nimport { useStyle } from \"./style/menu\";\n\n// todo\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { createElement as _createElement } from \"react\";\nvar IconFont = createFromIconfontCN({\n  scriptUrl: defaultSettings.iconfontUrl\n});\n\n// Allow menu.js config icon as string or ReactNode\n//   icon: 'setting',\n//   icon: 'icon-geren' #For Iconfont ,\n//   icon: 'http://demo.com/icon.png',\n//   icon: '/favicon.png',\n//   icon: <Icon type=\"setting\" />,\nvar getIcon = function getIcon(icon) {\n  var iconPrefixes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'icon-';\n  var className = arguments.length > 2 ? arguments[2] : undefined;\n  if (typeof icon === 'string' && icon !== '') {\n    if (isUrl(icon) || isImg(icon)) {\n      return /*#__PURE__*/_jsx(\"img\", {\n        width: 16,\n        src: icon,\n        alt: \"icon\",\n        className: className\n      }, icon);\n    }\n    if (icon.startsWith(iconPrefixes)) {\n      return /*#__PURE__*/_jsx(IconFont, {\n        type: icon\n      });\n    }\n  }\n  return icon;\n};\nvar getMenuTitleSymbol = function getMenuTitleSymbol(title) {\n  if (title && typeof title === 'string') {\n    var symbol = title.substring(0, 1).toUpperCase();\n    return symbol;\n  }\n  return null;\n};\nvar MenuUtil = /*#__PURE__*/_createClass(function MenuUtil(props) {\n  var _this = this;\n  _classCallCheck(this, MenuUtil);\n  _defineProperty(this, \"props\", void 0);\n  _defineProperty(this, \"getNavMenuItems\", function () {\n    var menusData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var level = arguments.length > 1 ? arguments[1] : undefined;\n    return menusData.map(function (item) {\n      return _this.getSubMenuOrItem(item, level);\n    }).filter(function (item) {\n      return item;\n    }).flat(1);\n  });\n  _defineProperty(this, \"getSubMenuOrItem\", function (item, level) {\n    var _this$props = _this.props,\n      subMenuItemRender = _this$props.subMenuItemRender,\n      baseClassName = _this$props.baseClassName,\n      prefixCls = _this$props.prefixCls,\n      collapsed = _this$props.collapsed,\n      menu = _this$props.menu,\n      iconPrefixes = _this$props.iconPrefixes,\n      layout = _this$props.layout;\n    var isGroup = (menu === null || menu === void 0 ? void 0 : menu.type) === 'group' && layout !== 'top';\n    var designToken = _this.props.token;\n    var name = _this.getIntlName(item);\n    var children = (item === null || item === void 0 ? void 0 : item.children) || (item === null || item === void 0 ? void 0 : item.routes);\n    var menuType = isGroup && level === 0 ? 'group' : undefined;\n    if (Array.isArray(children) && children.length > 0) {\n      var _this$props2, _this$props3, _classNames, _this$props4, _this$props5, _classNames3, _designToken$layout, _designToken$layout$s;\n      /** Menu 第一级可以有icon，或者 isGroup 时第二级别也要有 */\n      var shouldHasIcon = level === 0 || isGroup && level === 1;\n\n      //  get defaultTitle by menuItemRender\n      var iconDom = getIcon(item.icon, iconPrefixes, \"\".concat(baseClassName, \"-icon \").concat((_this$props2 = _this.props) === null || _this$props2 === void 0 ? void 0 : _this$props2.hashId));\n      /**\n       * 如果没有icon在收起的时候用首字母代替\n       */\n      var defaultIcon = collapsed && shouldHasIcon ? getMenuTitleSymbol(name) : null;\n      var defaultTitle = /*#__PURE__*/_jsxs(\"div\", {\n        className: classNames(\"\".concat(baseClassName, \"-item-title\"), (_this$props3 = _this.props) === null || _this$props3 === void 0 ? void 0 : _this$props3.hashId, (_classNames = {}, _defineProperty(_classNames, \"\".concat(baseClassName, \"-item-title-collapsed\"), collapsed), _defineProperty(_classNames, \"\".concat(baseClassName, \"-group-item-title\"), menuType === 'group'), _defineProperty(_classNames, \"\".concat(baseClassName, \"-item-collapsed-show-title\"), (menu === null || menu === void 0 ? void 0 : menu.collapsedShowTitle) && collapsed), _classNames)),\n        children: [menuType === 'group' && collapsed ? null : shouldHasIcon && iconDom ? /*#__PURE__*/_jsx(\"span\", {\n          className: \"\".concat(baseClassName, \"-item-icon \").concat((_this$props4 = _this.props) === null || _this$props4 === void 0 ? void 0 : _this$props4.hashId),\n          children: iconDom\n        }) : defaultIcon, /*#__PURE__*/_jsx(\"span\", {\n          className: classNames(\"\".concat(baseClassName, \"-item-text\"), (_this$props5 = _this.props) === null || _this$props5 === void 0 ? void 0 : _this$props5.hashId, _defineProperty({}, \"\".concat(baseClassName, \"-item-text-has-icon\"), menuType !== 'group' && shouldHasIcon && (iconDom || defaultIcon))),\n          children: name\n        })]\n      });\n\n      // subMenu only title render\n      var title = subMenuItemRender ? subMenuItemRender(_objectSpread(_objectSpread({}, item), {}, {\n        isUrl: false\n      }), defaultTitle, _this.props) : defaultTitle;\n      var childrenList = _this.getNavMenuItems(children, level + 1);\n      if (isGroup && level === 0 && _this.props.collapsed && !menu.collapsedShowGroupTitle) {\n        return childrenList;\n      }\n      return [{\n        type: menuType,\n        key: item.key || item.path,\n        label: title,\n        onClick: isGroup ? undefined : item.onTitleClick,\n        children: childrenList,\n        className: classNames((_classNames3 = {}, _defineProperty(_classNames3, \"\".concat(baseClassName, \"-group\"), menuType === 'group'), _defineProperty(_classNames3, \"\".concat(baseClassName, \"-submenu\"), menuType !== 'group'), _defineProperty(_classNames3, \"\".concat(baseClassName, \"-submenu-has-icon\"), menuType !== 'group' && shouldHasIcon && iconDom), _classNames3))\n      }, isGroup && level === 0 ? {\n        type: 'divider',\n        prefixCls: prefixCls,\n        className: \"\".concat(baseClassName, \"-divider\"),\n        key: (item.key || item.path) + '-group-divider',\n        style: {\n          padding: 0,\n          borderBlockEnd: 0,\n          margin: _this.props.collapsed ? '4px' : '6px 16px',\n          marginBlockStart: _this.props.collapsed ? 4 : 8,\n          borderColor: designToken === null || designToken === void 0 ? void 0 : (_designToken$layout = designToken.layout) === null || _designToken$layout === void 0 ? void 0 : (_designToken$layout$s = _designToken$layout.sider) === null || _designToken$layout$s === void 0 ? void 0 : _designToken$layout$s.colorMenuItemDivider\n        }\n      } : undefined].filter(Boolean);\n    }\n    return {\n      className: \"\".concat(baseClassName, \"-menu-item\"),\n      disabled: item.disabled,\n      key: item.key || item.path,\n      onClick: item.onTitleClick,\n      label: _this.getMenuItemPath(item, level)\n    };\n  });\n  _defineProperty(this, \"getIntlName\", function (item) {\n    var name = item.name,\n      locale = item.locale;\n    var _this$props6 = _this.props,\n      menu = _this$props6.menu,\n      formatMessage = _this$props6.formatMessage;\n    if (locale && (menu === null || menu === void 0 ? void 0 : menu.locale) !== false) {\n      return formatMessage === null || formatMessage === void 0 ? void 0 : formatMessage({\n        id: locale,\n        defaultMessage: name\n      });\n    }\n    return name;\n  });\n  _defineProperty(this, \"getMenuItemPath\", function (item, level) {\n    var _this$props9, _this$props10, _classNames4, _this$props11, _this$props12;\n    var itemPath = _this.conversionPath(item.path || '/');\n    var _this$props7 = _this.props,\n      _this$props7$location = _this$props7.location,\n      location = _this$props7$location === void 0 ? {\n        pathname: '/'\n      } : _this$props7$location,\n      isMobile = _this$props7.isMobile,\n      onCollapse = _this$props7.onCollapse,\n      menuItemRender = _this$props7.menuItemRender,\n      iconPrefixes = _this$props7.iconPrefixes;\n\n    // if local is true formatMessage all name。\n    var name = _this.getIntlName(item);\n    var _this$props8 = _this.props,\n      baseClassName = _this$props8.baseClassName,\n      menu = _this$props8.menu,\n      collapsed = _this$props8.collapsed;\n    var isGroup = (menu === null || menu === void 0 ? void 0 : menu.type) === 'group';\n    /** Menu 第一级可以有icon，或者 isGroup 时第二级别也要有 */\n    var hasIcon = level === 0 || isGroup && level === 1;\n    var icon = !hasIcon ? null : getIcon(item.icon, iconPrefixes, \"\".concat(baseClassName, \"-icon \").concat((_this$props9 = _this.props) === null || _this$props9 === void 0 ? void 0 : _this$props9.hashId));\n    var defaultIcon = collapsed && hasIcon ? getMenuTitleSymbol(name) : null;\n    var defaultItem = /*#__PURE__*/_jsxs(\"div\", {\n      className: classNames(\"\".concat(baseClassName, \"-item-title\"), (_this$props10 = _this.props) === null || _this$props10 === void 0 ? void 0 : _this$props10.hashId, (_classNames4 = {}, _defineProperty(_classNames4, \"\".concat(baseClassName, \"-item-title-collapsed\"), collapsed), _defineProperty(_classNames4, \"\".concat(baseClassName, \"-item-collapsed-show-title\"), (menu === null || menu === void 0 ? void 0 : menu.collapsedShowTitle) && collapsed), _classNames4)),\n      children: [icon ? /*#__PURE__*/_jsx(\"span\", {\n        className: \"\".concat(baseClassName, \"-item-icon \").concat((_this$props11 = _this.props) === null || _this$props11 === void 0 ? void 0 : _this$props11.hashId),\n        children: icon\n      }) : defaultIcon, /*#__PURE__*/_jsx(\"span\", {\n        className: classNames(\"\".concat(baseClassName, \"-item-text\"), (_this$props12 = _this.props) === null || _this$props12 === void 0 ? void 0 : _this$props12.hashId, _defineProperty({}, \"\".concat(baseClassName, \"-item-text-has-icon\"), hasIcon && (icon || defaultIcon))),\n        children: name\n      })]\n    }, itemPath);\n    var isHttpUrl = isUrl(itemPath);\n\n    // Is it a http link\n    if (isHttpUrl) {\n      var _this$props13, _classNames6, _this$props14, _this$props15;\n      defaultItem = /*#__PURE__*/_jsxs(\"span\", {\n        onClick: function onClick() {\n          var _window, _window$open;\n          (_window = window) === null || _window === void 0 ? void 0 : (_window$open = _window.open) === null || _window$open === void 0 ? void 0 : _window$open.call(_window, itemPath, '_blank');\n        },\n        className: classNames(\"\".concat(baseClassName, \"-item-title\"), (_this$props13 = _this.props) === null || _this$props13 === void 0 ? void 0 : _this$props13.hashId, (_classNames6 = {}, _defineProperty(_classNames6, \"\".concat(baseClassName, \"-item-title-collapsed\"), collapsed), _defineProperty(_classNames6, \"\".concat(baseClassName, \"-item-link\"), true), _defineProperty(_classNames6, \"\".concat(baseClassName, \"-item-collapsed-show-title\"), (menu === null || menu === void 0 ? void 0 : menu.collapsedShowTitle) && collapsed), _classNames6)),\n        children: [icon ? /*#__PURE__*/_jsx(\"span\", {\n          className: \"\".concat(baseClassName, \"-item-icon \").concat((_this$props14 = _this.props) === null || _this$props14 === void 0 ? void 0 : _this$props14.hashId),\n          children: icon\n        }) : defaultIcon, /*#__PURE__*/_jsx(\"span\", {\n          className: classNames(\"\".concat(baseClassName, \"-item-text\"), (_this$props15 = _this.props) === null || _this$props15 === void 0 ? void 0 : _this$props15.hashId, _defineProperty({}, \"\".concat(baseClassName, \"-item-text-has-icon\"), hasIcon && (icon || defaultIcon))),\n          children: name\n        })]\n      }, itemPath);\n    }\n    if (menuItemRender) {\n      var renderItemProps = _objectSpread(_objectSpread({}, item), {}, {\n        isUrl: isHttpUrl,\n        itemPath: itemPath,\n        isMobile: isMobile,\n        replace: itemPath === location.pathname,\n        onClick: function onClick() {\n          return onCollapse && onCollapse(true);\n        },\n        children: undefined\n      });\n      return menuItemRender(renderItemProps, defaultItem, _this.props);\n    }\n    return defaultItem;\n  });\n  _defineProperty(this, \"conversionPath\", function (path) {\n    if (path && path.indexOf('http') === 0) {\n      return path;\n    }\n    return \"/\".concat(path || '').replace(/\\/+/g, '/');\n  });\n  this.props = props;\n});\n/**\n * 生成openKeys 的对象，因为设置了openKeys 就会变成受控，所以需要一个空对象\n *\n * @param BaseMenuProps\n */\nvar getOpenKeysProps = function getOpenKeysProps(openKeys, _ref) {\n  var layout = _ref.layout,\n    collapsed = _ref.collapsed;\n  var openKeysProps = {};\n  if (openKeys && !collapsed && ['side', 'mix'].includes(layout || 'mix')) {\n    openKeysProps = {\n      openKeys: openKeys\n    };\n  }\n  return openKeysProps;\n};\nvar BaseMenu = function BaseMenu(props) {\n  var _classNames8;\n  var mode = props.mode,\n    className = props.className,\n    handleOpenChange = props.handleOpenChange,\n    style = props.style,\n    menuData = props.menuData,\n    prefixCls = props.prefixCls,\n    menu = props.menu,\n    matchMenuKeys = props.matchMenuKeys,\n    iconfontUrl = props.iconfontUrl,\n    propsSelectedKeys = props.selectedKeys,\n    onSelect = props.onSelect,\n    menuRenderType = props.menuRenderType,\n    propsOpenKeys = props.openKeys;\n  var _useContext = useContext(ProProvider),\n    dark = _useContext.dark,\n    designToken = _useContext.token;\n  var baseClassName = \"\".concat(prefixCls, \"-base-menu\");\n  // 用于减少 defaultOpenKeys 计算的组件\n  var defaultOpenKeysRef = useRef([]);\n  var _useMountMergeState = useMountMergeState(menu === null || menu === void 0 ? void 0 : menu.defaultOpenAll),\n    _useMountMergeState2 = _slicedToArray(_useMountMergeState, 2),\n    defaultOpenAll = _useMountMergeState2[0],\n    setDefaultOpenAll = _useMountMergeState2[1];\n  var _useMountMergeState3 = useMountMergeState(function () {\n      if (menu !== null && menu !== void 0 && menu.defaultOpenAll) {\n        return getOpenKeysFromMenuData(menuData) || [];\n      }\n      if (propsOpenKeys === false) {\n        return false;\n      }\n      return [];\n    }, {\n      value: propsOpenKeys === false ? undefined : propsOpenKeys,\n      onChange: handleOpenChange\n    }),\n    _useMountMergeState4 = _slicedToArray(_useMountMergeState3, 2),\n    openKeys = _useMountMergeState4[0],\n    setOpenKeys = _useMountMergeState4[1];\n  var _useMountMergeState5 = useMountMergeState([], {\n      value: propsSelectedKeys,\n      onChange: onSelect ? function (keys) {\n        if (onSelect && keys) {\n          onSelect(keys);\n        }\n      } : undefined\n    }),\n    _useMountMergeState6 = _slicedToArray(_useMountMergeState5, 2),\n    selectedKeys = _useMountMergeState6[0],\n    setSelectedKeys = _useMountMergeState6[1];\n  useEffect(function () {\n    if (menu !== null && menu !== void 0 && menu.defaultOpenAll || propsOpenKeys === false) {\n      return;\n    }\n    if (matchMenuKeys) {\n      setOpenKeys(matchMenuKeys);\n      setSelectedKeys(matchMenuKeys);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [matchMenuKeys.join('-')]);\n  useEffect(function () {\n    // reset IconFont\n    if (iconfontUrl) {\n      IconFont = createFromIconfontCN({\n        scriptUrl: iconfontUrl\n      });\n    }\n  }, [iconfontUrl]);\n  useEffect(function () {\n    // if pathname can't match, use the nearest parent's key\n    if (matchMenuKeys.join('-') !== (selectedKeys || []).join('-')) {\n      setSelectedKeys(matchMenuKeys);\n    }\n    if (!defaultOpenAll && propsOpenKeys !== false && matchMenuKeys.join('-') !== (openKeys || []).join('-')) {\n      var newKeys = matchMenuKeys;\n      // 如果不自动关闭，我需要把 openKeys 放进去\n      if ((menu === null || menu === void 0 ? void 0 : menu.autoClose) === false) {\n        newKeys = Array.from(new Set([].concat(_toConsumableArray(matchMenuKeys), _toConsumableArray(openKeys || []))));\n      }\n      setOpenKeys(newKeys);\n    } else if (menu !== null && menu !== void 0 && menu.ignoreFlatMenu && defaultOpenAll) {\n      // 忽略用户手动折叠过的菜单状态，折叠按钮切换之后也可实现默认展开所有菜单\n      setOpenKeys(getOpenKeysFromMenuData(menuData));\n    } else {\n      setDefaultOpenAll(false);\n    }\n  },\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [matchMenuKeys.join('-')]);\n  var openKeysProps = useMemo(function () {\n    return getOpenKeysProps(openKeys, props);\n  },\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [openKeys && openKeys.join(','), props.layout, props.collapsed]);\n  var _useStyle = useStyle(baseClassName),\n    wrapSSR = _useStyle.wrapSSR,\n    hashId = _useStyle.hashId;\n  var menuUtils = useMemo(function () {\n    return new MenuUtil(_objectSpread(_objectSpread({}, props), {}, {\n      token: designToken,\n      menuRenderType: menuRenderType,\n      baseClassName: baseClassName,\n      hashId: hashId\n    }));\n  }, [props, designToken, menuRenderType, baseClassName, hashId]);\n  if (menu !== null && menu !== void 0 && menu.loading) {\n    return /*#__PURE__*/_jsx(\"div\", {\n      style: mode !== null && mode !== void 0 && mode.includes('inline') ? {\n        padding: 24\n      } : {\n        marginBlockStart: 16\n      },\n      children: /*#__PURE__*/_jsx(Skeleton, {\n        active: true,\n        title: false,\n        paragraph: {\n          rows: mode !== null && mode !== void 0 && mode.includes('inline') ? 6 : 1\n        }\n      })\n    });\n  }\n\n  // 这次 openKeys === false 的时候的情况，这种情况下帮用户选中一次\n  // 第二此不会使用，所以用了 defaultOpenKeys\n  // 这里返回 null，是为了让 defaultOpenKeys 生效\n  if (props.openKeys === false && !props.handleOpenChange) {\n    defaultOpenKeysRef.current = matchMenuKeys;\n  }\n  var finallyData = props.postMenuData ? props.postMenuData(menuData) : menuData;\n  if (finallyData && (finallyData === null || finallyData === void 0 ? void 0 : finallyData.length) < 1) {\n    return null;\n  }\n  return wrapSSR( /*#__PURE__*/_createElement(Menu, _objectSpread(_objectSpread({}, openKeysProps), {}, {\n    key: \"Menu\",\n    mode: mode,\n    inlineIndent: 16,\n    defaultOpenKeys: defaultOpenKeysRef.current,\n    theme: dark ? 'dark' : 'light',\n    selectedKeys: selectedKeys,\n    style: _objectSpread({\n      backgroundColor: 'transparent',\n      border: 'none'\n    }, style),\n    className: classNames(className, hashId, baseClassName, (_classNames8 = {}, _defineProperty(_classNames8, \"\".concat(baseClassName, \"-horizontal\"), mode === 'horizontal'), _defineProperty(_classNames8, \"\".concat(baseClassName, \"-collapsed\"), props.collapsed), _classNames8)),\n    items: menuUtils.getNavMenuItems(finallyData, 0),\n    onOpenChange: function onOpenChange(_openKeys) {\n      if (!props.collapsed) {\n        setOpenKeys(_openKeys);\n      }\n    }\n  }, props.menuProps)));\n};\nexport { BaseMenu };"],"mappings":"AAAA,OAAOA,kBAAkB,MAAM,8CAA8C;AAC7E,OAAOC,cAAc,MAAM,0CAA0C;AACrE,OAAOC,aAAa,MAAM,0CAA0C;AACpE,OAAOC,YAAY,MAAM,wCAAwC;AACjE,OAAOC,eAAe,MAAM,2CAA2C;AACvE,OAAOC,eAAe,MAAM,2CAA2C;AACvE,SAASC,oBAAoB,QAAQ,mBAAmB;AACxD,SAASC,WAAW,QAAQ,0BAA0B;AACtD,SAASC,KAAK,EAAEC,KAAK,EAAEC,kBAAkB,QAAQ,uBAAuB;AACxE,SAASC,IAAI,EAAEC,QAAQ,QAAQ,MAAM;AACrC,OAAOC,UAAU,MAAM,YAAY;AACnC,OAAOC,KAAK,IAAIC,UAAU,EAAEC,SAAS,EAAEC,OAAO,EAAEC,MAAM,QAAQ,OAAO;AACrE,SAASC,eAAe,QAAQ,uBAAuB;AACvD,SAASC,uBAAuB,QAAQ,mBAAmB;AAC3D,SAASC,QAAQ,QAAQ,cAAc;;AAEvC;AACA,SAASC,GAAG,IAAIC,IAAI,QAAQ,mBAAmB;AAC/C,SAASC,IAAI,IAAIC,KAAK,QAAQ,mBAAmB;AACjD,SAASC,aAAa,IAAIC,cAAc,QAAQ,OAAO;AACvD,IAAIC,QAAQ,GAAGtB,oBAAoB,CAAC;EAClCuB,SAAS,EAAEV,eAAe,CAACW;AAC7B,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,IAAIC,OAAO,GAAG,SAASA,OAAOA,CAACC,IAAI,EAAE;EACnC,IAAIC,YAAY,GAAGC,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAKE,SAAS,GAAGF,SAAS,CAAC,CAAC,CAAC,GAAG,OAAO;EAC9F,IAAIG,SAAS,GAAGH,SAAS,CAACC,MAAM,GAAG,CAAC,GAAGD,SAAS,CAAC,CAAC,CAAC,GAAGE,SAAS;EAC/D,IAAI,OAAOJ,IAAI,KAAK,QAAQ,IAAIA,IAAI,KAAK,EAAE,EAAE;IAC3C,IAAIvB,KAAK,CAACuB,IAAI,CAAC,IAAIxB,KAAK,CAACwB,IAAI,CAAC,EAAE;MAC9B,OAAO,aAAaT,IAAI,CAAC,KAAK,EAAE;QAC9Be,KAAK,EAAE,EAAE;QACTC,GAAG,EAAEP,IAAI;QACTQ,GAAG,EAAE,MAAM;QACXH,SAAS,EAAEA;MACb,CAAC,EAAEL,IAAI,CAAC;IACV;IACA,IAAIA,IAAI,CAACS,UAAU,CAACR,YAAY,CAAC,EAAE;MACjC,OAAO,aAAaV,IAAI,CAACK,QAAQ,EAAE;QACjCc,IAAI,EAAEV;MACR,CAAC,CAAC;IACJ;EACF;EACA,OAAOA,IAAI;AACb,CAAC;AACD,IAAIW,kBAAkB,GAAG,SAASA,kBAAkBA,CAACC,KAAK,EAAE;EAC1D,IAAIA,KAAK,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;IACtC,IAAIC,MAAM,GAAGD,KAAK,CAACE,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,CAACC,WAAW,EAAE;IAChD,OAAOF,MAAM;EACf;EACA,OAAO,IAAI;AACb,CAAC;AACD,IAAIG,QAAQ,GAAG,aAAa7C,YAAY,CAAC,SAAS6C,QAAQA,CAACC,KAAK,EAAE;EAChE,IAAIC,KAAK,GAAG,IAAI;EAChB9C,eAAe,CAAC,IAAI,EAAE4C,QAAQ,CAAC;EAC/B3C,eAAe,CAAC,IAAI,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;EACtCA,eAAe,CAAC,IAAI,EAAE,iBAAiB,EAAE,YAAY;IACnD,IAAI8C,SAAS,GAAGjB,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAKE,SAAS,GAAGF,SAAS,CAAC,CAAC,CAAC,GAAG,EAAE;IACtF,IAAIkB,KAAK,GAAGlB,SAAS,CAACC,MAAM,GAAG,CAAC,GAAGD,SAAS,CAAC,CAAC,CAAC,GAAGE,SAAS;IAC3D,OAAOe,SAAS,CAACE,GAAG,CAAC,UAAUC,IAAI,EAAE;MACnC,OAAOJ,KAAK,CAACK,gBAAgB,CAACD,IAAI,EAAEF,KAAK,CAAC;IAC5C,CAAC,CAAC,CAACI,MAAM,CAAC,UAAUF,IAAI,EAAE;MACxB,OAAOA,IAAI;IACb,CAAC,CAAC,CAACG,IAAI,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC;EACFpD,eAAe,CAAC,IAAI,EAAE,kBAAkB,EAAE,UAAUiD,IAAI,EAAEF,KAAK,EAAE;IAC/D,IAAIM,WAAW,GAAGR,KAAK,CAACD,KAAK;MAC3BU,iBAAiB,GAAGD,WAAW,CAACC,iBAAiB;MACjDC,aAAa,GAAGF,WAAW,CAACE,aAAa;MACzCC,SAAS,GAAGH,WAAW,CAACG,SAAS;MACjCC,SAAS,GAAGJ,WAAW,CAACI,SAAS;MACjCC,IAAI,GAAGL,WAAW,CAACK,IAAI;MACvB9B,YAAY,GAAGyB,WAAW,CAACzB,YAAY;MACvC+B,MAAM,GAAGN,WAAW,CAACM,MAAM;IAC7B,IAAIC,OAAO,GAAG,CAACF,IAAI,KAAK,IAAI,IAAIA,IAAI,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,IAAI,CAACrB,IAAI,MAAM,OAAO,IAAIsB,MAAM,KAAK,KAAK;IACrG,IAAIE,WAAW,GAAGhB,KAAK,CAACD,KAAK,CAACkB,KAAK;IACnC,IAAIC,IAAI,GAAGlB,KAAK,CAACmB,WAAW,CAACf,IAAI,CAAC;IAClC,IAAIgB,QAAQ,GAAG,CAAChB,IAAI,KAAK,IAAI,IAAIA,IAAI,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,IAAI,CAACgB,QAAQ,MAAMhB,IAAI,KAAK,IAAI,IAAIA,IAAI,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,IAAI,CAACiB,MAAM,CAAC;IACvI,IAAIC,QAAQ,GAAGP,OAAO,IAAIb,KAAK,KAAK,CAAC,GAAG,OAAO,GAAGhB,SAAS;IAC3D,IAAIqC,KAAK,CAACC,OAAO,CAACJ,QAAQ,CAAC,IAAIA,QAAQ,CAACnC,MAAM,GAAG,CAAC,EAAE;MAClD,IAAIwC,YAAY,EAAEC,YAAY,EAAEC,WAAW,EAAEC,YAAY,EAAEC,YAAY,EAAEC,YAAY,EAAEC,mBAAmB,EAAEC,qBAAqB;MACjI;MACA,IAAIC,aAAa,GAAG/B,KAAK,KAAK,CAAC,IAAIa,OAAO,IAAIb,KAAK,KAAK,CAAC;;MAEzD;MACA,IAAIgC,OAAO,GAAGrD,OAAO,CAACuB,IAAI,CAACtB,IAAI,EAAEC,YAAY,EAAE,EAAE,CAACoD,MAAM,CAACzB,aAAa,EAAE,QAAQ,CAAC,CAACyB,MAAM,CAAC,CAACV,YAAY,GAAGzB,KAAK,CAACD,KAAK,MAAM,IAAI,IAAI0B,YAAY,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,YAAY,CAACW,MAAM,CAAC,CAAC;MAC1L;AACN;AACA;MACM,IAAIC,WAAW,GAAGzB,SAAS,IAAIqB,aAAa,GAAGxC,kBAAkB,CAACyB,IAAI,CAAC,GAAG,IAAI;MAC9E,IAAIoB,YAAY,GAAG,aAAa/D,KAAK,CAAC,KAAK,EAAE;QAC3CY,SAAS,EAAExB,UAAU,CAAC,EAAE,CAACwE,MAAM,CAACzB,aAAa,EAAE,aAAa,CAAC,EAAE,CAACgB,YAAY,GAAG1B,KAAK,CAACD,KAAK,MAAM,IAAI,IAAI2B,YAAY,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,YAAY,CAACU,MAAM,GAAGT,WAAW,GAAG,CAAC,CAAC,EAAExE,eAAe,CAACwE,WAAW,EAAE,EAAE,CAACQ,MAAM,CAACzB,aAAa,EAAE,uBAAuB,CAAC,EAAEE,SAAS,CAAC,EAAEzD,eAAe,CAACwE,WAAW,EAAE,EAAE,CAACQ,MAAM,CAACzB,aAAa,EAAE,mBAAmB,CAAC,EAAEY,QAAQ,KAAK,OAAO,CAAC,EAAEnE,eAAe,CAACwE,WAAW,EAAE,EAAE,CAACQ,MAAM,CAACzB,aAAa,EAAE,4BAA4B,CAAC,EAAE,CAACG,IAAI,KAAK,IAAI,IAAIA,IAAI,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,IAAI,CAAC0B,kBAAkB,KAAK3B,SAAS,CAAC,EAAEe,WAAW,EAAE;QACziBP,QAAQ,EAAE,CAACE,QAAQ,KAAK,OAAO,IAAIV,SAAS,GAAG,IAAI,GAAGqB,aAAa,IAAIC,OAAO,GAAG,aAAa7D,IAAI,CAAC,MAAM,EAAE;UACzGc,SAAS,EAAE,EAAE,CAACgD,MAAM,CAACzB,aAAa,EAAE,aAAa,CAAC,CAACyB,MAAM,CAAC,CAACP,YAAY,GAAG5B,KAAK,CAACD,KAAK,MAAM,IAAI,IAAI6B,YAAY,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,YAAY,CAACQ,MAAM,CAAC;UAC1JhB,QAAQ,EAAEc;QACZ,CAAC,CAAC,GAAGG,WAAW,EAAE,aAAahE,IAAI,CAAC,MAAM,EAAE;UAC1Cc,SAAS,EAAExB,UAAU,CAAC,EAAE,CAACwE,MAAM,CAACzB,aAAa,EAAE,YAAY,CAAC,EAAE,CAACmB,YAAY,GAAG7B,KAAK,CAACD,KAAK,MAAM,IAAI,IAAI8B,YAAY,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,YAAY,CAACO,MAAM,EAAEjF,eAAe,CAAC,CAAC,CAAC,EAAE,EAAE,CAACgF,MAAM,CAACzB,aAAa,EAAE,qBAAqB,CAAC,EAAEY,QAAQ,KAAK,OAAO,IAAIW,aAAa,KAAKC,OAAO,IAAIG,WAAW,CAAC,CAAC,CAAC;UACvSjB,QAAQ,EAAEF;QACZ,CAAC,CAAC;MACJ,CAAC,CAAC;;MAEF;MACA,IAAIxB,KAAK,GAAGe,iBAAiB,GAAGA,iBAAiB,CAACzD,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAEoD,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE;QAC3F7C,KAAK,EAAE;MACT,CAAC,CAAC,EAAE+E,YAAY,EAAEtC,KAAK,CAACD,KAAK,CAAC,GAAGuC,YAAY;MAC7C,IAAIE,YAAY,GAAGxC,KAAK,CAACyC,eAAe,CAACrB,QAAQ,EAAElB,KAAK,GAAG,CAAC,CAAC;MAC7D,IAAIa,OAAO,IAAIb,KAAK,KAAK,CAAC,IAAIF,KAAK,CAACD,KAAK,CAACa,SAAS,IAAI,CAACC,IAAI,CAAC6B,uBAAuB,EAAE;QACpF,OAAOF,YAAY;MACrB;MACA,OAAO,CAAC;QACNhD,IAAI,EAAE8B,QAAQ;QACdqB,GAAG,EAAEvC,IAAI,CAACuC,GAAG,IAAIvC,IAAI,CAACwC,IAAI;QAC1BC,KAAK,EAAEnD,KAAK;QACZoD,OAAO,EAAE/B,OAAO,GAAG7B,SAAS,GAAGkB,IAAI,CAAC2C,YAAY;QAChD3B,QAAQ,EAAEoB,YAAY;QACtBrD,SAAS,EAAExB,UAAU,EAAEmE,YAAY,GAAG,CAAC,CAAC,EAAE3E,eAAe,CAAC2E,YAAY,EAAE,EAAE,CAACK,MAAM,CAACzB,aAAa,EAAE,QAAQ,CAAC,EAAEY,QAAQ,KAAK,OAAO,CAAC,EAAEnE,eAAe,CAAC2E,YAAY,EAAE,EAAE,CAACK,MAAM,CAACzB,aAAa,EAAE,UAAU,CAAC,EAAEY,QAAQ,KAAK,OAAO,CAAC,EAAEnE,eAAe,CAAC2E,YAAY,EAAE,EAAE,CAACK,MAAM,CAACzB,aAAa,EAAE,mBAAmB,CAAC,EAAEY,QAAQ,KAAK,OAAO,IAAIW,aAAa,IAAIC,OAAO,CAAC,EAAEJ,YAAY;MAC5W,CAAC,EAAEf,OAAO,IAAIb,KAAK,KAAK,CAAC,GAAG;QAC1BV,IAAI,EAAE,SAAS;QACfmB,SAAS,EAAEA,SAAS;QACpBxB,SAAS,EAAE,EAAE,CAACgD,MAAM,CAACzB,aAAa,EAAE,UAAU,CAAC;QAC/CiC,GAAG,EAAE,CAACvC,IAAI,CAACuC,GAAG,IAAIvC,IAAI,CAACwC,IAAI,IAAI,gBAAgB;QAC/CI,KAAK,EAAE;UACLC,OAAO,EAAE,CAAC;UACVC,cAAc,EAAE,CAAC;UACjBC,MAAM,EAAEnD,KAAK,CAACD,KAAK,CAACa,SAAS,GAAG,KAAK,GAAG,UAAU;UAClDwC,gBAAgB,EAAEpD,KAAK,CAACD,KAAK,CAACa,SAAS,GAAG,CAAC,GAAG,CAAC;UAC/CyC,WAAW,EAAErC,WAAW,KAAK,IAAI,IAAIA,WAAW,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,CAACe,mBAAmB,GAAGf,WAAW,CAACF,MAAM,MAAM,IAAI,IAAIiB,mBAAmB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,CAACC,qBAAqB,GAAGD,mBAAmB,CAACuB,KAAK,MAAM,IAAI,IAAItB,qBAAqB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,qBAAqB,CAACuB;QAC5S;MACF,CAAC,GAAGrE,SAAS,CAAC,CAACoB,MAAM,CAACkD,OAAO,CAAC;IAChC;IACA,OAAO;MACLrE,SAAS,EAAE,EAAE,CAACgD,MAAM,CAACzB,aAAa,EAAE,YAAY,CAAC;MACjD+C,QAAQ,EAAErD,IAAI,CAACqD,QAAQ;MACvBd,GAAG,EAAEvC,IAAI,CAACuC,GAAG,IAAIvC,IAAI,CAACwC,IAAI;MAC1BE,OAAO,EAAE1C,IAAI,CAAC2C,YAAY;MAC1BF,KAAK,EAAE7C,KAAK,CAAC0D,eAAe,CAACtD,IAAI,EAAEF,KAAK;IAC1C,CAAC;EACH,CAAC,CAAC;EACF/C,eAAe,CAAC,IAAI,EAAE,aAAa,EAAE,UAAUiD,IAAI,EAAE;IACnD,IAAIc,IAAI,GAAGd,IAAI,CAACc,IAAI;MAClByC,MAAM,GAAGvD,IAAI,CAACuD,MAAM;IACtB,IAAIC,YAAY,GAAG5D,KAAK,CAACD,KAAK;MAC5Bc,IAAI,GAAG+C,YAAY,CAAC/C,IAAI;MACxBgD,aAAa,GAAGD,YAAY,CAACC,aAAa;IAC5C,IAAIF,MAAM,IAAI,CAAC9C,IAAI,KAAK,IAAI,IAAIA,IAAI,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,IAAI,CAAC8C,MAAM,MAAM,KAAK,EAAE;MACjF,OAAOE,aAAa,KAAK,IAAI,IAAIA,aAAa,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,aAAa,CAAC;QACjFC,EAAE,EAAEH,MAAM;QACVI,cAAc,EAAE7C;MAClB,CAAC,CAAC;IACJ;IACA,OAAOA,IAAI;EACb,CAAC,CAAC;EACF/D,eAAe,CAAC,IAAI,EAAE,iBAAiB,EAAE,UAAUiD,IAAI,EAAEF,KAAK,EAAE;IAC9D,IAAI8D,YAAY,EAAEC,aAAa,EAAEC,YAAY,EAAEC,aAAa,EAAEC,aAAa;IAC3E,IAAIC,QAAQ,GAAGrE,KAAK,CAACsE,cAAc,CAAClE,IAAI,CAACwC,IAAI,IAAI,GAAG,CAAC;IACrD,IAAI2B,YAAY,GAAGvE,KAAK,CAACD,KAAK;MAC5ByE,qBAAqB,GAAGD,YAAY,CAACE,QAAQ;MAC7CA,QAAQ,GAAGD,qBAAqB,KAAK,KAAK,CAAC,GAAG;QAC5CE,QAAQ,EAAE;MACZ,CAAC,GAAGF,qBAAqB;MACzBG,QAAQ,GAAGJ,YAAY,CAACI,QAAQ;MAChCC,UAAU,GAAGL,YAAY,CAACK,UAAU;MACpCC,cAAc,GAAGN,YAAY,CAACM,cAAc;MAC5C9F,YAAY,GAAGwF,YAAY,CAACxF,YAAY;;IAE1C;IACA,IAAImC,IAAI,GAAGlB,KAAK,CAACmB,WAAW,CAACf,IAAI,CAAC;IAClC,IAAI0E,YAAY,GAAG9E,KAAK,CAACD,KAAK;MAC5BW,aAAa,GAAGoE,YAAY,CAACpE,aAAa;MAC1CG,IAAI,GAAGiE,YAAY,CAACjE,IAAI;MACxBD,SAAS,GAAGkE,YAAY,CAAClE,SAAS;IACpC,IAAIG,OAAO,GAAG,CAACF,IAAI,KAAK,IAAI,IAAIA,IAAI,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,IAAI,CAACrB,IAAI,MAAM,OAAO;IACjF;IACA,IAAIuF,OAAO,GAAG7E,KAAK,KAAK,CAAC,IAAIa,OAAO,IAAIb,KAAK,KAAK,CAAC;IACnD,IAAIpB,IAAI,GAAG,CAACiG,OAAO,GAAG,IAAI,GAAGlG,OAAO,CAACuB,IAAI,CAACtB,IAAI,EAAEC,YAAY,EAAE,EAAE,CAACoD,MAAM,CAACzB,aAAa,EAAE,QAAQ,CAAC,CAACyB,MAAM,CAAC,CAAC6B,YAAY,GAAGhE,KAAK,CAACD,KAAK,MAAM,IAAI,IAAIiE,YAAY,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,YAAY,CAAC5B,MAAM,CAAC,CAAC;IACzM,IAAIC,WAAW,GAAGzB,SAAS,IAAImE,OAAO,GAAGtF,kBAAkB,CAACyB,IAAI,CAAC,GAAG,IAAI;IACxE,IAAI8D,WAAW,GAAG,aAAazG,KAAK,CAAC,KAAK,EAAE;MAC1CY,SAAS,EAAExB,UAAU,CAAC,EAAE,CAACwE,MAAM,CAACzB,aAAa,EAAE,aAAa,CAAC,EAAE,CAACuD,aAAa,GAAGjE,KAAK,CAACD,KAAK,MAAM,IAAI,IAAIkE,aAAa,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,aAAa,CAAC7B,MAAM,GAAG8B,YAAY,GAAG,CAAC,CAAC,EAAE/G,eAAe,CAAC+G,YAAY,EAAE,EAAE,CAAC/B,MAAM,CAACzB,aAAa,EAAE,uBAAuB,CAAC,EAAEE,SAAS,CAAC,EAAEzD,eAAe,CAAC+G,YAAY,EAAE,EAAE,CAAC/B,MAAM,CAACzB,aAAa,EAAE,4BAA4B,CAAC,EAAE,CAACG,IAAI,KAAK,IAAI,IAAIA,IAAI,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,IAAI,CAAC0B,kBAAkB,KAAK3B,SAAS,CAAC,EAAEsD,YAAY,EAAE;MAC7c9C,QAAQ,EAAE,CAACtC,IAAI,GAAG,aAAaT,IAAI,CAAC,MAAM,EAAE;QAC1Cc,SAAS,EAAE,EAAE,CAACgD,MAAM,CAACzB,aAAa,EAAE,aAAa,CAAC,CAACyB,MAAM,CAAC,CAACgC,aAAa,GAAGnE,KAAK,CAACD,KAAK,MAAM,IAAI,IAAIoE,aAAa,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,aAAa,CAAC/B,MAAM,CAAC;QAC7JhB,QAAQ,EAAEtC;MACZ,CAAC,CAAC,GAAGuD,WAAW,EAAE,aAAahE,IAAI,CAAC,MAAM,EAAE;QAC1Cc,SAAS,EAAExB,UAAU,CAAC,EAAE,CAACwE,MAAM,CAACzB,aAAa,EAAE,YAAY,CAAC,EAAE,CAAC0D,aAAa,GAAGpE,KAAK,CAACD,KAAK,MAAM,IAAI,IAAIqE,aAAa,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,aAAa,CAAChC,MAAM,EAAEjF,eAAe,CAAC,CAAC,CAAC,EAAE,EAAE,CAACgF,MAAM,CAACzB,aAAa,EAAE,qBAAqB,CAAC,EAAEqE,OAAO,KAAKjG,IAAI,IAAIuD,WAAW,CAAC,CAAC,CAAC;QACzQjB,QAAQ,EAAEF;MACZ,CAAC,CAAC;IACJ,CAAC,EAAEmD,QAAQ,CAAC;IACZ,IAAIY,SAAS,GAAG1H,KAAK,CAAC8G,QAAQ,CAAC;;IAE/B;IACA,IAAIY,SAAS,EAAE;MACb,IAAIC,aAAa,EAAEC,YAAY,EAAEC,aAAa,EAAEC,aAAa;MAC7DL,WAAW,GAAG,aAAazG,KAAK,CAAC,MAAM,EAAE;QACvCuE,OAAO,EAAE,SAASA,OAAOA,CAAA,EAAG;UAC1B,IAAIwC,OAAO,EAAEC,YAAY;UACzB,CAACD,OAAO,GAAGE,MAAM,MAAM,IAAI,IAAIF,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,CAACC,YAAY,GAAGD,OAAO,CAACG,IAAI,MAAM,IAAI,IAAIF,YAAY,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,YAAY,CAACG,IAAI,CAACJ,OAAO,EAAEjB,QAAQ,EAAE,QAAQ,CAAC;QAC1L,CAAC;QACDlF,SAAS,EAAExB,UAAU,CAAC,EAAE,CAACwE,MAAM,CAACzB,aAAa,EAAE,aAAa,CAAC,EAAE,CAACwE,aAAa,GAAGlF,KAAK,CAACD,KAAK,MAAM,IAAI,IAAImF,aAAa,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,aAAa,CAAC9C,MAAM,GAAG+C,YAAY,GAAG,CAAC,CAAC,EAAEhI,eAAe,CAACgI,YAAY,EAAE,EAAE,CAAChD,MAAM,CAACzB,aAAa,EAAE,uBAAuB,CAAC,EAAEE,SAAS,CAAC,EAAEzD,eAAe,CAACgI,YAAY,EAAE,EAAE,CAAChD,MAAM,CAACzB,aAAa,EAAE,YAAY,CAAC,EAAE,IAAI,CAAC,EAAEvD,eAAe,CAACgI,YAAY,EAAE,EAAE,CAAChD,MAAM,CAACzB,aAAa,EAAE,4BAA4B,CAAC,EAAE,CAACG,IAAI,KAAK,IAAI,IAAIA,IAAI,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,IAAI,CAAC0B,kBAAkB,KAAK3B,SAAS,CAAC,EAAEuE,YAAY,EAAE;QAC1hB/D,QAAQ,EAAE,CAACtC,IAAI,GAAG,aAAaT,IAAI,CAAC,MAAM,EAAE;UAC1Cc,SAAS,EAAE,EAAE,CAACgD,MAAM,CAACzB,aAAa,EAAE,aAAa,CAAC,CAACyB,MAAM,CAAC,CAACiD,aAAa,GAAGpF,KAAK,CAACD,KAAK,MAAM,IAAI,IAAIqF,aAAa,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,aAAa,CAAChD,MAAM,CAAC;UAC7JhB,QAAQ,EAAEtC;QACZ,CAAC,CAAC,GAAGuD,WAAW,EAAE,aAAahE,IAAI,CAAC,MAAM,EAAE;UAC1Cc,SAAS,EAAExB,UAAU,CAAC,EAAE,CAACwE,MAAM,CAACzB,aAAa,EAAE,YAAY,CAAC,EAAE,CAAC2E,aAAa,GAAGrF,KAAK,CAACD,KAAK,MAAM,IAAI,IAAIsF,aAAa,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACjD,MAAM,EAAEjF,eAAe,CAAC,CAAC,CAAC,EAAE,EAAE,CAACgF,MAAM,CAACzB,aAAa,EAAE,qBAAqB,CAAC,EAAEqE,OAAO,KAAKjG,IAAI,IAAIuD,WAAW,CAAC,CAAC,CAAC;UACzQjB,QAAQ,EAAEF;QACZ,CAAC,CAAC;MACJ,CAAC,EAAEmD,QAAQ,CAAC;IACd;IACA,IAAIQ,cAAc,EAAE;MAClB,IAAIc,eAAe,GAAG3I,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAEoD,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE;QAC/D7C,KAAK,EAAE0H,SAAS;QAChBZ,QAAQ,EAAEA,QAAQ;QAClBM,QAAQ,EAAEA,QAAQ;QAClBiB,OAAO,EAAEvB,QAAQ,KAAKI,QAAQ,CAACC,QAAQ;QACvC5B,OAAO,EAAE,SAASA,OAAOA,CAAA,EAAG;UAC1B,OAAO8B,UAAU,IAAIA,UAAU,CAAC,IAAI,CAAC;QACvC,CAAC;QACDxD,QAAQ,EAAElC;MACZ,CAAC,CAAC;MACF,OAAO2F,cAAc,CAACc,eAAe,EAAEX,WAAW,EAAEhF,KAAK,CAACD,KAAK,CAAC;IAClE;IACA,OAAOiF,WAAW;EACpB,CAAC,CAAC;EACF7H,eAAe,CAAC,IAAI,EAAE,gBAAgB,EAAE,UAAUyF,IAAI,EAAE;IACtD,IAAIA,IAAI,IAAIA,IAAI,CAACiD,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE;MACtC,OAAOjD,IAAI;IACb;IACA,OAAO,GAAG,CAACT,MAAM,CAACS,IAAI,IAAI,EAAE,CAAC,CAACgD,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC;EACpD,CAAC,CAAC;EACF,IAAI,CAAC7F,KAAK,GAAGA,KAAK;AACpB,CAAC,CAAC;AACF;AACA;AACA;AACA;AACA;AACA,IAAI+F,gBAAgB,GAAG,SAASA,gBAAgBA,CAACC,QAAQ,EAAEC,IAAI,EAAE;EAC/D,IAAIlF,MAAM,GAAGkF,IAAI,CAAClF,MAAM;IACtBF,SAAS,GAAGoF,IAAI,CAACpF,SAAS;EAC5B,IAAIqF,aAAa,GAAG,CAAC,CAAC;EACtB,IAAIF,QAAQ,IAAI,CAACnF,SAAS,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAACsF,QAAQ,CAACpF,MAAM,IAAI,KAAK,CAAC,EAAE;IACvEmF,aAAa,GAAG;MACdF,QAAQ,EAAEA;IACZ,CAAC;EACH;EACA,OAAOE,aAAa;AACtB,CAAC;AACD,IAAIE,QAAQ,GAAG,SAASA,QAAQA,CAACpG,KAAK,EAAE;EACtC,IAAIqG,YAAY;EAChB,IAAIC,IAAI,GAAGtG,KAAK,CAACsG,IAAI;IACnBlH,SAAS,GAAGY,KAAK,CAACZ,SAAS;IAC3BmH,gBAAgB,GAAGvG,KAAK,CAACuG,gBAAgB;IACzCtD,KAAK,GAAGjD,KAAK,CAACiD,KAAK;IACnBuD,QAAQ,GAAGxG,KAAK,CAACwG,QAAQ;IACzB5F,SAAS,GAAGZ,KAAK,CAACY,SAAS;IAC3BE,IAAI,GAAGd,KAAK,CAACc,IAAI;IACjB2F,aAAa,GAAGzG,KAAK,CAACyG,aAAa;IACnC5H,WAAW,GAAGmB,KAAK,CAACnB,WAAW;IAC/B6H,iBAAiB,GAAG1G,KAAK,CAAC2G,YAAY;IACtCC,QAAQ,GAAG5G,KAAK,CAAC4G,QAAQ;IACzBC,cAAc,GAAG7G,KAAK,CAAC6G,cAAc;IACrCC,aAAa,GAAG9G,KAAK,CAACgG,QAAQ;EAChC,IAAIe,WAAW,GAAGjJ,UAAU,CAACR,WAAW,CAAC;IACvC0J,IAAI,GAAGD,WAAW,CAACC,IAAI;IACvB/F,WAAW,GAAG8F,WAAW,CAAC7F,KAAK;EACjC,IAAIP,aAAa,GAAG,EAAE,CAACyB,MAAM,CAACxB,SAAS,EAAE,YAAY,CAAC;EACtD;EACA,IAAIqG,kBAAkB,GAAGhJ,MAAM,CAAC,EAAE,CAAC;EACnC,IAAIiJ,mBAAmB,GAAGzJ,kBAAkB,CAACqD,IAAI,KAAK,IAAI,IAAIA,IAAI,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,IAAI,CAACqG,cAAc,CAAC;IAC3GC,oBAAoB,GAAGpK,cAAc,CAACkK,mBAAmB,EAAE,CAAC,CAAC;IAC7DC,cAAc,GAAGC,oBAAoB,CAAC,CAAC,CAAC;IACxCC,iBAAiB,GAAGD,oBAAoB,CAAC,CAAC,CAAC;EAC7C,IAAIE,oBAAoB,GAAG7J,kBAAkB,CAAC,YAAY;MACtD,IAAIqD,IAAI,KAAK,IAAI,IAAIA,IAAI,KAAK,KAAK,CAAC,IAAIA,IAAI,CAACqG,cAAc,EAAE;QAC3D,OAAOhJ,uBAAuB,CAACqI,QAAQ,CAAC,IAAI,EAAE;MAChD;MACA,IAAIM,aAAa,KAAK,KAAK,EAAE;QAC3B,OAAO,KAAK;MACd;MACA,OAAO,EAAE;IACX,CAAC,EAAE;MACDS,KAAK,EAAET,aAAa,KAAK,KAAK,GAAG3H,SAAS,GAAG2H,aAAa;MAC1DU,QAAQ,EAAEjB;IACZ,CAAC,CAAC;IACFkB,oBAAoB,GAAGzK,cAAc,CAACsK,oBAAoB,EAAE,CAAC,CAAC;IAC9DtB,QAAQ,GAAGyB,oBAAoB,CAAC,CAAC,CAAC;IAClCC,WAAW,GAAGD,oBAAoB,CAAC,CAAC,CAAC;EACvC,IAAIE,oBAAoB,GAAGlK,kBAAkB,CAAC,EAAE,EAAE;MAC9C8J,KAAK,EAAEb,iBAAiB;MACxBc,QAAQ,EAAEZ,QAAQ,GAAG,UAAUgB,IAAI,EAAE;QACnC,IAAIhB,QAAQ,IAAIgB,IAAI,EAAE;UACpBhB,QAAQ,CAACgB,IAAI,CAAC;QAChB;MACF,CAAC,GAAGzI;IACN,CAAC,CAAC;IACF0I,oBAAoB,GAAG7K,cAAc,CAAC2K,oBAAoB,EAAE,CAAC,CAAC;IAC9DhB,YAAY,GAAGkB,oBAAoB,CAAC,CAAC,CAAC;IACtCC,eAAe,GAAGD,oBAAoB,CAAC,CAAC,CAAC;EAC3C9J,SAAS,CAAC,YAAY;IACpB,IAAI+C,IAAI,KAAK,IAAI,IAAIA,IAAI,KAAK,KAAK,CAAC,IAAIA,IAAI,CAACqG,cAAc,IAAIL,aAAa,KAAK,KAAK,EAAE;MACtF;IACF;IACA,IAAIL,aAAa,EAAE;MACjBiB,WAAW,CAACjB,aAAa,CAAC;MAC1BqB,eAAe,CAACrB,aAAa,CAAC;IAChC;IACA;EACF,CAAC,EAAE,CAACA,aAAa,CAACsB,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;EAC7BhK,SAAS,CAAC,YAAY;IACpB;IACA,IAAIc,WAAW,EAAE;MACfF,QAAQ,GAAGtB,oBAAoB,CAAC;QAC9BuB,SAAS,EAAEC;MACb,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAACA,WAAW,CAAC,CAAC;EACjBd,SAAS,CAAC,YAAY;IACpB;IACA,IAAI0I,aAAa,CAACsB,IAAI,CAAC,GAAG,CAAC,KAAK,CAACpB,YAAY,IAAI,EAAE,EAAEoB,IAAI,CAAC,GAAG,CAAC,EAAE;MAC9DD,eAAe,CAACrB,aAAa,CAAC;IAChC;IACA,IAAI,CAACU,cAAc,IAAIL,aAAa,KAAK,KAAK,IAAIL,aAAa,CAACsB,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC/B,QAAQ,IAAI,EAAE,EAAE+B,IAAI,CAAC,GAAG,CAAC,EAAE;MACxG,IAAIC,OAAO,GAAGvB,aAAa;MAC3B;MACA,IAAI,CAAC3F,IAAI,KAAK,IAAI,IAAIA,IAAI,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,IAAI,CAACmH,SAAS,MAAM,KAAK,EAAE;QAC1ED,OAAO,GAAGxG,KAAK,CAAC0G,IAAI,CAAC,IAAIC,GAAG,CAAC,EAAE,CAAC/F,MAAM,CAACrF,kBAAkB,CAAC0J,aAAa,CAAC,EAAE1J,kBAAkB,CAACiJ,QAAQ,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;MACjH;MACA0B,WAAW,CAACM,OAAO,CAAC;IACtB,CAAC,MAAM,IAAIlH,IAAI,KAAK,IAAI,IAAIA,IAAI,KAAK,KAAK,CAAC,IAAIA,IAAI,CAACsH,cAAc,IAAIjB,cAAc,EAAE;MACpF;MACAO,WAAW,CAACvJ,uBAAuB,CAACqI,QAAQ,CAAC,CAAC;IAChD,CAAC,MAAM;MACLa,iBAAiB,CAAC,KAAK,CAAC;IAC1B;EACF,CAAC;EACD;EACA,CAACZ,aAAa,CAACsB,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;EAC1B,IAAI7B,aAAa,GAAGlI,OAAO,CAAC,YAAY;IACtC,OAAO+H,gBAAgB,CAACC,QAAQ,EAAEhG,KAAK,CAAC;EAC1C,CAAC;EACD;EACA,CAACgG,QAAQ,IAAIA,QAAQ,CAAC+B,IAAI,CAAC,GAAG,CAAC,EAAE/H,KAAK,CAACe,MAAM,EAAEf,KAAK,CAACa,SAAS,CAAC,CAAC;EAChE,IAAIwH,SAAS,GAAGjK,QAAQ,CAACuC,aAAa,CAAC;IACrC2H,OAAO,GAAGD,SAAS,CAACC,OAAO;IAC3BjG,MAAM,GAAGgG,SAAS,CAAChG,MAAM;EAC3B,IAAIkG,SAAS,GAAGvK,OAAO,CAAC,YAAY;IAClC,OAAO,IAAI+B,QAAQ,CAAC9C,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAE+C,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE;MAC9DkB,KAAK,EAAED,WAAW;MAClB4F,cAAc,EAAEA,cAAc;MAC9BlG,aAAa,EAAEA,aAAa;MAC5B0B,MAAM,EAAEA;IACV,CAAC,CAAC,CAAC;EACL,CAAC,EAAE,CAACrC,KAAK,EAAEiB,WAAW,EAAE4F,cAAc,EAAElG,aAAa,EAAE0B,MAAM,CAAC,CAAC;EAC/D,IAAIvB,IAAI,KAAK,IAAI,IAAIA,IAAI,KAAK,KAAK,CAAC,IAAIA,IAAI,CAAC0H,OAAO,EAAE;IACpD,OAAO,aAAalK,IAAI,CAAC,KAAK,EAAE;MAC9B2E,KAAK,EAAEqD,IAAI,KAAK,IAAI,IAAIA,IAAI,KAAK,KAAK,CAAC,IAAIA,IAAI,CAACH,QAAQ,CAAC,QAAQ,CAAC,GAAG;QACnEjD,OAAO,EAAE;MACX,CAAC,GAAG;QACFG,gBAAgB,EAAE;MACpB,CAAC;MACDhC,QAAQ,EAAE,aAAa/C,IAAI,CAACX,QAAQ,EAAE;QACpC8K,MAAM,EAAE,IAAI;QACZ9I,KAAK,EAAE,KAAK;QACZ+I,SAAS,EAAE;UACTC,IAAI,EAAErC,IAAI,KAAK,IAAI,IAAIA,IAAI,KAAK,KAAK,CAAC,IAAIA,IAAI,CAACH,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG;QAC1E;MACF,CAAC;IACH,CAAC,CAAC;EACJ;;EAEA;EACA;EACA;EACA,IAAInG,KAAK,CAACgG,QAAQ,KAAK,KAAK,IAAI,CAAChG,KAAK,CAACuG,gBAAgB,EAAE;IACvDU,kBAAkB,CAAC2B,OAAO,GAAGnC,aAAa;EAC5C;EACA,IAAIoC,WAAW,GAAG7I,KAAK,CAAC8I,YAAY,GAAG9I,KAAK,CAAC8I,YAAY,CAACtC,QAAQ,CAAC,GAAGA,QAAQ;EAC9E,IAAIqC,WAAW,IAAI,CAACA,WAAW,KAAK,IAAI,IAAIA,WAAW,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,WAAW,CAAC3J,MAAM,IAAI,CAAC,EAAE;IACrG,OAAO,IAAI;EACb;EACA,OAAOoJ,OAAO,EAAE,aAAa5J,cAAc,CAAChB,IAAI,EAAET,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAEiJ,aAAa,CAAC,EAAE,CAAC,CAAC,EAAE;IACpGtD,GAAG,EAAE,MAAM;IACX0D,IAAI,EAAEA,IAAI;IACVyC,YAAY,EAAE,EAAE;IAChBC,eAAe,EAAE/B,kBAAkB,CAAC2B,OAAO;IAC3CK,KAAK,EAAEjC,IAAI,GAAG,MAAM,GAAG,OAAO;IAC9BL,YAAY,EAAEA,YAAY;IAC1B1D,KAAK,EAAEhG,aAAa,CAAC;MACnBiM,eAAe,EAAE,aAAa;MAC9BC,MAAM,EAAE;IACV,CAAC,EAAElG,KAAK,CAAC;IACT7D,SAAS,EAAExB,UAAU,CAACwB,SAAS,EAAEiD,MAAM,EAAE1B,aAAa,GAAG0F,YAAY,GAAG,CAAC,CAAC,EAAEjJ,eAAe,CAACiJ,YAAY,EAAE,EAAE,CAACjE,MAAM,CAACzB,aAAa,EAAE,aAAa,CAAC,EAAE2F,IAAI,KAAK,YAAY,CAAC,EAAElJ,eAAe,CAACiJ,YAAY,EAAE,EAAE,CAACjE,MAAM,CAACzB,aAAa,EAAE,YAAY,CAAC,EAAEX,KAAK,CAACa,SAAS,CAAC,EAAEwF,YAAY,EAAE;IACjR+C,KAAK,EAAEb,SAAS,CAAC7F,eAAe,CAACmG,WAAW,EAAE,CAAC,CAAC;IAChDQ,YAAY,EAAE,SAASA,YAAYA,CAACC,SAAS,EAAE;MAC7C,IAAI,CAACtJ,KAAK,CAACa,SAAS,EAAE;QACpB6G,WAAW,CAAC4B,SAAS,CAAC;MACxB;IACF;EACF,CAAC,EAAEtJ,KAAK,CAACuJ,SAAS,CAAC,CAAC,CAAC;AACvB,CAAC;AACD,SAASnD,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}