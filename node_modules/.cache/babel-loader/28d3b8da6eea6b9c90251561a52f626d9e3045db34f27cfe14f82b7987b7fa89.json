{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { CloseOutlined, DownOutlined } from '@ant-design/icons';\nimport { useIntl } from '@ant-design/pro-provider';\nimport { ConfigProvider } from 'antd';\nimport classNames from 'classnames';\nimport React, { useContext, useImperativeHandle, useRef } from 'react';\nimport { useStyle } from \"./style\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar FieldLabelFunction = function FieldLabelFunction(props, ref) {\n  var _classNames;\n  var label = props.label,\n    onClear = props.onClear,\n    value = props.value,\n    _props$size = props.size,\n    size = _props$size === void 0 ? 'middle' : _props$size,\n    disabled = props.disabled,\n    onLabelClick = props.onLabelClick,\n    ellipsis = props.ellipsis,\n    placeholder = props.placeholder,\n    className = props.className,\n    formatter = props.formatter,\n    bordered = props.bordered,\n    _props$allowClear = props.allowClear,\n    allowClear = _props$allowClear === void 0 ? true : _props$allowClear;\n  var _useContext = useContext(ConfigProvider.ConfigContext),\n    getPrefixCls = _useContext.getPrefixCls;\n  var prefixCls = getPrefixCls('pro-core-field-label');\n  var _useStyle = useStyle(prefixCls),\n    wrapSSR = _useStyle.wrapSSR,\n    hashId = _useStyle.hashId;\n  var intl = useIntl();\n  var clearRef = useRef(null);\n  var labelRef = useRef(null);\n  useImperativeHandle(ref, function () {\n    return {\n      labelRef: labelRef,\n      clearRef: clearRef\n    };\n  });\n  var formatterText = function formatterText(aValue) {\n    if (formatter) {\n      return formatter(aValue);\n    }\n    return Array.isArray(aValue) ? aValue.join(',') : aValue;\n  };\n  var getTextByValue = function getTextByValue(aLabel, aValue) {\n    if (aValue !== undefined && aValue !== null && aValue !== '' && (!Array.isArray(aValue) || aValue.length)) {\n      var _str$toString, _str$toString$substr;\n      var prefix = aLabel ? /*#__PURE__*/_jsxs(\"span\", {\n        onClick: function onClick() {\n          onLabelClick === null || onLabelClick === void 0 ? void 0 : onLabelClick();\n        },\n        className: \"\".concat(prefixCls, \"-text\"),\n        children: [aLabel, ': ']\n      }) : '';\n      var str = formatterText(aValue);\n      if (!ellipsis) {\n        return /*#__PURE__*/_jsxs(\"span\", {\n          style: {\n            display: 'inline-flex',\n            alignItems: 'center'\n          },\n          children: [prefix, formatterText(aValue)]\n        });\n      }\n      // 普通表单值最大长度41，如2022-06-21 20:11:25 ~ 2022-06-22 20:11:25\n      var VALUE_MAX_LENGTH = 41;\n      var getText = function getText() {\n        var isArrayValue = Array.isArray(aValue) && aValue.length > 1;\n        var unitText = intl.getMessage('form.lightFilter.itemUnit', '项');\n        if (typeof str === 'string' && str.length > VALUE_MAX_LENGTH && isArrayValue) {\n          return \"...\".concat(aValue.length).concat(unitText);\n        }\n        return '';\n      };\n      var tail = getText();\n      return /*#__PURE__*/_jsxs(\"span\", {\n        title: typeof str === 'string' ? str : undefined,\n        style: {\n          display: 'inline-flex',\n          alignItems: 'center'\n        },\n        children: [prefix, /*#__PURE__*/_jsx(\"span\", {\n          style: {\n            paddingInlineStart: 4\n          },\n          children: typeof str === 'string' ? str === null || str === void 0 ? void 0 : (_str$toString = str.toString()) === null || _str$toString === void 0 ? void 0 : (_str$toString$substr = _str$toString.substr) === null || _str$toString$substr === void 0 ? void 0 : _str$toString$substr.call(_str$toString, 0, VALUE_MAX_LENGTH) : str\n        }), tail]\n      });\n    }\n    return aLabel || placeholder;\n  };\n  return wrapSSR( /*#__PURE__*/_jsxs(\"span\", {\n    className: classNames(prefixCls, hashId, \"\".concat(prefixCls, \"-\").concat(size), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-active\"), !!value || value === 0), _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-bordered\"), bordered), _defineProperty(_classNames, \"\".concat(prefixCls, \"-allow-clear\"), allowClear), _classNames), className),\n    ref: labelRef,\n    children: [getTextByValue(label, value), (value || value === 0) && allowClear && /*#__PURE__*/_jsx(CloseOutlined, {\n      role: \"button\",\n      title: intl.getMessage('form.lightFilter.clear', '清除'),\n      className: classNames(\"\".concat(prefixCls, \"-icon\"), hashId, \"\".concat(prefixCls, \"-close\")),\n      onClick: function onClick(e) {\n        if (onClear && !disabled) {\n          onClear();\n        }\n        e.stopPropagation();\n      },\n      ref: clearRef\n    }), /*#__PURE__*/_jsx(DownOutlined, {\n      className: classNames(\"\".concat(prefixCls, \"-icon\"), \"\".concat(prefixCls, \"-arrow\"))\n    })]\n  }));\n};\nexport var FieldLabel = /*#__PURE__*/React.forwardRef(FieldLabelFunction);","map":{"version":3,"names":["_defineProperty","CloseOutlined","DownOutlined","useIntl","ConfigProvider","classNames","React","useContext","useImperativeHandle","useRef","useStyle","jsxs","_jsxs","jsx","_jsx","FieldLabelFunction","props","ref","_classNames","label","onClear","value","_props$size","size","disabled","onLabelClick","ellipsis","placeholder","className","formatter","bordered","_props$allowClear","allowClear","_useContext","ConfigContext","getPrefixCls","prefixCls","_useStyle","wrapSSR","hashId","intl","clearRef","labelRef","formatterText","aValue","Array","isArray","join","getTextByValue","aLabel","undefined","length","_str$toString","_str$toString$substr","prefix","onClick","concat","children","str","style","display","alignItems","VALUE_MAX_LENGTH","getText","isArrayValue","unitText","getMessage","tail","title","paddingInlineStart","toString","substr","call","role","e","stopPropagation","FieldLabel","forwardRef"],"sources":["D:/LearnDeveloper/ReactJS/student-management-infor/node_modules/@ant-design/pro-utils/es/components/FieldLabel/index.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { CloseOutlined, DownOutlined } from '@ant-design/icons';\nimport { useIntl } from '@ant-design/pro-provider';\nimport { ConfigProvider } from 'antd';\nimport classNames from 'classnames';\nimport React, { useContext, useImperativeHandle, useRef } from 'react';\nimport { useStyle } from \"./style\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar FieldLabelFunction = function FieldLabelFunction(props, ref) {\n  var _classNames;\n  var label = props.label,\n    onClear = props.onClear,\n    value = props.value,\n    _props$size = props.size,\n    size = _props$size === void 0 ? 'middle' : _props$size,\n    disabled = props.disabled,\n    onLabelClick = props.onLabelClick,\n    ellipsis = props.ellipsis,\n    placeholder = props.placeholder,\n    className = props.className,\n    formatter = props.formatter,\n    bordered = props.bordered,\n    _props$allowClear = props.allowClear,\n    allowClear = _props$allowClear === void 0 ? true : _props$allowClear;\n  var _useContext = useContext(ConfigProvider.ConfigContext),\n    getPrefixCls = _useContext.getPrefixCls;\n  var prefixCls = getPrefixCls('pro-core-field-label');\n  var _useStyle = useStyle(prefixCls),\n    wrapSSR = _useStyle.wrapSSR,\n    hashId = _useStyle.hashId;\n  var intl = useIntl();\n  var clearRef = useRef(null);\n  var labelRef = useRef(null);\n  useImperativeHandle(ref, function () {\n    return {\n      labelRef: labelRef,\n      clearRef: clearRef\n    };\n  });\n  var formatterText = function formatterText(aValue) {\n    if (formatter) {\n      return formatter(aValue);\n    }\n    return Array.isArray(aValue) ? aValue.join(',') : aValue;\n  };\n  var getTextByValue = function getTextByValue(aLabel, aValue) {\n    if (aValue !== undefined && aValue !== null && aValue !== '' && (!Array.isArray(aValue) || aValue.length)) {\n      var _str$toString, _str$toString$substr;\n      var prefix = aLabel ? /*#__PURE__*/_jsxs(\"span\", {\n        onClick: function onClick() {\n          onLabelClick === null || onLabelClick === void 0 ? void 0 : onLabelClick();\n        },\n        className: \"\".concat(prefixCls, \"-text\"),\n        children: [aLabel, ': ']\n      }) : '';\n      var str = formatterText(aValue);\n      if (!ellipsis) {\n        return /*#__PURE__*/_jsxs(\"span\", {\n          style: {\n            display: 'inline-flex',\n            alignItems: 'center'\n          },\n          children: [prefix, formatterText(aValue)]\n        });\n      }\n      // 普通表单值最大长度41，如2022-06-21 20:11:25 ~ 2022-06-22 20:11:25\n      var VALUE_MAX_LENGTH = 41;\n      var getText = function getText() {\n        var isArrayValue = Array.isArray(aValue) && aValue.length > 1;\n        var unitText = intl.getMessage('form.lightFilter.itemUnit', '项');\n        if (typeof str === 'string' && str.length > VALUE_MAX_LENGTH && isArrayValue) {\n          return \"...\".concat(aValue.length).concat(unitText);\n        }\n        return '';\n      };\n      var tail = getText();\n      return /*#__PURE__*/_jsxs(\"span\", {\n        title: typeof str === 'string' ? str : undefined,\n        style: {\n          display: 'inline-flex',\n          alignItems: 'center'\n        },\n        children: [prefix, /*#__PURE__*/_jsx(\"span\", {\n          style: {\n            paddingInlineStart: 4\n          },\n          children: typeof str === 'string' ? str === null || str === void 0 ? void 0 : (_str$toString = str.toString()) === null || _str$toString === void 0 ? void 0 : (_str$toString$substr = _str$toString.substr) === null || _str$toString$substr === void 0 ? void 0 : _str$toString$substr.call(_str$toString, 0, VALUE_MAX_LENGTH) : str\n        }), tail]\n      });\n    }\n    return aLabel || placeholder;\n  };\n  return wrapSSR( /*#__PURE__*/_jsxs(\"span\", {\n    className: classNames(prefixCls, hashId, \"\".concat(prefixCls, \"-\").concat(size), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-active\"), !!value || value === 0), _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-bordered\"), bordered), _defineProperty(_classNames, \"\".concat(prefixCls, \"-allow-clear\"), allowClear), _classNames), className),\n    ref: labelRef,\n    children: [getTextByValue(label, value), (value || value === 0) && allowClear && /*#__PURE__*/_jsx(CloseOutlined, {\n      role: \"button\",\n      title: intl.getMessage('form.lightFilter.clear', '清除'),\n      className: classNames(\"\".concat(prefixCls, \"-icon\"), hashId, \"\".concat(prefixCls, \"-close\")),\n      onClick: function onClick(e) {\n        if (onClear && !disabled) {\n          onClear();\n        }\n        e.stopPropagation();\n      },\n      ref: clearRef\n    }), /*#__PURE__*/_jsx(DownOutlined, {\n      className: classNames(\"\".concat(prefixCls, \"-icon\"), \"\".concat(prefixCls, \"-arrow\"))\n    })]\n  }));\n};\nexport var FieldLabel = /*#__PURE__*/React.forwardRef(FieldLabelFunction);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}