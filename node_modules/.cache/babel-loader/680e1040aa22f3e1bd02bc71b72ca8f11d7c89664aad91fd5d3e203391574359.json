{"ast":null,"code":"import _objectDestructuringEmpty from \"@babel/runtime/helpers/esm/objectDestructuringEmpty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { useRefFunction } from '@ant-design/pro-utils';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport { sortData } from \"./index\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar SortableItem = SortableElement(function (p) {\n  return /*#__PURE__*/_jsx(\"tr\", _objectSpread({}, p));\n});\nvar SortContainer = SortableContainer(function (p) {\n  return /*#__PURE__*/_jsx(\"tbody\", _objectSpread({}, p));\n});\nexport function useDragSort(props) {\n  var _props$dataSource = props.dataSource,\n    dataSource = _props$dataSource === void 0 ? [] : _props$dataSource,\n    onDragSortEnd = props.onDragSortEnd,\n    dragSortKey = props.dragSortKey;\n\n  // 拖拽排序相关逻辑\n  /* istanbul ignore next */\n  var handleSortEnd = useRefFunction(function (params) {\n    /* istanbul ignore next */\n    var newDataSource = sortData(params, dataSource);\n    /* istanbul ignore next */\n    if (newDataSource && onDragSortEnd) {\n      /* istanbul ignore next */\n      onDragSortEnd(newDataSource);\n    }\n  });\n  var DraggableContainer = useRefFunction(function (p) {\n    return /*#__PURE__*/_jsx(SortContainer, _objectSpread({\n      useDragHandle: true,\n      disableAutoscroll: true,\n      helperClass: \"row-dragging\",\n      onSortEnd: handleSortEnd\n    }, p));\n  });\n  var DraggableBodyRow = useRefFunction(function (p) {\n    var restProps = Object.assign({}, (_objectDestructuringEmpty(p), p));\n    // function findIndex base on Table rowKey props and should always be a right array index\n    var index = dataSource.findIndex(function (item) {\n      var _props$rowKey;\n      return item[(_props$rowKey = props.rowKey) !== null && _props$rowKey !== void 0 ? _props$rowKey : 'index'] === restProps['data-row-key'];\n    });\n    return /*#__PURE__*/_jsx(SortableItem, _objectSpread({\n      index: index\n    }, restProps));\n  });\n  var components = props.components || {};\n  if (dragSortKey) {\n    var _props$components;\n    components.body = _objectSpread(_objectSpread({}, ((_props$components = props.components) === null || _props$components === void 0 ? void 0 : _props$components.body) || {}), {}, {\n      wrapper: DraggableContainer,\n      row: DraggableBodyRow\n    });\n  }\n  return {\n    components: components\n  };\n}","map":{"version":3,"names":["_objectDestructuringEmpty","_objectSpread","useRefFunction","SortableContainer","SortableElement","sortData","jsx","_jsx","SortableItem","p","SortContainer","useDragSort","props","_props$dataSource","dataSource","onDragSortEnd","dragSortKey","handleSortEnd","params","newDataSource","DraggableContainer","useDragHandle","disableAutoscroll","helperClass","onSortEnd","DraggableBodyRow","restProps","Object","assign","index","findIndex","item","_props$rowKey","rowKey","components","_props$components","body","wrapper","row"],"sources":["D:/LearnDeveloper/ReactJS/student-management-infor/node_modules/@ant-design/pro-table/es/utils/useDragSort.js"],"sourcesContent":["import _objectDestructuringEmpty from \"@babel/runtime/helpers/esm/objectDestructuringEmpty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { useRefFunction } from '@ant-design/pro-utils';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport { sortData } from \"./index\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar SortableItem = SortableElement(function (p) {\n  return /*#__PURE__*/_jsx(\"tr\", _objectSpread({}, p));\n});\nvar SortContainer = SortableContainer(function (p) {\n  return /*#__PURE__*/_jsx(\"tbody\", _objectSpread({}, p));\n});\nexport function useDragSort(props) {\n  var _props$dataSource = props.dataSource,\n    dataSource = _props$dataSource === void 0 ? [] : _props$dataSource,\n    onDragSortEnd = props.onDragSortEnd,\n    dragSortKey = props.dragSortKey;\n\n  // 拖拽排序相关逻辑\n  /* istanbul ignore next */\n  var handleSortEnd = useRefFunction(function (params) {\n    /* istanbul ignore next */\n    var newDataSource = sortData(params, dataSource);\n    /* istanbul ignore next */\n    if (newDataSource && onDragSortEnd) {\n      /* istanbul ignore next */\n      onDragSortEnd(newDataSource);\n    }\n  });\n  var DraggableContainer = useRefFunction(function (p) {\n    return /*#__PURE__*/_jsx(SortContainer, _objectSpread({\n      useDragHandle: true,\n      disableAutoscroll: true,\n      helperClass: \"row-dragging\",\n      onSortEnd: handleSortEnd\n    }, p));\n  });\n  var DraggableBodyRow = useRefFunction(function (p) {\n    var restProps = Object.assign({}, (_objectDestructuringEmpty(p), p));\n    // function findIndex base on Table rowKey props and should always be a right array index\n    var index = dataSource.findIndex(function (item) {\n      var _props$rowKey;\n      return item[(_props$rowKey = props.rowKey) !== null && _props$rowKey !== void 0 ? _props$rowKey : 'index'] === restProps['data-row-key'];\n    });\n    return /*#__PURE__*/_jsx(SortableItem, _objectSpread({\n      index: index\n    }, restProps));\n  });\n  var components = props.components || {};\n  if (dragSortKey) {\n    var _props$components;\n    components.body = _objectSpread(_objectSpread({}, ((_props$components = props.components) === null || _props$components === void 0 ? void 0 : _props$components.body) || {}), {}, {\n      wrapper: DraggableContainer,\n      row: DraggableBodyRow\n    });\n  }\n  return {\n    components: components\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}