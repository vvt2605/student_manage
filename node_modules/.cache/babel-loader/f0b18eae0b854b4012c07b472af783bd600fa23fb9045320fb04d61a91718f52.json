{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { InputNumber } from 'antd';\nimport toNumber from 'lodash.tonumber';\nimport React, { Fragment, useMemo } from 'react';\nimport { getColorByRealValue, getRealTextWithPrecision, getSymbolByRealValue } from \"./util\";\n\n// 兼容代码-----------\nimport \"antd/es/input-number/style\";\nimport { useIntl } from '@ant-design/pro-provider';\n//------------\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n/**\n * 百分比组件\n *\n * @param PercentPropInt\n */\nvar FieldPercent = function FieldPercent(_ref, ref) {\n  var text = _ref.text,\n    prefix = _ref.prefix,\n    precision = _ref.precision,\n    _ref$suffix = _ref.suffix,\n    suffix = _ref$suffix === void 0 ? '%' : _ref$suffix,\n    mode = _ref.mode,\n    _ref$showColor = _ref.showColor,\n    showColor = _ref$showColor === void 0 ? false : _ref$showColor,\n    render = _ref.render,\n    renderFormItem = _ref.renderFormItem,\n    fieldProps = _ref.fieldProps,\n    placeholder = _ref.placeholder,\n    propsShowSymbol = _ref.showSymbol;\n  var intl = useIntl();\n  var placeholderValue = placeholder || intl.getMessage('tableForm.inputPlaceholder', '请输入');\n  var realValue = useMemo(function () {\n    return typeof text === 'string' && text.includes('%') ? toNumber(text.replace('%', '')) : toNumber(text);\n  }, [text]);\n  var showSymbol = useMemo(function () {\n    if (typeof propsShowSymbol === 'function') {\n      return propsShowSymbol === null || propsShowSymbol === void 0 ? void 0 : propsShowSymbol(text);\n    }\n    return propsShowSymbol;\n  }, [propsShowSymbol, text]);\n  if (mode === 'read') {\n    /** 颜色有待确定, 根据提供 colors: ['正', '负'] | boolean */\n    var style = showColor ? {\n      color: getColorByRealValue(realValue)\n    } : {};\n    var dom = /*#__PURE__*/_jsxs(\"span\", {\n      style: style,\n      ref: ref,\n      children: [prefix && /*#__PURE__*/_jsx(\"span\", {\n        children: prefix\n      }), showSymbol && /*#__PURE__*/_jsxs(Fragment, {\n        children: [getSymbolByRealValue(realValue), \" \"]\n      }), getRealTextWithPrecision(Math.abs(realValue), precision), suffix && suffix]\n    });\n    if (render) {\n      return render(text, _objectSpread(_objectSpread({\n        mode: mode\n      }, fieldProps), {}, {\n        prefix: prefix,\n        precision: precision,\n        showSymbol: showSymbol,\n        suffix: suffix\n      }), dom);\n    }\n    return dom;\n  }\n  if (mode === 'edit' || mode === 'update') {\n    var _dom = /*#__PURE__*/_jsx(InputNumber, _objectSpread({\n      ref: ref,\n      formatter: function formatter(value) {\n        if (value && prefix) {\n          return \"\".concat(prefix, \" \").concat(value).replace(/\\B(?=(\\d{3})+(?!\\d)$)/g, ',');\n        }\n        return value;\n      },\n      parser: function parser(value) {\n        return value ? value.replace(/.*\\s|,/g, '') : '';\n      },\n      placeholder: placeholderValue\n    }, fieldProps));\n    if (renderFormItem) {\n      return renderFormItem(text, _objectSpread({\n        mode: mode\n      }, fieldProps), _dom);\n    }\n    return _dom;\n  }\n  return null;\n};\nexport default /*#__PURE__*/React.forwardRef(FieldPercent);","map":{"version":3,"names":["_objectSpread","InputNumber","toNumber","React","Fragment","useMemo","getColorByRealValue","getRealTextWithPrecision","getSymbolByRealValue","useIntl","jsx","_jsx","jsxs","_jsxs","FieldPercent","_ref","ref","text","prefix","precision","_ref$suffix","suffix","mode","_ref$showColor","showColor","render","renderFormItem","fieldProps","placeholder","propsShowSymbol","showSymbol","intl","placeholderValue","getMessage","realValue","includes","replace","style","color","dom","children","Math","abs","_dom","formatter","value","concat","parser","forwardRef"],"sources":["D:/LearnDeveloper/ReactJS/student-management-infor/node_modules/@ant-design/pro-field/es/components/Percent/index.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { InputNumber } from 'antd';\nimport toNumber from 'lodash.tonumber';\nimport React, { Fragment, useMemo } from 'react';\nimport { getColorByRealValue, getRealTextWithPrecision, getSymbolByRealValue } from \"./util\";\n\n// 兼容代码-----------\nimport \"antd/es/input-number/style\";\nimport { useIntl } from '@ant-design/pro-provider';\n//------------\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n/**\n * 百分比组件\n *\n * @param PercentPropInt\n */\nvar FieldPercent = function FieldPercent(_ref, ref) {\n  var text = _ref.text,\n    prefix = _ref.prefix,\n    precision = _ref.precision,\n    _ref$suffix = _ref.suffix,\n    suffix = _ref$suffix === void 0 ? '%' : _ref$suffix,\n    mode = _ref.mode,\n    _ref$showColor = _ref.showColor,\n    showColor = _ref$showColor === void 0 ? false : _ref$showColor,\n    render = _ref.render,\n    renderFormItem = _ref.renderFormItem,\n    fieldProps = _ref.fieldProps,\n    placeholder = _ref.placeholder,\n    propsShowSymbol = _ref.showSymbol;\n  var intl = useIntl();\n  var placeholderValue = placeholder || intl.getMessage('tableForm.inputPlaceholder', '请输入');\n  var realValue = useMemo(function () {\n    return typeof text === 'string' && text.includes('%') ? toNumber(text.replace('%', '')) : toNumber(text);\n  }, [text]);\n  var showSymbol = useMemo(function () {\n    if (typeof propsShowSymbol === 'function') {\n      return propsShowSymbol === null || propsShowSymbol === void 0 ? void 0 : propsShowSymbol(text);\n    }\n    return propsShowSymbol;\n  }, [propsShowSymbol, text]);\n  if (mode === 'read') {\n    /** 颜色有待确定, 根据提供 colors: ['正', '负'] | boolean */\n    var style = showColor ? {\n      color: getColorByRealValue(realValue)\n    } : {};\n    var dom = /*#__PURE__*/_jsxs(\"span\", {\n      style: style,\n      ref: ref,\n      children: [prefix && /*#__PURE__*/_jsx(\"span\", {\n        children: prefix\n      }), showSymbol && /*#__PURE__*/_jsxs(Fragment, {\n        children: [getSymbolByRealValue(realValue), \" \"]\n      }), getRealTextWithPrecision(Math.abs(realValue), precision), suffix && suffix]\n    });\n    if (render) {\n      return render(text, _objectSpread(_objectSpread({\n        mode: mode\n      }, fieldProps), {}, {\n        prefix: prefix,\n        precision: precision,\n        showSymbol: showSymbol,\n        suffix: suffix\n      }), dom);\n    }\n    return dom;\n  }\n  if (mode === 'edit' || mode === 'update') {\n    var _dom = /*#__PURE__*/_jsx(InputNumber, _objectSpread({\n      ref: ref,\n      formatter: function formatter(value) {\n        if (value && prefix) {\n          return \"\".concat(prefix, \" \").concat(value).replace(/\\B(?=(\\d{3})+(?!\\d)$)/g, ',');\n        }\n        return value;\n      },\n      parser: function parser(value) {\n        return value ? value.replace(/.*\\s|,/g, '') : '';\n      },\n      placeholder: placeholderValue\n    }, fieldProps));\n    if (renderFormItem) {\n      return renderFormItem(text, _objectSpread({\n        mode: mode\n      }, fieldProps), _dom);\n    }\n    return _dom;\n  }\n  return null;\n};\nexport default /*#__PURE__*/React.forwardRef(FieldPercent);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}