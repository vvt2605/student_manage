{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { useCallback, useEffect, useRef } from 'react';\nimport { useRefFunction } from \"../useRefFunction\";\n/**\n * 一个去抖的 hook，传入一个 function，返回一个去抖后的 function\n * @param  {(...args:T) => Promise<any>} fn\n * @param  {number} wait?\n */\nexport function useDebounceFn(fn, wait) {\n  var callback = useRefFunction(fn);\n  var timer = useRef();\n  var cancel = useCallback(function () {\n    if (timer.current) {\n      clearTimeout(timer.current);\n      timer.current = null;\n    }\n  }, []);\n  var run = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n    var _len,\n      args,\n      _key,\n      _args2 = arguments;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          for (_len = _args2.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = _args2[_key];\n          }\n          if (!(wait === 0 || wait === undefined)) {\n            _context2.next = 3;\n            break;\n          }\n          return _context2.abrupt(\"return\", callback.apply(void 0, args));\n        case 3:\n          cancel();\n          return _context2.abrupt(\"return\", new Promise(function (resolve) {\n            timer.current = setTimeout( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n              return _regeneratorRuntime().wrap(function _callee$(_context) {\n                while (1) switch (_context.prev = _context.next) {\n                  case 0:\n                    if (!(typeof process !== 'undefined' && process.env.NODE_ENV === 'TEST')) {\n                      _context.next = 7;\n                      break;\n                    }\n                    _context.t0 = resolve;\n                    _context.next = 4;\n                    return callback.apply(void 0, args);\n                  case 4:\n                    _context.t1 = _context.sent;\n                    (0, _context.t0)(_context.t1);\n                    return _context.abrupt(\"return\");\n                  case 7:\n                    _context.t2 = resolve;\n                    _context.next = 10;\n                    return callback.apply(void 0, args);\n                  case 10:\n                    _context.t3 = _context.sent;\n                    (0, _context.t2)(_context.t3);\n                  case 12:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }, _callee);\n            })), wait);\n          }));\n        case 5:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  })), [callback, cancel, wait]);\n  useEffect(function () {\n    return cancel;\n  }, [cancel]);\n  return {\n    run: run,\n    cancel: cancel\n  };\n}","map":{"version":3,"names":["_regeneratorRuntime","_asyncToGenerator","useCallback","useEffect","useRef","useRefFunction","useDebounceFn","fn","wait","callback","timer","cancel","current","clearTimeout","run","mark","_callee2","_len","args","_key","_args2","arguments","wrap","_callee2$","_context2","prev","next","length","Array","undefined","abrupt","apply","Promise","resolve","setTimeout","_callee","_callee$","_context","process","env","NODE_ENV","t0","t1","sent","t2","t3","stop"],"sources":["D:/LearnDeveloper/ReactJS/student-management-infor/node_modules/@ant-design/pro-utils/es/hooks/useDebounceFn/index.js"],"sourcesContent":["import _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { useCallback, useEffect, useRef } from 'react';\nimport { useRefFunction } from \"../useRefFunction\";\n/**\n * 一个去抖的 hook，传入一个 function，返回一个去抖后的 function\n * @param  {(...args:T) => Promise<any>} fn\n * @param  {number} wait?\n */\nexport function useDebounceFn(fn, wait) {\n  var callback = useRefFunction(fn);\n  var timer = useRef();\n  var cancel = useCallback(function () {\n    if (timer.current) {\n      clearTimeout(timer.current);\n      timer.current = null;\n    }\n  }, []);\n  var run = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n    var _len,\n      args,\n      _key,\n      _args2 = arguments;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          for (_len = _args2.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = _args2[_key];\n          }\n          if (!(wait === 0 || wait === undefined)) {\n            _context2.next = 3;\n            break;\n          }\n          return _context2.abrupt(\"return\", callback.apply(void 0, args));\n        case 3:\n          cancel();\n          return _context2.abrupt(\"return\", new Promise(function (resolve) {\n            timer.current = setTimeout( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n              return _regeneratorRuntime().wrap(function _callee$(_context) {\n                while (1) switch (_context.prev = _context.next) {\n                  case 0:\n                    if (!(typeof process !== 'undefined' && process.env.NODE_ENV === 'TEST')) {\n                      _context.next = 7;\n                      break;\n                    }\n                    _context.t0 = resolve;\n                    _context.next = 4;\n                    return callback.apply(void 0, args);\n                  case 4:\n                    _context.t1 = _context.sent;\n                    (0, _context.t0)(_context.t1);\n                    return _context.abrupt(\"return\");\n                  case 7:\n                    _context.t2 = resolve;\n                    _context.next = 10;\n                    return callback.apply(void 0, args);\n                  case 10:\n                    _context.t3 = _context.sent;\n                    (0, _context.t2)(_context.t3);\n                  case 12:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }, _callee);\n            })), wait);\n          }));\n        case 5:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  })), [callback, cancel, wait]);\n  useEffect(function () {\n    return cancel;\n  }, [cancel]);\n  return {\n    run: run,\n    cancel: cancel\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}