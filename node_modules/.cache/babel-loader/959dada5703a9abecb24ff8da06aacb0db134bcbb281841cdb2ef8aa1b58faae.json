{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport { useEffect } from 'react';\nvar useFetchData = function useFetchData(getData, options) {\n  var _ref = options || {},\n    onRequestError = _ref.onRequestError,\n    effects = _ref.effects,\n    manual = _ref.manual,\n    dataSource = _ref.dataSource,\n    defaultDataSource = _ref.defaultDataSource,\n    onDataSourceChange = _ref.onDataSourceChange;\n  var _useMergedState = useMergedState(defaultDataSource, {\n      value: dataSource,\n      onChange: onDataSourceChange\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    entity = _useMergedState2[0],\n    setEntity = _useMergedState2[1];\n  var _useMergedState3 = useMergedState(options === null || options === void 0 ? void 0 : options.loading, {\n      value: options === null || options === void 0 ? void 0 : options.loading,\n      onChange: options === null || options === void 0 ? void 0 : options.onLoadingChange\n    }),\n    _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n    loading = _useMergedState4[0],\n    setLoading = _useMergedState4[1];\n  var updateDataAndLoading = function updateDataAndLoading(data) {\n    setEntity(data);\n    setLoading(false);\n  };\n  /** 请求数据 */\n  var fetchList = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var _ref3, data, success;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            if (!loading) {\n              _context.next = 2;\n              break;\n            }\n            return _context.abrupt(\"return\");\n          case 2:\n            setLoading(true);\n            _context.prev = 3;\n            _context.next = 6;\n            return getData();\n          case 6:\n            _context.t0 = _context.sent;\n            if (_context.t0) {\n              _context.next = 9;\n              break;\n            }\n            _context.t0 = {};\n          case 9:\n            _ref3 = _context.t0;\n            data = _ref3.data;\n            success = _ref3.success;\n            if (success !== false) {\n              updateDataAndLoading(data);\n            }\n            _context.next = 23;\n            break;\n          case 15:\n            _context.prev = 15;\n            _context.t1 = _context[\"catch\"](3);\n            if (!(onRequestError === undefined)) {\n              _context.next = 21;\n              break;\n            }\n            throw new Error(_context.t1);\n          case 21:\n            onRequestError(_context.t1);\n          case 22:\n            setLoading(false);\n          case 23:\n            _context.prev = 23;\n            setLoading(false);\n            return _context.finish(23);\n          case 26:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[3, 15, 23, 26]]);\n    }));\n    return function fetchList() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    if (manual) {\n      return;\n    }\n    fetchList();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [].concat(_toConsumableArray(effects || []), [manual]));\n  return {\n    dataSource: entity,\n    setDataSource: setEntity,\n    loading: loading,\n    reload: function reload() {\n      return fetchList();\n    }\n  };\n};\nexport default useFetchData;","map":{"version":3,"names":["_toConsumableArray","_regeneratorRuntime","_asyncToGenerator","_slicedToArray","useMergedState","useEffect","useFetchData","getData","options","_ref","onRequestError","effects","manual","dataSource","defaultDataSource","onDataSourceChange","_useMergedState","value","onChange","_useMergedState2","entity","setEntity","_useMergedState3","loading","onLoadingChange","_useMergedState4","setLoading","updateDataAndLoading","data","fetchList","_ref2","mark","_callee","_ref3","success","wrap","_callee$","_context","prev","next","abrupt","t0","sent","t1","undefined","Error","finish","stop","apply","arguments","concat","setDataSource","reload"],"sources":["D:/LearnDeveloper/ReactJS/student-management-infor/node_modules/@ant-design/pro-descriptions/es/useFetchData.js"],"sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport { useEffect } from 'react';\nvar useFetchData = function useFetchData(getData, options) {\n  var _ref = options || {},\n    onRequestError = _ref.onRequestError,\n    effects = _ref.effects,\n    manual = _ref.manual,\n    dataSource = _ref.dataSource,\n    defaultDataSource = _ref.defaultDataSource,\n    onDataSourceChange = _ref.onDataSourceChange;\n  var _useMergedState = useMergedState(defaultDataSource, {\n      value: dataSource,\n      onChange: onDataSourceChange\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    entity = _useMergedState2[0],\n    setEntity = _useMergedState2[1];\n  var _useMergedState3 = useMergedState(options === null || options === void 0 ? void 0 : options.loading, {\n      value: options === null || options === void 0 ? void 0 : options.loading,\n      onChange: options === null || options === void 0 ? void 0 : options.onLoadingChange\n    }),\n    _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n    loading = _useMergedState4[0],\n    setLoading = _useMergedState4[1];\n  var updateDataAndLoading = function updateDataAndLoading(data) {\n    setEntity(data);\n    setLoading(false);\n  };\n  /** 请求数据 */\n  var fetchList = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var _ref3, data, success;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            if (!loading) {\n              _context.next = 2;\n              break;\n            }\n            return _context.abrupt(\"return\");\n          case 2:\n            setLoading(true);\n            _context.prev = 3;\n            _context.next = 6;\n            return getData();\n          case 6:\n            _context.t0 = _context.sent;\n            if (_context.t0) {\n              _context.next = 9;\n              break;\n            }\n            _context.t0 = {};\n          case 9:\n            _ref3 = _context.t0;\n            data = _ref3.data;\n            success = _ref3.success;\n            if (success !== false) {\n              updateDataAndLoading(data);\n            }\n            _context.next = 23;\n            break;\n          case 15:\n            _context.prev = 15;\n            _context.t1 = _context[\"catch\"](3);\n            if (!(onRequestError === undefined)) {\n              _context.next = 21;\n              break;\n            }\n            throw new Error(_context.t1);\n          case 21:\n            onRequestError(_context.t1);\n          case 22:\n            setLoading(false);\n          case 23:\n            _context.prev = 23;\n            setLoading(false);\n            return _context.finish(23);\n          case 26:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[3, 15, 23, 26]]);\n    }));\n    return function fetchList() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    if (manual) {\n      return;\n    }\n    fetchList();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [].concat(_toConsumableArray(effects || []), [manual]));\n  return {\n    dataSource: entity,\n    setDataSource: setEntity,\n    loading: loading,\n    reload: function reload() {\n      return fetchList();\n    }\n  };\n};\nexport default useFetchData;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}