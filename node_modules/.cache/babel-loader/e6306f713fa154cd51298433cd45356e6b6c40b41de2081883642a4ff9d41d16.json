{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport get from \"rc-util/es/utils/get\";\nimport namePathSet from \"rc-util/es/utils/set\";\nimport React from 'react';\nimport { isNil } from \"../isNil\";\nimport { merge } from \"../merge\";\n/**\n * 暂时还不支持 Set和 Map 结构 判断是不是一个能遍历的对象\n *\n * @param itemValue\n * @returns Boolean\n */\nexport function isPlainObj(itemValue) {\n  if (_typeof(itemValue) !== 'object') return false;\n\n  /** Null 也要处理，不然omit空会失效 */\n  if (itemValue === null) return true;\n  if ( /*#__PURE__*/React.isValidElement(itemValue)) return false;\n  if (itemValue.constructor === RegExp) return false;\n  if (itemValue instanceof Map) return false;\n  if (itemValue instanceof Set) return false;\n  if (itemValue instanceof HTMLElement) return false;\n  if (itemValue instanceof Blob) return false;\n  if (itemValue instanceof File) return false;\n  if (Array.isArray(itemValue)) return false;\n  return true;\n}\nexport var transformKeySubmitValue = function transformKeySubmitValue(values, dataFormatMapRaw) {\n  var omit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  // ignore nil transform\n  var dataFormatMap = Object.keys(dataFormatMapRaw).reduce(function (ret, key) {\n    var value = dataFormatMapRaw[key];\n    if (!isNil(value)) {\n      // eslint-disable-next-line no-param-reassign\n      ret[key] = value; // can't be undefined\n    }\n\n    return ret;\n  }, {});\n  if (Object.keys(dataFormatMap).length < 1) {\n    return values;\n  }\n  if (typeof window === 'undefined') return values;\n  // 如果 value 是 string | null | Array | Blob类型 其中之一，直接返回\n  // 形如 {key: [File, File]} 的表单字段当进行第二次递归时会导致其直接越过 typeof value !== 'object' 这一判断 https://github.com/ant-design/pro-components/issues/2071\n  if (_typeof(values) !== 'object' || isNil(values) || values instanceof Blob) {\n    return values;\n  }\n  var finalValues = Array.isArray(values) ? [] : {};\n  var gen = function gen(tempValues, parentsKey) {\n    var isArrayValues = Array.isArray(tempValues);\n    var result = isArrayValues ? [] : {};\n    if (tempValues == null || tempValues === undefined) {\n      return result;\n    }\n    Object.keys(tempValues).forEach(function (entityKey) {\n      var key = parentsKey ? [parentsKey, entityKey].flat(1) : [entityKey].flat(1);\n      var itemValue = tempValues[entityKey];\n      var transformFunction = get(dataFormatMap, key);\n      var _transformArray = function _transformArray(transformFn) {\n        if (!Array.isArray(transformFn)) return entityKey;\n        transformFn.forEach(function (fn, idx) {\n          if (!fn) return;\n          if (typeof fn === 'function') {\n            itemValue[idx] = fn(itemValue, entityKey, tempValues);\n          }\n          if (_typeof(fn) === 'object' && !Array.isArray(fn)) {\n            Object.keys(fn).forEach(function (curK) {\n              if (typeof fn[curK] === 'function') {\n                var res = fn[curK](tempValues[entityKey][idx][curK], entityKey, tempValues);\n                itemValue[idx][curK] = _typeof(res) === 'object' ? res[curK] : res;\n              }\n            });\n          }\n          if (_typeof(fn) === 'object' && Array.isArray(fn)) {\n            _transformArray(fn);\n          }\n        });\n        return entityKey;\n      };\n      var transform = function transform() {\n        var tempKey = typeof transformFunction === 'function' ? transformFunction === null || transformFunction === void 0 ? void 0 : transformFunction(itemValue, entityKey, tempValues) : _transformArray(transformFunction);\n        // { [key:string]:any } 数组也能通过编译\n        if (Array.isArray(tempKey)) {\n          result = namePathSet(result, tempKey, itemValue);\n          return;\n        }\n        if (_typeof(tempKey) === 'object' && !Array.isArray(finalValues)) {\n          finalValues = _objectSpread(_objectSpread({}, finalValues), tempKey);\n        } else if (_typeof(tempKey) === 'object' && Array.isArray(finalValues)) {\n          result = _objectSpread(_objectSpread({}, result), tempKey);\n        } else if (tempKey) {\n          result = namePathSet(result, [tempKey], itemValue);\n        }\n      };\n\n      /** 如果存在转化器提前渲染一下 */\n      if (transformFunction && typeof transformFunction === 'function') {\n        transform();\n      }\n      if (typeof window === 'undefined') return;\n      if (isPlainObj(itemValue)) {\n        var genValues = gen(itemValue, key);\n        if (Object.keys(genValues).length < 1) {\n          return;\n        }\n        result = namePathSet(result, [entityKey], genValues);\n        return;\n      }\n      transform();\n    });\n    // namePath、transform在omit为false时需正常返回 https://github.com/ant-design/pro-components/issues/2901#issue-908097115\n    return omit ? result : tempValues;\n  };\n  finalValues = Array.isArray(values) && Array.isArray(finalValues) ? _toConsumableArray(gen(values)) : merge({}, gen(values), finalValues);\n  return finalValues;\n};","map":{"version":3,"names":["_toConsumableArray","_objectSpread","_typeof","get","namePathSet","React","isNil","merge","isPlainObj","itemValue","isValidElement","constructor","RegExp","Map","Set","HTMLElement","Blob","File","Array","isArray","transformKeySubmitValue","values","dataFormatMapRaw","omit","arguments","length","undefined","dataFormatMap","Object","keys","reduce","ret","key","value","window","finalValues","gen","tempValues","parentsKey","isArrayValues","result","forEach","entityKey","flat","transformFunction","_transformArray","transformFn","fn","idx","curK","res","transform","tempKey","genValues"],"sources":["D:/LearnDeveloper/ReactJS/student-management-infor/node_modules/@ant-design/pro-utils/es/transformKeySubmitValue/index.js"],"sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport get from \"rc-util/es/utils/get\";\nimport namePathSet from \"rc-util/es/utils/set\";\nimport React from 'react';\nimport { isNil } from \"../isNil\";\nimport { merge } from \"../merge\";\n/**\n * 暂时还不支持 Set和 Map 结构 判断是不是一个能遍历的对象\n *\n * @param itemValue\n * @returns Boolean\n */\nexport function isPlainObj(itemValue) {\n  if (_typeof(itemValue) !== 'object') return false;\n\n  /** Null 也要处理，不然omit空会失效 */\n  if (itemValue === null) return true;\n  if ( /*#__PURE__*/React.isValidElement(itemValue)) return false;\n  if (itemValue.constructor === RegExp) return false;\n  if (itemValue instanceof Map) return false;\n  if (itemValue instanceof Set) return false;\n  if (itemValue instanceof HTMLElement) return false;\n  if (itemValue instanceof Blob) return false;\n  if (itemValue instanceof File) return false;\n  if (Array.isArray(itemValue)) return false;\n  return true;\n}\nexport var transformKeySubmitValue = function transformKeySubmitValue(values, dataFormatMapRaw) {\n  var omit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  // ignore nil transform\n  var dataFormatMap = Object.keys(dataFormatMapRaw).reduce(function (ret, key) {\n    var value = dataFormatMapRaw[key];\n    if (!isNil(value)) {\n      // eslint-disable-next-line no-param-reassign\n      ret[key] = value; // can't be undefined\n    }\n\n    return ret;\n  }, {});\n  if (Object.keys(dataFormatMap).length < 1) {\n    return values;\n  }\n  if (typeof window === 'undefined') return values;\n  // 如果 value 是 string | null | Array | Blob类型 其中之一，直接返回\n  // 形如 {key: [File, File]} 的表单字段当进行第二次递归时会导致其直接越过 typeof value !== 'object' 这一判断 https://github.com/ant-design/pro-components/issues/2071\n  if (_typeof(values) !== 'object' || isNil(values) || values instanceof Blob) {\n    return values;\n  }\n  var finalValues = Array.isArray(values) ? [] : {};\n  var gen = function gen(tempValues, parentsKey) {\n    var isArrayValues = Array.isArray(tempValues);\n    var result = isArrayValues ? [] : {};\n    if (tempValues == null || tempValues === undefined) {\n      return result;\n    }\n    Object.keys(tempValues).forEach(function (entityKey) {\n      var key = parentsKey ? [parentsKey, entityKey].flat(1) : [entityKey].flat(1);\n      var itemValue = tempValues[entityKey];\n      var transformFunction = get(dataFormatMap, key);\n      var _transformArray = function _transformArray(transformFn) {\n        if (!Array.isArray(transformFn)) return entityKey;\n        transformFn.forEach(function (fn, idx) {\n          if (!fn) return;\n          if (typeof fn === 'function') {\n            itemValue[idx] = fn(itemValue, entityKey, tempValues);\n          }\n          if (_typeof(fn) === 'object' && !Array.isArray(fn)) {\n            Object.keys(fn).forEach(function (curK) {\n              if (typeof fn[curK] === 'function') {\n                var res = fn[curK](tempValues[entityKey][idx][curK], entityKey, tempValues);\n                itemValue[idx][curK] = _typeof(res) === 'object' ? res[curK] : res;\n              }\n            });\n          }\n          if (_typeof(fn) === 'object' && Array.isArray(fn)) {\n            _transformArray(fn);\n          }\n        });\n        return entityKey;\n      };\n      var transform = function transform() {\n        var tempKey = typeof transformFunction === 'function' ? transformFunction === null || transformFunction === void 0 ? void 0 : transformFunction(itemValue, entityKey, tempValues) : _transformArray(transformFunction);\n        // { [key:string]:any } 数组也能通过编译\n        if (Array.isArray(tempKey)) {\n          result = namePathSet(result, tempKey, itemValue);\n          return;\n        }\n        if (_typeof(tempKey) === 'object' && !Array.isArray(finalValues)) {\n          finalValues = _objectSpread(_objectSpread({}, finalValues), tempKey);\n        } else if (_typeof(tempKey) === 'object' && Array.isArray(finalValues)) {\n          result = _objectSpread(_objectSpread({}, result), tempKey);\n        } else if (tempKey) {\n          result = namePathSet(result, [tempKey], itemValue);\n        }\n      };\n\n      /** 如果存在转化器提前渲染一下 */\n      if (transformFunction && typeof transformFunction === 'function') {\n        transform();\n      }\n      if (typeof window === 'undefined') return;\n      if (isPlainObj(itemValue)) {\n        var genValues = gen(itemValue, key);\n        if (Object.keys(genValues).length < 1) {\n          return;\n        }\n        result = namePathSet(result, [entityKey], genValues);\n        return;\n      }\n      transform();\n    });\n    // namePath、transform在omit为false时需正常返回 https://github.com/ant-design/pro-components/issues/2901#issue-908097115\n    return omit ? result : tempValues;\n  };\n  finalValues = Array.isArray(values) && Array.isArray(finalValues) ? _toConsumableArray(gen(values)) : merge({}, gen(values), finalValues);\n  return finalValues;\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}