{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nvar _excluded = [\"collapsed\", \"layout\", \"defaultCollapsed\", \"defaultColsNumber\", \"span\", \"searchGutter\", \"searchText\", \"resetText\", \"optionRender\", \"collapseRender\", \"onReset\", \"onCollapse\", \"labelWidth\", \"style\", \"split\", \"preserve\", \"ignoreRules\", \"showHiddenNum\", \"submitterColSpanProps\"];\nvar _document, _document$body;\n/* eslint-disable no-param-reassign */\nimport { ProProvider, useIntl } from '@ant-design/pro-provider';\nimport { isBrowser, useMountMergeState } from '@ant-design/pro-utils';\nimport { Col, ConfigProvider, Form, Row } from 'antd';\nimport classNames from 'classnames';\nimport RcResizeObserver from 'rc-resize-observer';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport React, { useContext, useMemo } from 'react';\nimport { BaseForm } from \"../../BaseForm\";\nimport Actions from \"./Actions\";\nimport { useStyle } from \"./style\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar CONFIG_SPAN_BREAKPOINTS = {\n  xs: 513,\n  sm: 513,\n  md: 785,\n  lg: 992,\n  xl: 1057,\n  xxl: Infinity\n};\n/** 配置表单列变化的容器宽度断点 */\nvar BREAKPOINTS = {\n  vertical: [\n  // [breakpoint, cols, layout]\n  [513, 1, 'vertical'], [785, 2, 'vertical'], [1057, 3, 'vertical'], [Infinity, 4, 'vertical']],\n  default: [[513, 1, 'vertical'], [701, 2, 'vertical'], [1062, 3, 'horizontal'], [1352, 3, 'horizontal'], [Infinity, 4, 'horizontal']]\n};\n\n/**\n * 合并用户和默认的配置\n *\n * @param layout\n * @param width\n */\nvar getSpanConfig = function getSpanConfig(layout, width, span) {\n  if (span && typeof span === 'number') {\n    return {\n      span: span,\n      layout: layout\n    };\n  }\n  var spanConfig = span ? ['xs', 'sm', 'md', 'lg', 'xl', 'xxl'].map(function (key) {\n    return [CONFIG_SPAN_BREAKPOINTS[key], 24 / span[key], 'horizontal'];\n  }) : BREAKPOINTS[layout || 'default'];\n  var breakPoint = (spanConfig || BREAKPOINTS.default).find(function (item) {\n    return width < item[0] + 16;\n  } // 16 = 2 * (ant-row -8px margin)\n  );\n\n  return {\n    span: 24 / breakPoint[1],\n    layout: breakPoint[2]\n  };\n};\nvar flatMapItems = function flatMapItems(items, ignoreRules) {\n  return items.flatMap(function (item) {\n    var _item$props;\n    if ((item === null || item === void 0 ? void 0 : item.type.displayName) === 'ProForm-Group' && !((_item$props = item.props) !== null && _item$props !== void 0 && _item$props.title)) {\n      return item.props.children;\n    }\n    if (ignoreRules && /*#__PURE__*/React.isValidElement(item)) {\n      var _item$props2;\n      return /*#__PURE__*/React.cloneElement(item, _objectSpread(_objectSpread({}, item.props), {}, {\n        formItemProps: _objectSpread(_objectSpread({}, (_item$props2 = item.props) === null || _item$props2 === void 0 ? void 0 : _item$props2.formItemProps), {}, {\n          rules: []\n        })\n      }));\n    }\n    return item;\n  });\n};\nvar QueryFilterContent = function QueryFilterContent(props) {\n  var _props$submitterColSp5, _props$submitterColSp6, _props$submitterColSp7, _props$submitterColSp8;\n  var intl = useIntl();\n  var _useContext = useContext(ProProvider),\n    hashId = _useContext.hashId;\n  var resetText = props.resetText || intl.getMessage('tableForm.reset', '重置');\n  var searchText = props.searchText || intl.getMessage('tableForm.search', '搜索');\n  var _useMergedState = useMergedState(function () {\n      return props.defaultCollapsed && !!props.submitter;\n    }, {\n      value: props.collapsed,\n      onChange: props.onCollapse\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    collapsed = _useMergedState2[0],\n    setCollapsed = _useMergedState2[1];\n  var optionRender = props.optionRender,\n    collapseRender = props.collapseRender,\n    split = props.split,\n    items = props.items,\n    spanSize = props.spanSize,\n    showLength = props.showLength,\n    searchGutter = props.searchGutter,\n    showHiddenNum = props.showHiddenNum;\n  var submitter = useMemo(function () {\n    if (!props.submitter || optionRender === false) {\n      return null;\n    }\n    return /*#__PURE__*/React.cloneElement(props.submitter, _objectSpread({\n      searchConfig: {\n        resetText: resetText,\n        submitText: searchText\n      },\n      render: optionRender ? function (_, dom) {\n        return optionRender(_objectSpread(_objectSpread({}, props), {}, {\n          resetText: resetText,\n          searchText: searchText\n        }), props, dom);\n      } : optionRender\n    }, props.submitter.props));\n  }, [props, resetText, searchText, optionRender]);\n\n  // totalSpan 统计控件占的位置，计算 offset 保证查询按钮在最后一列\n  var totalSpan = 0;\n  var itemLength = 0;\n  //首个表单项是否占满第一行\n  var firstRowFull = false;\n  // totalSize 统计控件占的份数\n  var totalSize = 0;\n\n  // for split compute\n  var currentSpan = 0;\n\n  // 处理过，包含是否需要隐藏的 数组\n  var processedList = flatMapItems(items, props.ignoreRules).map(function (item, index) {\n    var _item$props$colSize, _item$props3, _props2, _item$props4;\n    // 如果 formItem 自己配置了 hidden，默认使用它自己的\n    var colSize = /*#__PURE__*/React.isValidElement(item) ? (_item$props$colSize = item === null || item === void 0 ? void 0 : (_item$props3 = item.props) === null || _item$props3 === void 0 ? void 0 : _item$props3.colSize) !== null && _item$props$colSize !== void 0 ? _item$props$colSize : 1 : 1;\n    var colSpan = Math.min(spanSize.span * (colSize || 1), 24);\n    // 计算总的 totalSpan 长度\n    totalSpan += colSpan;\n    // 计算总的 colSize 长度\n    totalSize += colSize;\n    if (index === 0) {\n      var _props;\n      firstRowFull = colSpan === 24 && !(item !== null && item !== void 0 && (_props = item.props) !== null && _props !== void 0 && _props.hidden);\n    }\n    var hidden = (item === null || item === void 0 ? void 0 : (_props2 = item.props) === null || _props2 === void 0 ? void 0 : _props2.hidden) ||\n    // 如果收起了\n    collapsed && (firstRowFull ||\n    // 如果 超过显示长度 且 总长度超过了 24\n    totalSize > showLength - 1) && !!index && totalSpan >= 24;\n    itemLength += 1;\n    var itemKey = /*#__PURE__*/React.isValidElement(item) && (item.key || \"\".concat((_item$props4 = item.props) === null || _item$props4 === void 0 ? void 0 : _item$props4.name)) || index;\n    if ( /*#__PURE__*/React.isValidElement(item) && hidden) {\n      if (!props.preserve) {\n        return {\n          itemDom: null,\n          colSpan: 0,\n          hidden: true\n        };\n      }\n      return {\n        itemDom: /*#__PURE__*/React.cloneElement(item, {\n          hidden: true,\n          key: itemKey || index\n        }),\n        hidden: true,\n        colSpan: colSpan\n      };\n    }\n    return {\n      itemDom: item,\n      colSpan: colSpan,\n      hidden: false\n    };\n  });\n  var doms = processedList.map(function (itemProps, index) {\n    var _props3, _itemDom$props;\n    var itemDom = itemProps.itemDom,\n      colSpan = itemProps.colSpan;\n    var hidden = itemDom === null || itemDom === void 0 ? void 0 : (_props3 = itemDom.props) === null || _props3 === void 0 ? void 0 : _props3.hidden;\n    if (hidden) return itemDom;\n\n    // 每一列的key, 一般是存在的\n    var itemKey = /*#__PURE__*/React.isValidElement(itemDom) && (itemDom.key || \"\".concat((_itemDom$props = itemDom.props) === null || _itemDom$props === void 0 ? void 0 : _itemDom$props.name)) || index;\n    if (24 - currentSpan % 24 < colSpan) {\n      // 如果当前行空余位置放不下，那么折行\n      totalSpan += 24 - currentSpan % 24;\n      currentSpan += 24 - currentSpan % 24;\n    }\n    currentSpan += colSpan;\n    if (split && currentSpan % 24 === 0 && index < itemLength - 1) {\n      return /*#__PURE__*/_jsx(Col, {\n        span: colSpan,\n        className: \"\".concat(props.baseClassName, \"-row-split-line \").concat(props.baseClassName, \"-row-split \").concat(hashId),\n        children: itemDom\n      }, itemKey);\n    }\n    return /*#__PURE__*/_jsx(Col, {\n      className: \"\".concat(props.baseClassName, \"-row-split \").concat(hashId),\n      span: colSpan,\n      children: itemDom\n    }, itemKey);\n  });\n  var hiddenNum = showHiddenNum && processedList.filter(function (item) {\n    return item.hidden;\n  }).length;\n\n  /** 是否需要展示 collapseRender */\n  var needCollapseRender = useMemo(function () {\n    if (totalSpan < 24 || totalSize <= showLength) {\n      return false;\n    }\n    return true;\n  }, [totalSize, showLength, totalSpan]);\n  var offset = useMemo(function () {\n    var _props$submitterColSp, _props$submitterColSp2;\n    var offsetSpan = currentSpan % 24 + ((_props$submitterColSp = (_props$submitterColSp2 = props.submitterColSpanProps) === null || _props$submitterColSp2 === void 0 ? void 0 : _props$submitterColSp2.span) !== null && _props$submitterColSp !== void 0 ? _props$submitterColSp : spanSize.span);\n    if (offsetSpan > 24) {\n      var _props$submitterColSp3, _props$submitterColSp4;\n      return 24 - ((_props$submitterColSp3 = (_props$submitterColSp4 = props.submitterColSpanProps) === null || _props$submitterColSp4 === void 0 ? void 0 : _props$submitterColSp4.span) !== null && _props$submitterColSp3 !== void 0 ? _props$submitterColSp3 : spanSize.span);\n    }\n    return 24 - offsetSpan;\n  }, [currentSpan, currentSpan % 24 + ((_props$submitterColSp5 = (_props$submitterColSp6 = props.submitterColSpanProps) === null || _props$submitterColSp6 === void 0 ? void 0 : _props$submitterColSp6.span) !== null && _props$submitterColSp5 !== void 0 ? _props$submitterColSp5 : spanSize.span), (_props$submitterColSp7 = props.submitterColSpanProps) === null || _props$submitterColSp7 === void 0 ? void 0 : _props$submitterColSp7.span]);\n  var context = useContext(ConfigProvider.ConfigContext);\n  var baseClassName = context.getPrefixCls('pro-query-filter');\n  return /*#__PURE__*/_jsxs(Row, {\n    gutter: searchGutter,\n    justify: \"start\",\n    className: classNames(\"\".concat(baseClassName, \"-row\"), hashId),\n    children: [doms, submitter && /*#__PURE__*/_jsx(Col, _objectSpread(_objectSpread({\n      span: spanSize.span,\n      offset: offset,\n      className: classNames((_props$submitterColSp8 = props.submitterColSpanProps) === null || _props$submitterColSp8 === void 0 ? void 0 : _props$submitterColSp8.className)\n    }, props.submitterColSpanProps), {}, {\n      style: {\n        textAlign: 'end'\n      },\n      children: /*#__PURE__*/_jsx(Form.Item, {\n        label: \" \",\n        colon: false,\n        className: \"\".concat(baseClassName, \"-actions \").concat(hashId),\n        children: /*#__PURE__*/_jsx(Actions, {\n          hiddenNum: hiddenNum,\n          collapsed: collapsed,\n          collapseRender: needCollapseRender ? collapseRender : false,\n          submitter: submitter,\n          setCollapsed: setCollapsed\n        }, \"pro-form-query-filter-actions\")\n      })\n    }), \"submitter\")]\n  }, \"resize-observer-row\");\n};\nvar defaultWidth = isBrowser() ? (_document = document) === null || _document === void 0 ? void 0 : (_document$body = _document.body) === null || _document$body === void 0 ? void 0 : _document$body.clientWidth : 1024;\nfunction QueryFilter(props) {\n  var controlCollapsed = props.collapsed,\n    layout = props.layout,\n    _props$defaultCollaps = props.defaultCollapsed,\n    defaultCollapsed = _props$defaultCollaps === void 0 ? true : _props$defaultCollaps,\n    defaultColsNumber = props.defaultColsNumber,\n    span = props.span,\n    _props$searchGutter = props.searchGutter,\n    searchGutter = _props$searchGutter === void 0 ? 24 : _props$searchGutter,\n    searchText = props.searchText,\n    resetText = props.resetText,\n    optionRender = props.optionRender,\n    collapseRender = props.collapseRender,\n    onReset = props.onReset,\n    onCollapse = props.onCollapse,\n    _props$labelWidth = props.labelWidth,\n    labelWidth = _props$labelWidth === void 0 ? '80' : _props$labelWidth,\n    style = props.style,\n    split = props.split,\n    _props$preserve = props.preserve,\n    preserve = _props$preserve === void 0 ? true : _props$preserve,\n    ignoreRules = props.ignoreRules,\n    _props$showHiddenNum = props.showHiddenNum,\n    showHiddenNum = _props$showHiddenNum === void 0 ? false : _props$showHiddenNum,\n    submitterColSpanProps = props.submitterColSpanProps,\n    rest = _objectWithoutProperties(props, _excluded);\n  var context = useContext(ConfigProvider.ConfigContext);\n  var baseClassName = context.getPrefixCls('pro-query-filter');\n  var _useStyle = useStyle(baseClassName),\n    wrapSSR = _useStyle.wrapSSR,\n    hashId = _useStyle.hashId;\n  var _useMountMergeState = useMountMergeState(function () {\n      return typeof (style === null || style === void 0 ? void 0 : style.width) === 'number' ? style === null || style === void 0 ? void 0 : style.width : defaultWidth;\n    }),\n    _useMountMergeState2 = _slicedToArray(_useMountMergeState, 2),\n    width = _useMountMergeState2[0],\n    setWidth = _useMountMergeState2[1];\n  var spanSize = useMemo(function () {\n    return getSpanConfig(layout, width + 16, span);\n  }, [layout, width, span]);\n  var showLength = useMemo(function () {\n    // 查询重置按钮也会占一个spanSize格子，需要减掉计算\n    if (defaultColsNumber !== undefined) {\n      return defaultColsNumber - 1;\n    }\n    return Math.max(1, 24 / spanSize.span - 1);\n  }, [defaultColsNumber, spanSize.span]);\n\n  /** 计算最大宽度防止溢出换行 */\n  var formItemFixStyle = useMemo(function () {\n    if (labelWidth && spanSize.layout !== 'vertical' && labelWidth !== 'auto') {\n      return {\n        labelCol: {\n          flex: \"0 0 \".concat(labelWidth, \"px\")\n        },\n        wrapperCol: {\n          style: {\n            maxWidth: \"calc(100% - \".concat(labelWidth, \"px)\")\n          }\n        },\n        style: {\n          flexWrap: 'nowrap'\n        }\n      };\n    }\n    return undefined;\n  }, [spanSize.layout, labelWidth]);\n  return wrapSSR( /*#__PURE__*/_jsx(RcResizeObserver, {\n    onResize: function onResize(offset) {\n      if (width !== offset.width && offset.width > 17) {\n        setWidth(offset.width);\n      }\n    },\n    children: /*#__PURE__*/_jsx(BaseForm, _objectSpread(_objectSpread({\n      isKeyPressSubmit: true,\n      preserve: preserve\n    }, rest), {}, {\n      className: classNames(baseClassName, hashId, rest.className),\n      onReset: onReset,\n      style: style,\n      layout: spanSize.layout,\n      fieldProps: {\n        style: {\n          width: '100%'\n        }\n      },\n      formItemProps: formItemFixStyle,\n      groupProps: {\n        titleStyle: {\n          display: 'inline-block',\n          marginInlineEnd: 16\n        }\n      },\n      contentRender: function contentRender(items, renderSubmitter, form) {\n        return /*#__PURE__*/_jsx(QueryFilterContent, {\n          spanSize: spanSize,\n          collapsed: controlCollapsed,\n          form: form,\n          submitterColSpanProps: submitterColSpanProps,\n          collapseRender: collapseRender,\n          defaultCollapsed: defaultCollapsed,\n          onCollapse: onCollapse,\n          optionRender: optionRender,\n          submitter: renderSubmitter,\n          items: items,\n          split: split,\n          baseClassName: baseClassName,\n          resetText: props.resetText,\n          searchText: props.searchText,\n          searchGutter: searchGutter,\n          preserve: preserve,\n          ignoreRules: ignoreRules,\n          showLength: showLength,\n          showHiddenNum: showHiddenNum\n        });\n      }\n    }))\n  }, \"resize-observer\"));\n}\nexport { QueryFilter };","map":{"version":3,"names":["_objectWithoutProperties","_slicedToArray","_objectSpread","_excluded","_document","_document$body","ProProvider","useIntl","isBrowser","useMountMergeState","Col","ConfigProvider","Form","Row","classNames","RcResizeObserver","useMergedState","React","useContext","useMemo","BaseForm","Actions","useStyle","jsx","_jsx","jsxs","_jsxs","CONFIG_SPAN_BREAKPOINTS","xs","sm","md","lg","xl","xxl","Infinity","BREAKPOINTS","vertical","default","getSpanConfig","layout","width","span","spanConfig","map","key","breakPoint","find","item","flatMapItems","items","ignoreRules","flatMap","_item$props","type","displayName","props","title","children","isValidElement","_item$props2","cloneElement","formItemProps","rules","QueryFilterContent","_props$submitterColSp5","_props$submitterColSp6","_props$submitterColSp7","_props$submitterColSp8","intl","_useContext","hashId","resetText","getMessage","searchText","_useMergedState","defaultCollapsed","submitter","value","collapsed","onChange","onCollapse","_useMergedState2","setCollapsed","optionRender","collapseRender","split","spanSize","showLength","searchGutter","showHiddenNum","searchConfig","submitText","render","_","dom","totalSpan","itemLength","firstRowFull","totalSize","currentSpan","processedList","index","_item$props$colSize","_item$props3","_props2","_item$props4","colSize","colSpan","Math","min","_props","hidden","itemKey","concat","name","preserve","itemDom","doms","itemProps","_props3","_itemDom$props","className","baseClassName","hiddenNum","filter","length","needCollapseRender","offset","_props$submitterColSp","_props$submitterColSp2","offsetSpan","submitterColSpanProps","_props$submitterColSp3","_props$submitterColSp4","context","ConfigContext","getPrefixCls","gutter","justify","style","textAlign","Item","label","colon","defaultWidth","document","body","clientWidth","QueryFilter","controlCollapsed","_props$defaultCollaps","defaultColsNumber","_props$searchGutter","onReset","_props$labelWidth","labelWidth","_props$preserve","_props$showHiddenNum","rest","_useStyle","wrapSSR","_useMountMergeState","_useMountMergeState2","setWidth","undefined","max","formItemFixStyle","labelCol","flex","wrapperCol","maxWidth","flexWrap","onResize","isKeyPressSubmit","fieldProps","groupProps","titleStyle","display","marginInlineEnd","contentRender","renderSubmitter","form"],"sources":["D:/LearnDeveloper/ReactJS/student-management-infor/node_modules/@ant-design/pro-form/es/layouts/QueryFilter/index.js"],"sourcesContent":["import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nvar _excluded = [\"collapsed\", \"layout\", \"defaultCollapsed\", \"defaultColsNumber\", \"span\", \"searchGutter\", \"searchText\", \"resetText\", \"optionRender\", \"collapseRender\", \"onReset\", \"onCollapse\", \"labelWidth\", \"style\", \"split\", \"preserve\", \"ignoreRules\", \"showHiddenNum\", \"submitterColSpanProps\"];\nvar _document, _document$body;\n/* eslint-disable no-param-reassign */\nimport { ProProvider, useIntl } from '@ant-design/pro-provider';\nimport { isBrowser, useMountMergeState } from '@ant-design/pro-utils';\nimport { Col, ConfigProvider, Form, Row } from 'antd';\nimport classNames from 'classnames';\nimport RcResizeObserver from 'rc-resize-observer';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport React, { useContext, useMemo } from 'react';\nimport { BaseForm } from \"../../BaseForm\";\nimport Actions from \"./Actions\";\nimport { useStyle } from \"./style\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar CONFIG_SPAN_BREAKPOINTS = {\n  xs: 513,\n  sm: 513,\n  md: 785,\n  lg: 992,\n  xl: 1057,\n  xxl: Infinity\n};\n/** 配置表单列变化的容器宽度断点 */\nvar BREAKPOINTS = {\n  vertical: [\n  // [breakpoint, cols, layout]\n  [513, 1, 'vertical'], [785, 2, 'vertical'], [1057, 3, 'vertical'], [Infinity, 4, 'vertical']],\n  default: [[513, 1, 'vertical'], [701, 2, 'vertical'], [1062, 3, 'horizontal'], [1352, 3, 'horizontal'], [Infinity, 4, 'horizontal']]\n};\n\n/**\n * 合并用户和默认的配置\n *\n * @param layout\n * @param width\n */\nvar getSpanConfig = function getSpanConfig(layout, width, span) {\n  if (span && typeof span === 'number') {\n    return {\n      span: span,\n      layout: layout\n    };\n  }\n  var spanConfig = span ? ['xs', 'sm', 'md', 'lg', 'xl', 'xxl'].map(function (key) {\n    return [CONFIG_SPAN_BREAKPOINTS[key], 24 / span[key], 'horizontal'];\n  }) : BREAKPOINTS[layout || 'default'];\n  var breakPoint = (spanConfig || BREAKPOINTS.default).find(function (item) {\n    return width < item[0] + 16;\n  } // 16 = 2 * (ant-row -8px margin)\n  );\n\n  return {\n    span: 24 / breakPoint[1],\n    layout: breakPoint[2]\n  };\n};\nvar flatMapItems = function flatMapItems(items, ignoreRules) {\n  return items.flatMap(function (item) {\n    var _item$props;\n    if ((item === null || item === void 0 ? void 0 : item.type.displayName) === 'ProForm-Group' && !((_item$props = item.props) !== null && _item$props !== void 0 && _item$props.title)) {\n      return item.props.children;\n    }\n    if (ignoreRules && /*#__PURE__*/React.isValidElement(item)) {\n      var _item$props2;\n      return /*#__PURE__*/React.cloneElement(item, _objectSpread(_objectSpread({}, item.props), {}, {\n        formItemProps: _objectSpread(_objectSpread({}, (_item$props2 = item.props) === null || _item$props2 === void 0 ? void 0 : _item$props2.formItemProps), {}, {\n          rules: []\n        })\n      }));\n    }\n    return item;\n  });\n};\nvar QueryFilterContent = function QueryFilterContent(props) {\n  var _props$submitterColSp5, _props$submitterColSp6, _props$submitterColSp7, _props$submitterColSp8;\n  var intl = useIntl();\n  var _useContext = useContext(ProProvider),\n    hashId = _useContext.hashId;\n  var resetText = props.resetText || intl.getMessage('tableForm.reset', '重置');\n  var searchText = props.searchText || intl.getMessage('tableForm.search', '搜索');\n  var _useMergedState = useMergedState(function () {\n      return props.defaultCollapsed && !!props.submitter;\n    }, {\n      value: props.collapsed,\n      onChange: props.onCollapse\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    collapsed = _useMergedState2[0],\n    setCollapsed = _useMergedState2[1];\n  var optionRender = props.optionRender,\n    collapseRender = props.collapseRender,\n    split = props.split,\n    items = props.items,\n    spanSize = props.spanSize,\n    showLength = props.showLength,\n    searchGutter = props.searchGutter,\n    showHiddenNum = props.showHiddenNum;\n  var submitter = useMemo(function () {\n    if (!props.submitter || optionRender === false) {\n      return null;\n    }\n    return /*#__PURE__*/React.cloneElement(props.submitter, _objectSpread({\n      searchConfig: {\n        resetText: resetText,\n        submitText: searchText\n      },\n      render: optionRender ? function (_, dom) {\n        return optionRender(_objectSpread(_objectSpread({}, props), {}, {\n          resetText: resetText,\n          searchText: searchText\n        }), props, dom);\n      } : optionRender\n    }, props.submitter.props));\n  }, [props, resetText, searchText, optionRender]);\n\n  // totalSpan 统计控件占的位置，计算 offset 保证查询按钮在最后一列\n  var totalSpan = 0;\n  var itemLength = 0;\n  //首个表单项是否占满第一行\n  var firstRowFull = false;\n  // totalSize 统计控件占的份数\n  var totalSize = 0;\n\n  // for split compute\n  var currentSpan = 0;\n\n  // 处理过，包含是否需要隐藏的 数组\n  var processedList = flatMapItems(items, props.ignoreRules).map(function (item, index) {\n    var _item$props$colSize, _item$props3, _props2, _item$props4;\n    // 如果 formItem 自己配置了 hidden，默认使用它自己的\n    var colSize = /*#__PURE__*/React.isValidElement(item) ? (_item$props$colSize = item === null || item === void 0 ? void 0 : (_item$props3 = item.props) === null || _item$props3 === void 0 ? void 0 : _item$props3.colSize) !== null && _item$props$colSize !== void 0 ? _item$props$colSize : 1 : 1;\n    var colSpan = Math.min(spanSize.span * (colSize || 1), 24);\n    // 计算总的 totalSpan 长度\n    totalSpan += colSpan;\n    // 计算总的 colSize 长度\n    totalSize += colSize;\n    if (index === 0) {\n      var _props;\n      firstRowFull = colSpan === 24 && !(item !== null && item !== void 0 && (_props = item.props) !== null && _props !== void 0 && _props.hidden);\n    }\n    var hidden = (item === null || item === void 0 ? void 0 : (_props2 = item.props) === null || _props2 === void 0 ? void 0 : _props2.hidden) ||\n    // 如果收起了\n    collapsed && (firstRowFull ||\n    // 如果 超过显示长度 且 总长度超过了 24\n    totalSize > showLength - 1) && !!index && totalSpan >= 24;\n    itemLength += 1;\n    var itemKey = /*#__PURE__*/React.isValidElement(item) && (item.key || \"\".concat((_item$props4 = item.props) === null || _item$props4 === void 0 ? void 0 : _item$props4.name)) || index;\n    if ( /*#__PURE__*/React.isValidElement(item) && hidden) {\n      if (!props.preserve) {\n        return {\n          itemDom: null,\n          colSpan: 0,\n          hidden: true\n        };\n      }\n      return {\n        itemDom: /*#__PURE__*/React.cloneElement(item, {\n          hidden: true,\n          key: itemKey || index\n        }),\n        hidden: true,\n        colSpan: colSpan\n      };\n    }\n    return {\n      itemDom: item,\n      colSpan: colSpan,\n      hidden: false\n    };\n  });\n  var doms = processedList.map(function (itemProps, index) {\n    var _props3, _itemDom$props;\n    var itemDom = itemProps.itemDom,\n      colSpan = itemProps.colSpan;\n    var hidden = itemDom === null || itemDom === void 0 ? void 0 : (_props3 = itemDom.props) === null || _props3 === void 0 ? void 0 : _props3.hidden;\n    if (hidden) return itemDom;\n\n    // 每一列的key, 一般是存在的\n    var itemKey = /*#__PURE__*/React.isValidElement(itemDom) && (itemDom.key || \"\".concat((_itemDom$props = itemDom.props) === null || _itemDom$props === void 0 ? void 0 : _itemDom$props.name)) || index;\n    if (24 - currentSpan % 24 < colSpan) {\n      // 如果当前行空余位置放不下，那么折行\n      totalSpan += 24 - currentSpan % 24;\n      currentSpan += 24 - currentSpan % 24;\n    }\n    currentSpan += colSpan;\n    if (split && currentSpan % 24 === 0 && index < itemLength - 1) {\n      return /*#__PURE__*/_jsx(Col, {\n        span: colSpan,\n        className: \"\".concat(props.baseClassName, \"-row-split-line \").concat(props.baseClassName, \"-row-split \").concat(hashId),\n        children: itemDom\n      }, itemKey);\n    }\n    return /*#__PURE__*/_jsx(Col, {\n      className: \"\".concat(props.baseClassName, \"-row-split \").concat(hashId),\n      span: colSpan,\n      children: itemDom\n    }, itemKey);\n  });\n  var hiddenNum = showHiddenNum && processedList.filter(function (item) {\n    return item.hidden;\n  }).length;\n\n  /** 是否需要展示 collapseRender */\n  var needCollapseRender = useMemo(function () {\n    if (totalSpan < 24 || totalSize <= showLength) {\n      return false;\n    }\n    return true;\n  }, [totalSize, showLength, totalSpan]);\n  var offset = useMemo(function () {\n    var _props$submitterColSp, _props$submitterColSp2;\n    var offsetSpan = currentSpan % 24 + ((_props$submitterColSp = (_props$submitterColSp2 = props.submitterColSpanProps) === null || _props$submitterColSp2 === void 0 ? void 0 : _props$submitterColSp2.span) !== null && _props$submitterColSp !== void 0 ? _props$submitterColSp : spanSize.span);\n    if (offsetSpan > 24) {\n      var _props$submitterColSp3, _props$submitterColSp4;\n      return 24 - ((_props$submitterColSp3 = (_props$submitterColSp4 = props.submitterColSpanProps) === null || _props$submitterColSp4 === void 0 ? void 0 : _props$submitterColSp4.span) !== null && _props$submitterColSp3 !== void 0 ? _props$submitterColSp3 : spanSize.span);\n    }\n    return 24 - offsetSpan;\n  }, [currentSpan, currentSpan % 24 + ((_props$submitterColSp5 = (_props$submitterColSp6 = props.submitterColSpanProps) === null || _props$submitterColSp6 === void 0 ? void 0 : _props$submitterColSp6.span) !== null && _props$submitterColSp5 !== void 0 ? _props$submitterColSp5 : spanSize.span), (_props$submitterColSp7 = props.submitterColSpanProps) === null || _props$submitterColSp7 === void 0 ? void 0 : _props$submitterColSp7.span]);\n  var context = useContext(ConfigProvider.ConfigContext);\n  var baseClassName = context.getPrefixCls('pro-query-filter');\n  return /*#__PURE__*/_jsxs(Row, {\n    gutter: searchGutter,\n    justify: \"start\",\n    className: classNames(\"\".concat(baseClassName, \"-row\"), hashId),\n    children: [doms, submitter && /*#__PURE__*/_jsx(Col, _objectSpread(_objectSpread({\n      span: spanSize.span,\n      offset: offset,\n      className: classNames((_props$submitterColSp8 = props.submitterColSpanProps) === null || _props$submitterColSp8 === void 0 ? void 0 : _props$submitterColSp8.className)\n    }, props.submitterColSpanProps), {}, {\n      style: {\n        textAlign: 'end'\n      },\n      children: /*#__PURE__*/_jsx(Form.Item, {\n        label: \" \",\n        colon: false,\n        className: \"\".concat(baseClassName, \"-actions \").concat(hashId),\n        children: /*#__PURE__*/_jsx(Actions, {\n          hiddenNum: hiddenNum,\n          collapsed: collapsed,\n          collapseRender: needCollapseRender ? collapseRender : false,\n          submitter: submitter,\n          setCollapsed: setCollapsed\n        }, \"pro-form-query-filter-actions\")\n      })\n    }), \"submitter\")]\n  }, \"resize-observer-row\");\n};\nvar defaultWidth = isBrowser() ? (_document = document) === null || _document === void 0 ? void 0 : (_document$body = _document.body) === null || _document$body === void 0 ? void 0 : _document$body.clientWidth : 1024;\nfunction QueryFilter(props) {\n  var controlCollapsed = props.collapsed,\n    layout = props.layout,\n    _props$defaultCollaps = props.defaultCollapsed,\n    defaultCollapsed = _props$defaultCollaps === void 0 ? true : _props$defaultCollaps,\n    defaultColsNumber = props.defaultColsNumber,\n    span = props.span,\n    _props$searchGutter = props.searchGutter,\n    searchGutter = _props$searchGutter === void 0 ? 24 : _props$searchGutter,\n    searchText = props.searchText,\n    resetText = props.resetText,\n    optionRender = props.optionRender,\n    collapseRender = props.collapseRender,\n    onReset = props.onReset,\n    onCollapse = props.onCollapse,\n    _props$labelWidth = props.labelWidth,\n    labelWidth = _props$labelWidth === void 0 ? '80' : _props$labelWidth,\n    style = props.style,\n    split = props.split,\n    _props$preserve = props.preserve,\n    preserve = _props$preserve === void 0 ? true : _props$preserve,\n    ignoreRules = props.ignoreRules,\n    _props$showHiddenNum = props.showHiddenNum,\n    showHiddenNum = _props$showHiddenNum === void 0 ? false : _props$showHiddenNum,\n    submitterColSpanProps = props.submitterColSpanProps,\n    rest = _objectWithoutProperties(props, _excluded);\n  var context = useContext(ConfigProvider.ConfigContext);\n  var baseClassName = context.getPrefixCls('pro-query-filter');\n  var _useStyle = useStyle(baseClassName),\n    wrapSSR = _useStyle.wrapSSR,\n    hashId = _useStyle.hashId;\n  var _useMountMergeState = useMountMergeState(function () {\n      return typeof (style === null || style === void 0 ? void 0 : style.width) === 'number' ? style === null || style === void 0 ? void 0 : style.width : defaultWidth;\n    }),\n    _useMountMergeState2 = _slicedToArray(_useMountMergeState, 2),\n    width = _useMountMergeState2[0],\n    setWidth = _useMountMergeState2[1];\n  var spanSize = useMemo(function () {\n    return getSpanConfig(layout, width + 16, span);\n  }, [layout, width, span]);\n  var showLength = useMemo(function () {\n    // 查询重置按钮也会占一个spanSize格子，需要减掉计算\n    if (defaultColsNumber !== undefined) {\n      return defaultColsNumber - 1;\n    }\n    return Math.max(1, 24 / spanSize.span - 1);\n  }, [defaultColsNumber, spanSize.span]);\n\n  /** 计算最大宽度防止溢出换行 */\n  var formItemFixStyle = useMemo(function () {\n    if (labelWidth && spanSize.layout !== 'vertical' && labelWidth !== 'auto') {\n      return {\n        labelCol: {\n          flex: \"0 0 \".concat(labelWidth, \"px\")\n        },\n        wrapperCol: {\n          style: {\n            maxWidth: \"calc(100% - \".concat(labelWidth, \"px)\")\n          }\n        },\n        style: {\n          flexWrap: 'nowrap'\n        }\n      };\n    }\n    return undefined;\n  }, [spanSize.layout, labelWidth]);\n  return wrapSSR( /*#__PURE__*/_jsx(RcResizeObserver, {\n    onResize: function onResize(offset) {\n      if (width !== offset.width && offset.width > 17) {\n        setWidth(offset.width);\n      }\n    },\n    children: /*#__PURE__*/_jsx(BaseForm, _objectSpread(_objectSpread({\n      isKeyPressSubmit: true,\n      preserve: preserve\n    }, rest), {}, {\n      className: classNames(baseClassName, hashId, rest.className),\n      onReset: onReset,\n      style: style,\n      layout: spanSize.layout,\n      fieldProps: {\n        style: {\n          width: '100%'\n        }\n      },\n      formItemProps: formItemFixStyle,\n      groupProps: {\n        titleStyle: {\n          display: 'inline-block',\n          marginInlineEnd: 16\n        }\n      },\n      contentRender: function contentRender(items, renderSubmitter, form) {\n        return /*#__PURE__*/_jsx(QueryFilterContent, {\n          spanSize: spanSize,\n          collapsed: controlCollapsed,\n          form: form,\n          submitterColSpanProps: submitterColSpanProps,\n          collapseRender: collapseRender,\n          defaultCollapsed: defaultCollapsed,\n          onCollapse: onCollapse,\n          optionRender: optionRender,\n          submitter: renderSubmitter,\n          items: items,\n          split: split,\n          baseClassName: baseClassName,\n          resetText: props.resetText,\n          searchText: props.searchText,\n          searchGutter: searchGutter,\n          preserve: preserve,\n          ignoreRules: ignoreRules,\n          showLength: showLength,\n          showHiddenNum: showHiddenNum\n        });\n      }\n    }))\n  }, \"resize-observer\"));\n}\nexport { QueryFilter };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}