{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nvar _excluded = [\"pro_layout_parentKeys\", \"children\", \"icon\", \"flatMenu\", \"indexRoute\", \"routes\"];\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _s, _e;\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n  return _arr;\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e2) {\n          throw _e2;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e3) {\n      didErr = true;\n      err = _e3;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n      _cache.set(Class, Wrapper);\n    }\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n  return _wrapNativeSuper(Class);\n}\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n  return _construct.apply(null, arguments);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\n//@ts-ignore\nimport { pathToRegexp } from '../path-to-regexp';\nimport sha265 from '../sha265';\nexport var childrenPropsName = 'routes';\nexport function stripQueryStringAndHashFromPath(url) {\n  return url.split('?')[0].split('#')[0];\n}\nexport var isUrl = function isUrl(path) {\n  if (!path.startsWith('http')) {\n    return false;\n  }\n  try {\n    var url = new URL(path);\n    return !!url;\n  } catch (error) {\n    return false;\n  }\n};\nexport var getKeyByPath = function getKeyByPath(item) {\n  var path = item.path;\n  if (!path || path === '/') {\n    // 如果还是没有，用对象的hash 生成一个\n    try {\n      return \"/\".concat(sha265(JSON.stringify(item)));\n    } catch (error) {// dom some thing\n    }\n  }\n  return path ? stripQueryStringAndHashFromPath(path) : path;\n};\n/**\n * 获取locale，增加了一个功能，如果 locale = false，将不使用国际化\n * @param item\n * @param parentName\n */\n\nvar getItemLocaleName = function getItemLocaleName(item, parentName) {\n  var name = item.name,\n    locale = item.locale; // 如果配置了 locale 并且 locale 为 false或 \"\"\n\n  if ('locale' in item && locale === false || !name) {\n    return false;\n  }\n  return item.locale || \"\".concat(parentName, \".\").concat(name);\n};\n/**\n * 如果不是 / 开头的和父节点做一下合并\n * 如果是 / 开头的不作任何处理\n * 如果是 url 也直接返回\n * @param path\n * @param parentPath\n */\n\nvar mergePath = function mergePath() {\n  var path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var parentPath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '/';\n  if (path.endsWith('/*')) {\n    return path.replace('/*', '/');\n  }\n  if ((path || parentPath).startsWith('/')) {\n    return path;\n  }\n  if (isUrl(path)) {\n    return path;\n  }\n  return \"/\".concat(parentPath, \"/\").concat(path).replace(/\\/\\//g, '/').replace(/\\/\\//g, '/');\n}; // bigfish 的兼容准话\n\nvar bigfishCompatibleConversions = function bigfishCompatibleConversions(route, props) {\n  var _route$menu = route.menu,\n    menu = _route$menu === void 0 ? {} : _route$menu,\n    indexRoute = route.indexRoute,\n    _route$path = route.path,\n    path = _route$path === void 0 ? '' : _route$path;\n  var routerChildren = route.children || [];\n  var _menu$name = menu.name,\n    name = _menu$name === void 0 ? route.name : _menu$name,\n    _menu$icon = menu.icon,\n    icon = _menu$icon === void 0 ? route.icon : _menu$icon,\n    _menu$hideChildren = menu.hideChildren,\n    hideChildren = _menu$hideChildren === void 0 ? route.hideChildren : _menu$hideChildren,\n    _menu$flatMenu = menu.flatMenu,\n    flatMenu = _menu$flatMenu === void 0 ? route.flatMenu : _menu$flatMenu; // 兼容平铺式写法\n  // 拼接 childrenRoutes, 处理存在 indexRoute 时的逻辑\n\n  var childrenList = indexRoute &&\n  // 如果只有 redirect,不用处理的\n  Object.keys(indexRoute).join(',') !== 'redirect' ? [_objectSpread({\n    path: path,\n    menu: menu\n  }, indexRoute)].concat(routerChildren || []) : routerChildren; // 拼接返回的 menu 数据\n\n  var result = _objectSpread({}, route);\n  if (name) {\n    result.name = name;\n  }\n  if (icon) {\n    result.icon = icon;\n  }\n  if (childrenList && childrenList.length) {\n    /** 在菜单中隐藏子项 */\n    if (hideChildren) {\n      delete result.children;\n      return result;\n    } // 需要重新进行一次\n\n    var finalChildren = formatter(_objectSpread(_objectSpread({}, props), {}, {\n      data: childrenList\n    }), route);\n    /** 在菜单中只隐藏此项，子项往上提，仍旧展示 */\n\n    if (flatMenu) {\n      return finalChildren;\n    }\n    delete result[childrenPropsName];\n  }\n  return result;\n};\nvar notNullArray = function notNullArray(value) {\n  return Array.isArray(value) && value.length > 0;\n};\n/**\n *\n * @param props\n * @param parent\n */\n\nfunction formatter(props) {\n  var parent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    path: '/'\n  };\n  var data = props.data,\n    formatMessage = props.formatMessage,\n    parentName = props.parentName,\n    menuLocale = props.locale;\n  if (!data || !Array.isArray(data)) {\n    return [];\n  }\n  return data.filter(function (item) {\n    if (!item) return false;\n    if (notNullArray(item.children)) return true;\n    if (item.path) return true;\n    if (item.originPath) return true;\n    if (item.layout) return true; // 重定向\n\n    if (item.redirect) return false;\n    if (item.unaccessible) return false;\n    return false;\n  }).filter(function (item) {\n    var _item$menu, _item$menu2;\n    if ((item === null || item === void 0 ? void 0 : (_item$menu = item.menu) === null || _item$menu === void 0 ? void 0 : _item$menu.name) || (item === null || item === void 0 ? void 0 : item.flatMenu) || (item === null || item === void 0 ? void 0 : (_item$menu2 = item.menu) === null || _item$menu2 === void 0 ? void 0 : _item$menu2.flatMenu)) {\n      return true;\n    } // 显示指定在 menu 中隐藏该项\n    // layout 插件的功能，其实不应该存在的\n\n    if (item.menu === false) {\n      return false;\n    }\n    return true;\n  }).map(function (finallyItem) {\n    var item = _objectSpread(_objectSpread({}, finallyItem), {}, {\n      path: finallyItem.path || finallyItem.originPath\n    });\n    if (!item.children && item[childrenPropsName]) {\n      item.children = item[childrenPropsName];\n      delete item[childrenPropsName];\n    } // 是否没有权限查看\n    // 这样就不会显示，是一个兼容性的方式\n\n    if (item.unaccessible) {\n      // eslint-disable-next-line no-param-reassign\n      delete item.name;\n    }\n    if (item.path === '*') {\n      item.path = '.';\n    }\n    if (item.path === '/*') {\n      item.path = '.';\n    }\n    if (!item.path && item.originPath) {\n      item.path = item.originPath;\n    }\n    return item;\n  }).map(function () {\n    var item = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      path: '/'\n    };\n    var routerChildren = item.children || item[childrenPropsName] || [];\n    var path = mergePath(item.path, parent ? parent.path : '/');\n    var name = item.name;\n    var locale = getItemLocaleName(item, parentName || 'menu'); // if enableMenuLocale use item.name,\n    // close menu international\n\n    var localeName = locale !== false && menuLocale !== false && formatMessage && locale ? formatMessage({\n      id: locale,\n      defaultMessage: name\n    }) : name;\n    var _parent$pro_layout_pa = parent.pro_layout_parentKeys,\n      pro_layout_parentKeys = _parent$pro_layout_pa === void 0 ? [] : _parent$pro_layout_pa,\n      children = parent.children,\n      icon = parent.icon,\n      flatMenu = parent.flatMenu,\n      indexRoute = parent.indexRoute,\n      routes = parent.routes,\n      restParent = _objectWithoutProperties(parent, _excluded);\n    var item_pro_layout_parentKeys = new Set([].concat(_toConsumableArray(pro_layout_parentKeys), _toConsumableArray(item.parentKeys || [])));\n    if (parent.key) {\n      item_pro_layout_parentKeys.add(parent.key);\n    }\n    var finallyItem = _objectSpread(_objectSpread(_objectSpread({}, restParent), {}, {\n      menu: undefined\n    }, item), {}, {\n      path: path,\n      locale: locale,\n      key: item.key || getKeyByPath(_objectSpread(_objectSpread({}, item), {}, {\n        path: path\n      })),\n      pro_layout_parentKeys: Array.from(item_pro_layout_parentKeys).filter(function (key) {\n        return key && key !== '/';\n      })\n    });\n    if (localeName) {\n      finallyItem.name = localeName;\n    } else {\n      delete finallyItem.name;\n    }\n    if (finallyItem.menu === undefined) {\n      delete finallyItem.menu;\n    }\n    if (notNullArray(routerChildren)) {\n      var formatterChildren = formatter(_objectSpread(_objectSpread({}, props), {}, {\n        data: routerChildren,\n        parentName: locale || ''\n      }), finallyItem);\n      if (notNullArray(formatterChildren)) {\n        finallyItem.children = formatterChildren;\n      }\n    }\n    return bigfishCompatibleConversions(finallyItem, props);\n  }).flat(1);\n}\n/**\n * 删除 hideInMenu 和 item.name 不存在的\n */\n\nvar defaultFilterMenuData = function defaultFilterMenuData() {\n  var menuData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return menuData.filter(function (item) {\n    return item && (item.name || notNullArray(item.children)) && !item.hideInMenu && !item.redirect;\n  }).map(function (item) {\n    var newItem = _objectSpread({}, item);\n    var routerChildren = newItem.children || item[childrenPropsName] || [];\n    delete newItem[childrenPropsName];\n    if (notNullArray(routerChildren) && !newItem.hideChildrenInMenu && routerChildren.some(function (child) {\n      return child && !!child.name;\n    })) {\n      var newChildren = defaultFilterMenuData(routerChildren);\n      if (newChildren.length) return _objectSpread(_objectSpread({}, newItem), {}, {\n        children: newChildren\n      });\n    }\n    return _objectSpread({}, item);\n  }).filter(function (item) {\n    return item;\n  });\n};\n/**\n * support pathToRegexp get string\n */\n\nvar RouteListMap = /*#__PURE__*/function (_Map) {\n  _inherits(RouteListMap, _Map);\n  var _super = _createSuper(RouteListMap);\n  function RouteListMap() {\n    _classCallCheck(this, RouteListMap);\n    return _super.apply(this, arguments);\n  }\n  _createClass(RouteListMap, [{\n    key: \"get\",\n    value: function get(pathname) {\n      var routeValue;\n      try {\n        // eslint-disable-next-line no-restricted-syntax\n        var _iterator = _createForOfIteratorHelper(this.entries()),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var _step$value = _slicedToArray(_step.value, 2),\n              key = _step$value[0],\n              value = _step$value[1];\n            var path = stripQueryStringAndHashFromPath(key);\n            if (!isUrl(key) && pathToRegexp(path, []).test(pathname)) {\n              routeValue = value;\n              break;\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      } catch (error) {\n        routeValue = undefined;\n      }\n      return routeValue;\n    }\n  }]);\n  return RouteListMap;\n}( /*#__PURE__*/_wrapNativeSuper(Map));\n/**\n * 获取面包屑映射\n * @param MenuDataItem[] menuData 菜单配置\n */\n\nvar getBreadcrumbNameMap = function getBreadcrumbNameMap(menuData) {\n  // Map is used to ensure the order of keys\n  var routerMap = new RouteListMap();\n  var flattenMenuData = function flattenMenuData(data, parent) {\n    data.forEach(function (menuItem) {\n      var routerChildren = menuItem.children || menuItem[childrenPropsName] || [];\n      if (notNullArray(routerChildren)) {\n        flattenMenuData(routerChildren, menuItem);\n      } // Reduce memory usage\n\n      var path = mergePath(menuItem.path, parent ? parent.path : '/');\n      routerMap.set(stripQueryStringAndHashFromPath(path), menuItem);\n    });\n  };\n  flattenMenuData(menuData);\n  return routerMap;\n};\nvar clearChildren = function clearChildren() {\n  var menuData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return menuData.map(function (item) {\n    var routerChildren = item.children || item[childrenPropsName];\n    if (notNullArray(routerChildren)) {\n      var newChildren = clearChildren(routerChildren);\n      if (newChildren.length) return _objectSpread({}, item);\n    }\n    var finallyItem = _objectSpread({}, item);\n    delete finallyItem[childrenPropsName];\n    delete finallyItem.children;\n    return finallyItem;\n  }).filter(function (item) {\n    return item;\n  });\n};\n/**\n * @param routeList 路由配置\n * @param locale 是否使用国际化\n * @param formatMessage 国际化的程序\n * @param ignoreFilter 是否筛选掉不展示的 menuItem 项，plugin-layout需要所有项目来计算布局样式\n * @returns { breadcrumb, menuData}\n */\n\nvar transformRoute = function transformRoute(routeList, locale, formatMessage, ignoreFilter) {\n  var originalMenuData = formatter({\n    data: routeList,\n    formatMessage: formatMessage,\n    locale: locale\n  });\n  var menuData = ignoreFilter ? clearChildren(originalMenuData) : defaultFilterMenuData(originalMenuData); // Map type used for internal logic\n\n  var breadcrumb = getBreadcrumbNameMap(originalMenuData);\n  return {\n    breadcrumb: breadcrumb,\n    menuData: menuData\n  };\n};\nexport default transformRoute;","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_excluded","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","_i","_arr","_n","_d","_s","_e","call","next","done","push","value","length","err","Array","isArray","_createForOfIteratorHelper","o","allowArrayLike","it","F","s","n","e","_e2","f","normalCompletion","didErr","step","_e3","return","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","arguments","apply","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","_wrapNativeSuper","Class","_cache","Map","undefined","_isNativeFunction","has","get","set","Wrapper","_construct","Parent","args","bind","a","Function","sham","Proxy","Boolean","valueOf","fn","toString","indexOf","p","setPrototypeOf","__proto__","getPrototypeOf","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","minLen","_arrayLikeToArray","slice","name","from","test","iter","len","arr2","_objectWithoutProperties","source","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","sourceKeys","keys","ownKeys","object","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","pathToRegexp","sha265","childrenPropsName","stripQueryStringAndHashFromPath","url","split","isUrl","path","startsWith","URL","error","getKeyByPath","item","concat","JSON","stringify","getItemLocaleName","parentName","locale","mergePath","parentPath","endsWith","replace","bigfishCompatibleConversions","route","_route$menu","menu","indexRoute","_route$path","routerChildren","children","_menu$name","_menu$icon","icon","_menu$hideChildren","hideChildren","_menu$flatMenu","flatMenu","childrenList","join","finalChildren","formatter","data","notNullArray","parent","formatMessage","menuLocale","originPath","layout","redirect","unaccessible","_item$menu","_item$menu2","map","finallyItem","localeName","id","defaultMessage","_parent$pro_layout_pa","pro_layout_parentKeys","routes","restParent","item_pro_layout_parentKeys","Set","parentKeys","add","formatterChildren","flat","defaultFilterMenuData","menuData","hideInMenu","newItem","hideChildrenInMenu","some","child","newChildren","RouteListMap","_Map","_super","pathname","routeValue","_iterator","entries","_step","_step$value","getBreadcrumbNameMap","routerMap","flattenMenuData","menuItem","clearChildren","transformRoute","routeList","ignoreFilter","originalMenuData","breadcrumb"],"sources":["D:/LearnDeveloper/ReactJS/student-management-infor/node_modules/@umijs/route-utils/es/transformRoute/transformRoute.js"],"sourcesContent":["function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _excluded = [\"pro_layout_parentKeys\", \"children\", \"icon\", \"flatMenu\", \"indexRoute\", \"routes\"];\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct.bind(); } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//@ts-ignore\nimport { pathToRegexp } from '../path-to-regexp';\nimport sha265 from '../sha265';\nexport var childrenPropsName = 'routes';\nexport function stripQueryStringAndHashFromPath(url) {\n  return url.split('?')[0].split('#')[0];\n}\nexport var isUrl = function isUrl(path) {\n  if (!path.startsWith('http')) {\n    return false;\n  }\n\n  try {\n    var url = new URL(path);\n    return !!url;\n  } catch (error) {\n    return false;\n  }\n};\nexport var getKeyByPath = function getKeyByPath(item) {\n  var path = item.path;\n\n  if (!path || path === '/') {\n    // 如果还是没有，用对象的hash 生成一个\n    try {\n      return \"/\".concat(sha265(JSON.stringify(item)));\n    } catch (error) {// dom some thing\n    }\n  }\n\n  return path ? stripQueryStringAndHashFromPath(path) : path;\n};\n/**\n * 获取locale，增加了一个功能，如果 locale = false，将不使用国际化\n * @param item\n * @param parentName\n */\n\nvar getItemLocaleName = function getItemLocaleName(item, parentName) {\n  var name = item.name,\n      locale = item.locale; // 如果配置了 locale 并且 locale 为 false或 \"\"\n\n  if ('locale' in item && locale === false || !name) {\n    return false;\n  }\n\n  return item.locale || \"\".concat(parentName, \".\").concat(name);\n};\n/**\n * 如果不是 / 开头的和父节点做一下合并\n * 如果是 / 开头的不作任何处理\n * 如果是 url 也直接返回\n * @param path\n * @param parentPath\n */\n\n\nvar mergePath = function mergePath() {\n  var path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var parentPath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '/';\n\n  if (path.endsWith('/*')) {\n    return path.replace('/*', '/');\n  }\n\n  if ((path || parentPath).startsWith('/')) {\n    return path;\n  }\n\n  if (isUrl(path)) {\n    return path;\n  }\n\n  return \"/\".concat(parentPath, \"/\").concat(path).replace(/\\/\\//g, '/').replace(/\\/\\//g, '/');\n}; // bigfish 的兼容准话\n\n\nvar bigfishCompatibleConversions = function bigfishCompatibleConversions(route, props) {\n  var _route$menu = route.menu,\n      menu = _route$menu === void 0 ? {} : _route$menu,\n      indexRoute = route.indexRoute,\n      _route$path = route.path,\n      path = _route$path === void 0 ? '' : _route$path;\n  var routerChildren = route.children || [];\n  var _menu$name = menu.name,\n      name = _menu$name === void 0 ? route.name : _menu$name,\n      _menu$icon = menu.icon,\n      icon = _menu$icon === void 0 ? route.icon : _menu$icon,\n      _menu$hideChildren = menu.hideChildren,\n      hideChildren = _menu$hideChildren === void 0 ? route.hideChildren : _menu$hideChildren,\n      _menu$flatMenu = menu.flatMenu,\n      flatMenu = _menu$flatMenu === void 0 ? route.flatMenu : _menu$flatMenu; // 兼容平铺式写法\n  // 拼接 childrenRoutes, 处理存在 indexRoute 时的逻辑\n\n  var childrenList = indexRoute && // 如果只有 redirect,不用处理的\n  Object.keys(indexRoute).join(',') !== 'redirect' ? [_objectSpread({\n    path: path,\n    menu: menu\n  }, indexRoute)].concat(routerChildren || []) : routerChildren; // 拼接返回的 menu 数据\n\n  var result = _objectSpread({}, route);\n\n  if (name) {\n    result.name = name;\n  }\n\n  if (icon) {\n    result.icon = icon;\n  }\n\n  if (childrenList && childrenList.length) {\n    /** 在菜单中隐藏子项 */\n    if (hideChildren) {\n      delete result.children;\n      return result;\n    } // 需要重新进行一次\n\n\n    var finalChildren = formatter(_objectSpread(_objectSpread({}, props), {}, {\n      data: childrenList\n    }), route);\n    /** 在菜单中只隐藏此项，子项往上提，仍旧展示 */\n\n    if (flatMenu) {\n      return finalChildren;\n    }\n\n    delete result[childrenPropsName];\n  }\n\n  return result;\n};\n\nvar notNullArray = function notNullArray(value) {\n  return Array.isArray(value) && value.length > 0;\n};\n/**\n *\n * @param props\n * @param parent\n */\n\n\nfunction formatter(props) {\n  var parent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    path: '/'\n  };\n  var data = props.data,\n      formatMessage = props.formatMessage,\n      parentName = props.parentName,\n      menuLocale = props.locale;\n\n  if (!data || !Array.isArray(data)) {\n    return [];\n  }\n\n  return data.filter(function (item) {\n    if (!item) return false;\n    if (notNullArray(item.children)) return true;\n    if (item.path) return true;\n    if (item.originPath) return true;\n    if (item.layout) return true; // 重定向\n\n    if (item.redirect) return false;\n    if (item.unaccessible) return false;\n    return false;\n  }).filter(function (item) {\n    var _item$menu, _item$menu2;\n\n    if ((item === null || item === void 0 ? void 0 : (_item$menu = item.menu) === null || _item$menu === void 0 ? void 0 : _item$menu.name) || (item === null || item === void 0 ? void 0 : item.flatMenu) || (item === null || item === void 0 ? void 0 : (_item$menu2 = item.menu) === null || _item$menu2 === void 0 ? void 0 : _item$menu2.flatMenu)) {\n      return true;\n    } // 显示指定在 menu 中隐藏该项\n    // layout 插件的功能，其实不应该存在的\n\n\n    if (item.menu === false) {\n      return false;\n    }\n\n    return true;\n  }).map(function (finallyItem) {\n    var item = _objectSpread(_objectSpread({}, finallyItem), {}, {\n      path: finallyItem.path || finallyItem.originPath\n    });\n\n    if (!item.children && item[childrenPropsName]) {\n      item.children = item[childrenPropsName];\n      delete item[childrenPropsName];\n    } // 是否没有权限查看\n    // 这样就不会显示，是一个兼容性的方式\n\n\n    if (item.unaccessible) {\n      // eslint-disable-next-line no-param-reassign\n      delete item.name;\n    }\n\n    if (item.path === '*') {\n      item.path = '.';\n    }\n\n    if (item.path === '/*') {\n      item.path = '.';\n    }\n\n    if (!item.path && item.originPath) {\n      item.path = item.originPath;\n    }\n\n    return item;\n  }).map(function () {\n    var item = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      path: '/'\n    };\n    var routerChildren = item.children || item[childrenPropsName] || [];\n    var path = mergePath(item.path, parent ? parent.path : '/');\n    var name = item.name;\n    var locale = getItemLocaleName(item, parentName || 'menu'); // if enableMenuLocale use item.name,\n    // close menu international\n\n    var localeName = locale !== false && menuLocale !== false && formatMessage && locale ? formatMessage({\n      id: locale,\n      defaultMessage: name\n    }) : name;\n\n    var _parent$pro_layout_pa = parent.pro_layout_parentKeys,\n        pro_layout_parentKeys = _parent$pro_layout_pa === void 0 ? [] : _parent$pro_layout_pa,\n        children = parent.children,\n        icon = parent.icon,\n        flatMenu = parent.flatMenu,\n        indexRoute = parent.indexRoute,\n        routes = parent.routes,\n        restParent = _objectWithoutProperties(parent, _excluded);\n\n    var item_pro_layout_parentKeys = new Set([].concat(_toConsumableArray(pro_layout_parentKeys), _toConsumableArray(item.parentKeys || [])));\n\n    if (parent.key) {\n      item_pro_layout_parentKeys.add(parent.key);\n    }\n\n    var finallyItem = _objectSpread(_objectSpread(_objectSpread({}, restParent), {}, {\n      menu: undefined\n    }, item), {}, {\n      path: path,\n      locale: locale,\n      key: item.key || getKeyByPath(_objectSpread(_objectSpread({}, item), {}, {\n        path: path\n      })),\n      pro_layout_parentKeys: Array.from(item_pro_layout_parentKeys).filter(function (key) {\n        return key && key !== '/';\n      })\n    });\n\n    if (localeName) {\n      finallyItem.name = localeName;\n    } else {\n      delete finallyItem.name;\n    }\n\n    if (finallyItem.menu === undefined) {\n      delete finallyItem.menu;\n    }\n\n    if (notNullArray(routerChildren)) {\n      var formatterChildren = formatter(_objectSpread(_objectSpread({}, props), {}, {\n        data: routerChildren,\n        parentName: locale || ''\n      }), finallyItem);\n\n      if (notNullArray(formatterChildren)) {\n        finallyItem.children = formatterChildren;\n      }\n    }\n\n    return bigfishCompatibleConversions(finallyItem, props);\n  }).flat(1);\n}\n/**\n * 删除 hideInMenu 和 item.name 不存在的\n */\n\n\nvar defaultFilterMenuData = function defaultFilterMenuData() {\n  var menuData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return menuData.filter(function (item) {\n    return item && (item.name || notNullArray(item.children)) && !item.hideInMenu && !item.redirect;\n  }).map(function (item) {\n    var newItem = _objectSpread({}, item);\n\n    var routerChildren = newItem.children || item[childrenPropsName] || [];\n    delete newItem[childrenPropsName];\n\n    if (notNullArray(routerChildren) && !newItem.hideChildrenInMenu && routerChildren.some(function (child) {\n      return child && !!child.name;\n    })) {\n      var newChildren = defaultFilterMenuData(routerChildren);\n      if (newChildren.length) return _objectSpread(_objectSpread({}, newItem), {}, {\n        children: newChildren\n      });\n    }\n\n    return _objectSpread({}, item);\n  }).filter(function (item) {\n    return item;\n  });\n};\n/**\n * support pathToRegexp get string\n */\n\n\nvar RouteListMap = /*#__PURE__*/function (_Map) {\n  _inherits(RouteListMap, _Map);\n\n  var _super = _createSuper(RouteListMap);\n\n  function RouteListMap() {\n    _classCallCheck(this, RouteListMap);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(RouteListMap, [{\n    key: \"get\",\n    value: function get(pathname) {\n      var routeValue;\n\n      try {\n        // eslint-disable-next-line no-restricted-syntax\n        var _iterator = _createForOfIteratorHelper(this.entries()),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var _step$value = _slicedToArray(_step.value, 2),\n                key = _step$value[0],\n                value = _step$value[1];\n\n            var path = stripQueryStringAndHashFromPath(key);\n\n            if (!isUrl(key) && pathToRegexp(path, []).test(pathname)) {\n              routeValue = value;\n              break;\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      } catch (error) {\n        routeValue = undefined;\n      }\n\n      return routeValue;\n    }\n  }]);\n\n  return RouteListMap;\n}( /*#__PURE__*/_wrapNativeSuper(Map));\n/**\n * 获取面包屑映射\n * @param MenuDataItem[] menuData 菜单配置\n */\n\n\nvar getBreadcrumbNameMap = function getBreadcrumbNameMap(menuData) {\n  // Map is used to ensure the order of keys\n  var routerMap = new RouteListMap();\n\n  var flattenMenuData = function flattenMenuData(data, parent) {\n    data.forEach(function (menuItem) {\n      var routerChildren = menuItem.children || menuItem[childrenPropsName] || [];\n\n      if (notNullArray(routerChildren)) {\n        flattenMenuData(routerChildren, menuItem);\n      } // Reduce memory usage\n\n\n      var path = mergePath(menuItem.path, parent ? parent.path : '/');\n      routerMap.set(stripQueryStringAndHashFromPath(path), menuItem);\n    });\n  };\n\n  flattenMenuData(menuData);\n  return routerMap;\n};\n\nvar clearChildren = function clearChildren() {\n  var menuData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return menuData.map(function (item) {\n    var routerChildren = item.children || item[childrenPropsName];\n\n    if (notNullArray(routerChildren)) {\n      var newChildren = clearChildren(routerChildren);\n      if (newChildren.length) return _objectSpread({}, item);\n    }\n\n    var finallyItem = _objectSpread({}, item);\n\n    delete finallyItem[childrenPropsName];\n    delete finallyItem.children;\n    return finallyItem;\n  }).filter(function (item) {\n    return item;\n  });\n};\n/**\n * @param routeList 路由配置\n * @param locale 是否使用国际化\n * @param formatMessage 国际化的程序\n * @param ignoreFilter 是否筛选掉不展示的 menuItem 项，plugin-layout需要所有项目来计算布局样式\n * @returns { breadcrumb, menuData}\n */\n\n\nvar transformRoute = function transformRoute(routeList, locale, formatMessage, ignoreFilter) {\n  var originalMenuData = formatter({\n    data: routeList,\n    formatMessage: formatMessage,\n    locale: locale\n  });\n  var menuData = ignoreFilter ? clearChildren(originalMenuData) : defaultFilterMenuData(originalMenuData); // Map type used for internal logic\n\n  var breadcrumb = getBreadcrumbNameMap(originalMenuData);\n  return {\n    breadcrumb: breadcrumb,\n    menuData: menuData\n  };\n};\n\nexport default transformRoute;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}