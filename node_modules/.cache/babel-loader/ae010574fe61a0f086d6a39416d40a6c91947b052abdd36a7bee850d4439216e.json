{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useCallback, useRef, useState } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nfunction FieldHOC(props) {\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    labelTrigger = _useState2[0],\n    setLabelTrigger = _useState2[1];\n  var lightLabel = useRef(null);\n\n  // 是label且不是label里面的clear图标触发事件\n  var isTriggeredByLabel = useCallback(function (e) {\n    var _lightLabel$current, _lightLabel$current$l, _lightLabel$current$l2, _lightLabel$current2, _lightLabel$current2$, _lightLabel$current2$2;\n    // 两条语句结果分别命名，可读性好点\n    var isLabelMouseDown = (_lightLabel$current = lightLabel.current) === null || _lightLabel$current === void 0 ? void 0 : (_lightLabel$current$l = _lightLabel$current.labelRef) === null || _lightLabel$current$l === void 0 ? void 0 : (_lightLabel$current$l2 = _lightLabel$current$l.current) === null || _lightLabel$current$l2 === void 0 ? void 0 : _lightLabel$current$l2.contains(e.target);\n    var isClearMouseDown = (_lightLabel$current2 = lightLabel.current) === null || _lightLabel$current2 === void 0 ? void 0 : (_lightLabel$current2$ = _lightLabel$current2.clearRef) === null || _lightLabel$current2$ === void 0 ? void 0 : (_lightLabel$current2$2 = _lightLabel$current2$.current) === null || _lightLabel$current2$2 === void 0 ? void 0 : _lightLabel$current2$2.contains(e.target);\n    return isLabelMouseDown && !isClearMouseDown;\n  }, [lightLabel]);\n  var handleMouseDown = function handleMouseDown(e) {\n    if (isTriggeredByLabel(e)) {\n      setLabelTrigger(true);\n    }\n  };\n  var handleMouseUp = function handleMouseUp() {\n    setLabelTrigger(false);\n  };\n  if (props.isLight) {\n    return /*#__PURE__*/_jsx(\"div\", {\n      onMouseDown: handleMouseDown,\n      onMouseUp: handleMouseUp,\n      children: /*#__PURE__*/React.cloneElement(props.children, {\n        labelTrigger: labelTrigger,\n        lightLabel: lightLabel\n      })\n    });\n  }\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: props.children\n  });\n}\nexport default FieldHOC;","map":{"version":3,"names":["_slicedToArray","React","useCallback","useRef","useState","jsx","_jsx","Fragment","_Fragment","FieldHOC","props","_useState","_useState2","labelTrigger","setLabelTrigger","lightLabel","isTriggeredByLabel","e","_lightLabel$current","_lightLabel$current$l","_lightLabel$current$l2","_lightLabel$current2","_lightLabel$current2$","_lightLabel$current2$2","isLabelMouseDown","current","labelRef","contains","target","isClearMouseDown","clearRef","handleMouseDown","handleMouseUp","isLight","onMouseDown","onMouseUp","children","cloneElement"],"sources":["D:/LearnDeveloper/ReactJS/student-management-infor/node_modules/@ant-design/pro-field/es/FieldHOC/index.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useCallback, useRef, useState } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nfunction FieldHOC(props) {\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    labelTrigger = _useState2[0],\n    setLabelTrigger = _useState2[1];\n  var lightLabel = useRef(null);\n\n  // 是label且不是label里面的clear图标触发事件\n  var isTriggeredByLabel = useCallback(function (e) {\n    var _lightLabel$current, _lightLabel$current$l, _lightLabel$current$l2, _lightLabel$current2, _lightLabel$current2$, _lightLabel$current2$2;\n    // 两条语句结果分别命名，可读性好点\n    var isLabelMouseDown = (_lightLabel$current = lightLabel.current) === null || _lightLabel$current === void 0 ? void 0 : (_lightLabel$current$l = _lightLabel$current.labelRef) === null || _lightLabel$current$l === void 0 ? void 0 : (_lightLabel$current$l2 = _lightLabel$current$l.current) === null || _lightLabel$current$l2 === void 0 ? void 0 : _lightLabel$current$l2.contains(e.target);\n    var isClearMouseDown = (_lightLabel$current2 = lightLabel.current) === null || _lightLabel$current2 === void 0 ? void 0 : (_lightLabel$current2$ = _lightLabel$current2.clearRef) === null || _lightLabel$current2$ === void 0 ? void 0 : (_lightLabel$current2$2 = _lightLabel$current2$.current) === null || _lightLabel$current2$2 === void 0 ? void 0 : _lightLabel$current2$2.contains(e.target);\n    return isLabelMouseDown && !isClearMouseDown;\n  }, [lightLabel]);\n  var handleMouseDown = function handleMouseDown(e) {\n    if (isTriggeredByLabel(e)) {\n      setLabelTrigger(true);\n    }\n  };\n  var handleMouseUp = function handleMouseUp() {\n    setLabelTrigger(false);\n  };\n  if (props.isLight) {\n    return /*#__PURE__*/_jsx(\"div\", {\n      onMouseDown: handleMouseDown,\n      onMouseUp: handleMouseUp,\n      children: /*#__PURE__*/React.cloneElement(props.children, {\n        labelTrigger: labelTrigger,\n        lightLabel: lightLabel\n      })\n    });\n  }\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: props.children\n  });\n}\nexport default FieldHOC;"],"mappings":"AAAA,OAAOA,cAAc,MAAM,0CAA0C;AACrE,OAAOC,KAAK,IAAIC,WAAW,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC5D,SAASC,GAAG,IAAIC,IAAI,QAAQ,mBAAmB;AAC/C,SAASC,QAAQ,IAAIC,SAAS,QAAQ,mBAAmB;AACzD,SAASC,QAAQA,CAACC,KAAK,EAAE;EACvB,IAAIC,SAAS,GAAGP,QAAQ,CAAC,KAAK,CAAC;IAC7BQ,UAAU,GAAGZ,cAAc,CAACW,SAAS,EAAE,CAAC,CAAC;IACzCE,YAAY,GAAGD,UAAU,CAAC,CAAC,CAAC;IAC5BE,eAAe,GAAGF,UAAU,CAAC,CAAC,CAAC;EACjC,IAAIG,UAAU,GAAGZ,MAAM,CAAC,IAAI,CAAC;;EAE7B;EACA,IAAIa,kBAAkB,GAAGd,WAAW,CAAC,UAAUe,CAAC,EAAE;IAChD,IAAIC,mBAAmB,EAAEC,qBAAqB,EAAEC,sBAAsB,EAAEC,oBAAoB,EAAEC,qBAAqB,EAAEC,sBAAsB;IAC3I;IACA,IAAIC,gBAAgB,GAAG,CAACN,mBAAmB,GAAGH,UAAU,CAACU,OAAO,MAAM,IAAI,IAAIP,mBAAmB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,CAACC,qBAAqB,GAAGD,mBAAmB,CAACQ,QAAQ,MAAM,IAAI,IAAIP,qBAAqB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,CAACC,sBAAsB,GAAGD,qBAAqB,CAACM,OAAO,MAAM,IAAI,IAAIL,sBAAsB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,sBAAsB,CAACO,QAAQ,CAACV,CAAC,CAACW,MAAM,CAAC;IAClY,IAAIC,gBAAgB,GAAG,CAACR,oBAAoB,GAAGN,UAAU,CAACU,OAAO,MAAM,IAAI,IAAIJ,oBAAoB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,CAACC,qBAAqB,GAAGD,oBAAoB,CAACS,QAAQ,MAAM,IAAI,IAAIR,qBAAqB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,CAACC,sBAAsB,GAAGD,qBAAqB,CAACG,OAAO,MAAM,IAAI,IAAIF,sBAAsB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,sBAAsB,CAACI,QAAQ,CAACV,CAAC,CAACW,MAAM,CAAC;IACrY,OAAOJ,gBAAgB,IAAI,CAACK,gBAAgB;EAC9C,CAAC,EAAE,CAACd,UAAU,CAAC,CAAC;EAChB,IAAIgB,eAAe,GAAG,SAASA,eAAeA,CAACd,CAAC,EAAE;IAChD,IAAID,kBAAkB,CAACC,CAAC,CAAC,EAAE;MACzBH,eAAe,CAAC,IAAI,CAAC;IACvB;EACF,CAAC;EACD,IAAIkB,aAAa,GAAG,SAASA,aAAaA,CAAA,EAAG;IAC3ClB,eAAe,CAAC,KAAK,CAAC;EACxB,CAAC;EACD,IAAIJ,KAAK,CAACuB,OAAO,EAAE;IACjB,OAAO,aAAa3B,IAAI,CAAC,KAAK,EAAE;MAC9B4B,WAAW,EAAEH,eAAe;MAC5BI,SAAS,EAAEH,aAAa;MACxBI,QAAQ,EAAE,aAAanC,KAAK,CAACoC,YAAY,CAAC3B,KAAK,CAAC0B,QAAQ,EAAE;QACxDvB,YAAY,EAAEA,YAAY;QAC1BE,UAAU,EAAEA;MACd,CAAC;IACH,CAAC,CAAC;EACJ;EACA,OAAO,aAAaT,IAAI,CAACE,SAAS,EAAE;IAClC4B,QAAQ,EAAE1B,KAAK,CAAC0B;EAClB,CAAC,CAAC;AACJ;AACA,eAAe3B,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}